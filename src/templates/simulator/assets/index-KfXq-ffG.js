var jI=Object.defineProperty;var II=(t,e,n)=>e in t?jI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ie=(t,e,n)=>II(t,typeof e!="symbol"?e+"":e,n);function zI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r1={exports:{}},qm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function FI(){if(DR)return qm;DR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return qm.Fragment=e,qm.jsx=n,qm.jsxs=n,qm}var NR;function HI(){return NR||(NR=1,r1.exports=FI()),r1.exports}var g=HI(),s1={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function BI(){if(LR)return xt;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function _(L,ee,ue){this.props=L,this.context=ee,this.refs=S,this.updater=ue||w}_.prototype.isReactComponent={},_.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=_.prototype;function M(L,ee,ue){this.props=L,this.context=ee,this.refs=S,this.updater=ue||w}var k=M.prototype=new R;k.constructor=M,C(k,_.prototype),k.isPureReactComponent=!0;var D=Array.isArray,P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(L,ee,ue,V,fe,be){return ue=be.ref,{$$typeof:t,type:L,key:ee,ref:ue!==void 0?ue:null,props:be}}function B(L,ee){return j(L.type,ee,void 0,void 0,void 0,L.props)}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return ee[ue]})}var Q=/\/+/g;function Z(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):ee.toString(36)}function ne(){}function H(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ne,ne):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,ee,ue,V,fe){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case t:case e:ve=!0;break;case f:return ve=L._init,Y(ve(L._payload),ee,ue,V,fe)}}if(ve)return fe=fe(L),ve=V===""?"."+Z(L,0):V,D(fe)?(ue="",ve!=null&&(ue=ve.replace(Q,"$&/")+"/"),Y(fe,ee,ue,"",function(ke){return ke})):fe!=null&&(W(fe)&&(fe=B(fe,ue+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(Q,"$&/")+"/")+ve)),ee.push(fe)),1;ve=0;var Ce=V===""?".":V+":";if(D(L))for(var Ee=0;Ee<L.length;Ee++)V=L[Ee],be=Ce+Z(V,Ee),ve+=Y(V,ee,ue,be,fe);else if(Ee=v(L),typeof Ee=="function")for(L=Ee.call(L),Ee=0;!(V=L.next()).done;)V=V.value,be=Ce+Z(V,Ee++),ve+=Y(V,ee,ue,be,fe);else if(be==="object"){if(typeof L.then=="function")return Y(H(L),ee,ue,V,fe);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ve}function U(L,ee,ue){if(L==null)return L;var V=[],fe=0;return Y(L,V,"","",function(be){return ee.call(ue,be,fe++)}),V}function J(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var X=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function K(){}return xt.Children={map:U,forEach:function(L,ee,ue){U(L,function(){ee.apply(this,arguments)},ue)},count:function(L){var ee=0;return U(L,function(){ee++}),ee},toArray:function(L){return U(L,function(ee){return ee})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xt.Component=_,xt.Fragment=n,xt.Profiler=r,xt.PureComponent=M,xt.StrictMode=i,xt.Suspense=c,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(L){return function(){return L.apply(null,arguments)}},xt.cloneElement=function(L,ee,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var V=C({},L.props),fe=L.key,be=void 0;if(ee!=null)for(ve in ee.ref!==void 0&&(be=void 0),ee.key!==void 0&&(fe=""+ee.key),ee)!O.call(ee,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ee.ref===void 0||(V[ve]=ee[ve]);var ve=arguments.length-2;if(ve===1)V.children=ue;else if(1<ve){for(var Ce=Array(ve),Ee=0;Ee<ve;Ee++)Ce[Ee]=arguments[Ee+2];V.children=Ce}return j(L.type,fe,void 0,void 0,be,V)},xt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},xt.createElement=function(L,ee,ue){var V,fe={},be=null;if(ee!=null)for(V in ee.key!==void 0&&(be=""+ee.key),ee)O.call(ee,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(fe[V]=ee[V]);var ve=arguments.length-2;if(ve===1)fe.children=ue;else if(1<ve){for(var Ce=Array(ve),Ee=0;Ee<ve;Ee++)Ce[Ee]=arguments[Ee+2];fe.children=Ce}if(L&&L.defaultProps)for(V in ve=L.defaultProps,ve)fe[V]===void 0&&(fe[V]=ve[V]);return j(L,be,void 0,void 0,null,fe)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(L){return{$$typeof:l,render:L}},xt.isValidElement=W,xt.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:J}},xt.memo=function(L,ee){return{$$typeof:d,type:L,compare:ee===void 0?null:ee}},xt.startTransition=function(L){var ee=P.T,ue={};P.T=ue;try{var V=L(),fe=P.S;fe!==null&&fe(ue,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(K,X)}catch(be){X(be)}finally{P.T=ee}},xt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},xt.use=function(L){return P.H.use(L)},xt.useActionState=function(L,ee,ue){return P.H.useActionState(L,ee,ue)},xt.useCallback=function(L,ee){return P.H.useCallback(L,ee)},xt.useContext=function(L){return P.H.useContext(L)},xt.useDebugValue=function(){},xt.useDeferredValue=function(L,ee){return P.H.useDeferredValue(L,ee)},xt.useEffect=function(L,ee){return P.H.useEffect(L,ee)},xt.useId=function(){return P.H.useId()},xt.useImperativeHandle=function(L,ee,ue){return P.H.useImperativeHandle(L,ee,ue)},xt.useInsertionEffect=function(L,ee){return P.H.useInsertionEffect(L,ee)},xt.useLayoutEffect=function(L,ee){return P.H.useLayoutEffect(L,ee)},xt.useMemo=function(L,ee){return P.H.useMemo(L,ee)},xt.useOptimistic=function(L,ee){return P.H.useOptimistic(L,ee)},xt.useReducer=function(L,ee,ue){return P.H.useReducer(L,ee,ue)},xt.useRef=function(L){return P.H.useRef(L)},xt.useState=function(L){return P.H.useState(L)},xt.useSyncExternalStore=function(L,ee,ue){return P.H.useSyncExternalStore(L,ee,ue)},xt.useTransition=function(){return P.H.useTransition()},xt.version="19.0.0",xt}var OR;function Yg(){return OR||(OR=1,s1.exports=BI()),s1.exports}var x=Yg();const jt=qg(x),ua=zI({__proto__:null,default:jt},[x]);var o1={exports:{}},Ym={},a1={exports:{}},l1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function UI(){return PR||(PR=1,function(t){function e(U,J){var X=U.length;U.push(J);e:for(;0<X;){var K=X-1>>>1,L=U[K];if(0<r(L,J))U[K]=J,U[X]=L,X=K;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var J=U[0],X=U.pop();if(X!==J){U[0]=X;e:for(var K=0,L=U.length,ee=L>>>1;K<ee;){var ue=2*(K+1)-1,V=U[ue],fe=ue+1,be=U[fe];if(0>r(V,X))fe<L&&0>r(be,V)?(U[K]=be,U[fe]=X,K=fe):(U[K]=V,U[ue]=X,K=ue);else if(fe<L&&0>r(be,X))U[K]=be,U[fe]=X,K=fe;else break e}}return J}function r(U,J){var X=U.sortIndex-J.sortIndex;return X!==0?X:U.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,v=3,w=!1,C=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(U){for(var J=n(d);J!==null;){if(J.callback===null)i(d);else if(J.startTime<=U)i(d),J.sortIndex=J.expirationTime,e(c,J);else break;J=n(d)}}function D(U){if(S=!1,k(U),!C)if(n(c)!==null)C=!0,H();else{var J=n(d);J!==null&&Y(D,J.startTime-U)}}var P=!1,O=-1,j=5,B=-1;function W(){return!(t.unstable_now()-B<j)}function z(){if(P){var U=t.unstable_now();B=U;var J=!0;try{e:{C=!1,S&&(S=!1,R(O),O=-1),w=!0;var X=v;try{t:{for(k(U),m=n(c);m!==null&&!(m.expirationTime>U&&W());){var K=m.callback;if(typeof K=="function"){m.callback=null,v=m.priorityLevel;var L=K(m.expirationTime<=U);if(U=t.unstable_now(),typeof L=="function"){m.callback=L,k(U),J=!0;break t}m===n(c)&&i(c),k(U)}else i(c);m=n(c)}if(m!==null)J=!0;else{var ee=n(d);ee!==null&&Y(D,ee.startTime-U),J=!1}}break e}finally{m=null,v=X,w=!1}J=void 0}}finally{J?Q():P=!1}}}var Q;if(typeof M=="function")Q=function(){M(z)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ne=Z.port2;Z.port1.onmessage=z,Q=function(){ne.postMessage(null)}}else Q=function(){_(z,0)};function H(){P||(P=!0,Q())}function Y(U,J){O=_(function(){U(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,H())},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var X=v;v=J;try{return U()}finally{v=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=v;v=U;try{return J()}finally{v=X}},t.unstable_scheduleCallback=function(U,J,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=X+L,U={id:f++,callback:J,priorityLevel:U,startTime:X,expirationTime:L,sortIndex:-1},X>K?(U.sortIndex=X,e(d,U),n(c)===null&&U===n(d)&&(S?(R(O),O=-1):S=!0,Y(D,X-K))):(U.sortIndex=L,e(c,U),C||w||(C=!0,H())),U},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(U){var J=v;return function(){var X=v;v=J;try{return U.apply(this,arguments)}finally{v=X}}}}(l1)),l1}var jR;function $I(){return jR||(jR=1,a1.exports=UI()),a1.exports}var u1={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function VI(){if(IR)return Mi;IR=1;var t=Yg();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:c,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mi.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,f)},Mi.flushSync=function(c){var d=o.T,f=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=d,i.p=f,i.d.f()}},Mi.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(c,d))},Mi.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Mi.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):f==="script"&&i.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mi.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(c)},Mi.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);i.d.L(c,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mi.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(c)},Mi.requestFormReset=function(c){i.d.r(c)},Mi.unstable_batchedUpdates=function(c,d){return c(d)},Mi.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},Mi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Mi.version="19.0.0",Mi}var zR;function pA(){if(zR)return u1.exports;zR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u1.exports=VI(),u1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function WI(){if(FR)return Ym;FR=1;var t=$I(),e=Yg(),n=pA();function i(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case l:return"Portal";case f:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case w:return(a.displayName||"Context")+".Provider";case v:return(a._context.displayName||"Context")+".Consumer";case C:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return u=a.displayName||null,u!==null?u:B(a.type)||"Memo";case M:u=a._payload,a=a._init;try{return B(a(u))}catch{}}return null}var W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,Q,Z;function ne(a){if(Q===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Q=u&&u[1]||"",Z=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+a+Z}var H=!1;function Y(a,u){if(!a||H)return"";H=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var me=Se}Reflect.construct(a,[],Me)}else{try{Me.call()}catch(Se){me=Se}a.call(Me.prototype)}}else{try{throw Error()}catch(Se){me=Se}(Me=a())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&me&&typeof Se.stack=="string")return[Se.stack,me.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=y.DetermineComponentFrameRoot(),I=A[0],G=A[1];if(I&&G){var ie=I.split(`
`),le=G.split(`
`);for(E=y=0;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;for(;E<le.length&&!le[E].includes("DetermineComponentFrameRoot");)E++;if(y===ie.length||E===le.length)for(y=ie.length-1,E=le.length-1;1<=y&&0<=E&&ie[y]!==le[E];)E--;for(;1<=y&&0<=E;y--,E--)if(ie[y]!==le[E]){if(y!==1||E!==1)do if(y--,E--,0>E||ie[y]!==le[E]){var Re=`
`+ie[y].replace(" at new "," at ");return a.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",a.displayName)),Re}while(1<=y&&0<=E);break}}}finally{H=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ne(h):""}function U(a){switch(a.tag){case 26:case 27:case 5:return ne(a.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return a=Y(a.type,!1),a;case 11:return a=Y(a.type.render,!1),a;case 1:return a=Y(a.type,!0),a;default:return""}}function J(a){try{var u="";do u+=U(a),a=a.return;while(a);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function X(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function K(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function L(a){if(X(a)!==a)throw Error(i(188))}function ee(a){var u=a.alternate;if(!u){if(u=X(a),u===null)throw Error(i(188));return u!==a?null:a}for(var h=a,y=u;;){var E=h.return;if(E===null)break;var A=E.alternate;if(A===null){if(y=E.return,y!==null){h=y;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===h)return L(E),a;if(A===y)return L(E),u;A=A.sibling}throw Error(i(188))}if(h.return!==y.return)h=E,y=A;else{for(var I=!1,G=E.child;G;){if(G===h){I=!0,h=E,y=A;break}if(G===y){I=!0,y=E,h=A;break}G=G.sibling}if(!I){for(G=A.child;G;){if(G===h){I=!0,h=A,y=E;break}if(G===y){I=!0,y=A,h=E;break}G=G.sibling}if(!I)throw Error(i(189))}}if(h.alternate!==y)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:u}function ue(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=ue(a),u!==null)return u;a=a.sibling}return null}var V=Array.isArray,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},ve=[],Ce=-1;function Ee(a){return{current:a}}function ke(a){0>Ce||(a.current=ve[Ce],ve[Ce]=null,Ce--)}function je(a,u){Ce++,ve[Ce]=a.current,a.current=u}var Ne=Ee(null),ye=Ee(null),Oe=Ee(null),ze=Ee(null);function Qe(a,u){switch(je(Oe,u),je(ye,a),je(Ne,null),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?ey(u):0;break;default:if(a=a===8?u.parentNode:u,u=a.tagName,a=a.namespaceURI)a=ey(a),u=ty(a,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ke(Ne),je(Ne,u)}function gt(){ke(Ne),ke(ye),ke(Oe)}function bt(a){a.memoizedState!==null&&je(ze,a);var u=Ne.current,h=ty(u,a.type);u!==h&&(je(ye,a),je(Ne,h))}function tn(a){ye.current===a&&(ke(Ne),ke(ye)),ze.current===a&&(ke(ze),jc._currentValue=be)}var yt=Object.prototype.hasOwnProperty,dn=t.unstable_scheduleCallback,an=t.unstable_cancelCallback,Xn=t.unstable_shouldYield,ti=t.unstable_requestPaint,Fn=t.unstable_now,ni=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,Le=t.unstable_UserBlockingPriority,Xe=t.unstable_NormalPriority,st=t.unstable_LowPriority,ft=t.unstable_IdlePriority,kn=t.log,Kn=t.unstable_setDisableYieldValue,hn=null,ln=null;function Oi(a){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(hn,a,void 0,(a.current.flags&128)===128)}catch{}}function Xt(a){if(typeof kn=="function"&&Kn(a),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(hn,a)}catch{}}var rn=Math.clz32?Math.clz32:Iu,hi=Math.log,cl=Math.LN2;function Iu(a){return a>>>=0,a===0?32:31-(hi(a)/cl|0)|0}var Qr=128,es=4194304;function Qi(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Rs(a,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,E=a.suspendedLanes,A=a.pingedLanes,I=a.warmLanes;a=a.finishedLanes!==0;var G=h&134217727;return G!==0?(h=G&~E,h!==0?y=Qi(h):(A&=G,A!==0?y=Qi(A):a||(I=G&~I,I!==0&&(y=Qi(I))))):(G=h&~E,G!==0?y=Qi(G):A!==0?y=Qi(A):a||(I=h&~I,I!==0&&(y=Qi(I)))),y===0?0:u!==0&&u!==y&&(u&E)===0&&(E=y&-y,I=u&-u,E>=I||E===32&&(I&4194176)!==0)?u:y}function ts(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function zu(a,u){switch(a){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var a=Qr;return Qr<<=1,(Qr&4194176)===0&&(Qr=128),a}function bd(){var a=es;return es<<=1,(es&62914560)===0&&(es=4194304),a}function Hu(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function fa(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Bu(a,u,h,y,E,A){var I=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var G=a.entanglements,ie=a.expirationTimes,le=a.hiddenUpdates;for(h=I&~h;0<h;){var Re=31-rn(h),Me=1<<Re;G[Re]=0,ie[Re]=-1;var me=le[Re];if(me!==null)for(le[Re]=null,Re=0;Re<me.length;Re++){var Se=me[Re];Se!==null&&(Se.lane&=-536870913)}h&=~Me}y!==0&&yd(a,y,0),A!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=A&~(I&~u))}function yd(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var y=31-rn(u);a.entangledLanes|=u,a.entanglements[y]=a.entanglements[y]|1073741824|h&4194218}function dl(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var y=31-rn(h),E=1<<y;E&u|a[y]&u&&(a[y]|=u),h&=~E}}function wd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xd(){var a=fe.p;return a!==0?a:(a=window.event,a===void 0?32:fy(a.type))}function Gf(a,u){var h=fe.p;try{return fe.p=a,u()}finally{fe.p=h}}var ns=Math.random().toString(36).slice(2),Gn="__reactFiber$"+ns,ii="__reactProps$"+ns,Ts="__reactContainer$"+ns,hl="__reactEvents$"+ns,Cd="__reactListeners$"+ns,qf="__reactHandles$"+ns,Ed="__reactResources$"+ns,pa="__reactMarker$"+ns;function Uu(a){delete a[Gn],delete a[ii],delete a[hl],delete a[Cd],delete a[qf]}function _s(a){var u=a[Gn];if(u)return u;for(var h=a.parentNode;h;){if(u=h[Ts]||h[Gn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=iy(a);a!==null;){if(h=a[Gn])return h;a=iy(a)}return u}a=h,h=a.parentNode}return null}function go(a){if(a=a[Gn]||a[Ts]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function wr(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(i(33))}function vo(a){var u=a[Ed];return u||(u=a[Ed]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function bn(a){a[pa]=!0}var Sd=new Set,Rd={};function As(a,u){ks(a,u),ks(a+"Capture",u)}function ks(a,u){for(Rd[a]=u,a=0;a<u.length;a++)Sd.add(u[a])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Td={},_d={};function Yf(a){return yt.call(_d,a)?!0:yt.call(Td,a)?!1:$u.test(a)?_d[a]=!0:(Td[a]=!0,!1)}function fl(a,u,h){if(Yf(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function ma(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function tr(a,u,h,y){if(y===null)a.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+y)}}function fi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ms(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Xf(a){var u=Ms(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var E=h.get,A=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return E.call(this)},set:function(I){y=""+I,A.call(this,I)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function ga(a){a._valueTracker||(a._valueTracker=Xf(a))}function Ds(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return a&&(y=Ms(a)?a.checked?"true":"false":a.value),a=y,a!==h?(u.setValue(a),!0):!1}function va(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Kf=/[\n"\\]/g;function ri(a){return a.replace(Kf,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ad(a,u,h,y,E,A,I,G){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),u!=null?I==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+fi(u)):a.value!==""+fi(u)&&(a.value=""+fi(u)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),u!=null?Jf(a,I,fi(u)):h!=null?Jf(a,I,fi(h)):y!=null&&a.removeAttribute("value"),E==null&&A!=null&&(a.defaultChecked=!!A),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+fi(G):a.removeAttribute("name")}function kd(a,u,h,y,E,A,I,G){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),u!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||u!=null))return;h=h!=null?""+fi(h):"",u=u!=null?""+fi(u):h,G||u===a.value||(a.value=u),a.defaultValue=u}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=G?a.checked:!!y,a.defaultChecked=!!y,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function Jf(a,u,h){u==="number"&&va(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ba(a,u,h,y){if(a=a.options,u){u={};for(var E=0;E<h.length;E++)u["$"+h[E]]=!0;for(h=0;h<a.length;h++)E=u.hasOwnProperty("$"+a[h].value),a[h].selected!==E&&(a[h].selected=E),E&&y&&(a[h].defaultSelected=!0)}else{for(h=""+fi(h),u=null,E=0;E<a.length;E++){if(a[E].value===h){a[E].selected=!0,y&&(a[E].defaultSelected=!0);return}u!==null||a[E].disabled||(u=a[E])}u!==null&&(u.selected=!0)}}function Md(a,u,h){if(u!=null&&(u=""+fi(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+fi(h):""}function Dd(a,u,h,y){if(u==null){if(y!=null){if(h!=null)throw Error(i(92));if(V(y)){if(1<y.length)throw Error(i(93));y=y[0]}h=y}h==null&&(h=""),u=h}h=fi(u),a.defaultValue=h,y=a.textContent,y===h&&y!==""&&y!==null&&(a.value=y)}function xr(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var yv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(a,u,h){var y=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":y?a.setProperty(u,h):typeof h!="number"||h===0||yv.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function wv(a,u,h){if(u!=null&&typeof u!="object")throw Error(i(62));if(a=a.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var E in u)y=u[E],u.hasOwnProperty(E)&&h[E]!==y&&Zf(a,E,y)}else for(var A in u)u.hasOwnProperty(A)&&Zf(a,A,u[A])}function Nd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vu(a){return Cv.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Qf=null;function ep(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var pl=null,ya=null;function Ev(a){var u=go(a);if(u&&(a=u.stateNode)){var h=a[ii]||null;e:switch(a=u.stateNode,u.type){case"input":if(Ad(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ri(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==a&&y.form===a.form){var E=y[ii]||null;if(!E)throw Error(i(90));Ad(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<h.length;u++)y=h[u],y.form===a.form&&Ds(y)}break e;case"textarea":Md(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ba(a,!!h.multiple,u,!1)}}}var tp=!1;function Sv(a,u,h){if(tp)return a(u,h);tp=!0;try{var y=a(u);return y}finally{if(tp=!1,(pl!==null||ya!==null)&&(Sh(),pl&&(u=pl,a=ya,ya=pl=null,Ev(u),a)))for(u=0;u<a.length;u++)Ev(a[u])}}function Wu(a,u){var h=a.stateNode;if(h===null)return null;var y=h[ii]||null;if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,u,typeof h));return h}var Gu=!1;if(er)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Gu=!1}var bo=null,np=null,Ld=null;function Rv(){if(Ld)return Ld;var a,u=np,h=u.length,y,E="value"in bo?bo.value:bo.textContent,A=E.length;for(a=0;a<h&&u[a]===E[a];a++);var I=h-a;for(y=1;y<=I&&u[h-y]===E[A-y];y++);return Ld=E.slice(a,1<y?1-y:void 0)}function Kt(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Yt(){return!0}function Tv(){return!1}function Si(a){function u(h,y,E,A,I){this._reactName=h,this._targetInst=E,this.type=y,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(h=a[G],this[G]=h?h(A):A[G]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Yt:Tv,this.isPropagationStopped=Tv,this}return z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),u}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=Si(wa),Yu=z({},wa,{view:0,detail:0}),Jw=Si(Yu),Pd,ip,Mn,ml=z({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mn&&(Mn&&a.type==="mousemove"?(Pd=a.screenX-Mn.screenX,ip=a.screenY-Mn.screenY):ip=Pd=0,Mn=a),Pd)},movementY:function(a){return"movementY"in a?a.movementY:ip}}),yo=Si(ml),_v=z({},ml,{dataTransfer:0}),rp=Si(_v),nr=z({},Yu,{relatedTarget:0}),jd=Si(nr),Av=z({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=Si(Av),Mv=z({},wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Dv=Si(Mv),Nv=z({},wa,{data:0}),Ri=Si(Nv),Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Qw[a])?!!u[a]:!1}function is(){return Lv}var Id=z({},Yu,{key:function(a){if(a.key){var u=Zw[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Kt(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ir[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(a){return a.type==="keypress"?Kt(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kt(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sp=Si(Id),fn=z({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ns=Si(fn),op=z({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),ex=Si(op),ap=z({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),tx=Si(ap),nx=z({},ml,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ix=Si(nx),Ov=z({},wa,{newState:0,oldState:0}),zd=Si(Ov),gl=[9,13,27,32],lp=er&&"CompositionEvent"in window,vl=null;er&&"documentMode"in document&&(vl=document.documentMode);var Pv=er&&"TextEvent"in window&&!vl,Fd=er&&(!lp||vl&&8<vl&&11>=vl),Hd=" ",up=!1;function jv(a,u){switch(a){case"keyup":return gl.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var wo=!1;function rx(a,u){switch(a){case"compositionend":return Bd(u);case"keypress":return u.which!==32?null:(up=!0,Hd);case"textInput":return a=u.data,a===Hd&&up?null:a;default:return null}}function Iv(a,u){if(wo)return a==="compositionend"||!lp&&jv(a,u)?(a=Rv(),Ld=np=bo=null,wo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Fd&&u.locale!=="ko"?null:u.data;default:return null}}var Pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Pi[a.type]:u==="textarea"}function bl(a,u,h,y){pl?ya?ya.push(y):ya=[y]:pl=y,u=Ah(u,"onChange"),0<u.length&&(h=new Od("onChange","change",null,h,y),a.push({event:h,listeners:u}))}var yl=null,wl=null;function sx(a){Zb(a,0)}function $d(a){var u=wr(a);if(Ds(u))return a}function zv(a,u){if(a==="change")return u}var Fv=!1;if(er){var cp;if(er){var xo="oninput"in document;if(!xo){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),xo=typeof Hv.oninput=="function"}cp=xo}else cp=!1;Fv=cp&&(!document.documentMode||9<document.documentMode)}function Bv(){yl&&(yl.detachEvent("onpropertychange",Vd),wl=yl=null)}function Vd(a){if(a.propertyName==="value"&&$d(wl)){var u=[];bl(u,wl,a,ep(a)),Sv(sx,u)}}function Uv(a,u,h){a==="focusin"?(Bv(),yl=u,wl=h,yl.attachEvent("onpropertychange",Vd)):a==="focusout"&&Bv()}function Co(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $d(wl)}function Wd(a,u){if(a==="click")return $d(u)}function ox(a,u){if(a==="input"||a==="change")return $d(u)}function ax(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ji=typeof Object.is=="function"?Object.is:ax;function rs(a,u){if(ji(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var E=h[y];if(!yt.call(u,E)||!ji(a[E],u[E]))return!1}return!0}function rr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function dp(a,u){var h=rr(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=u&&y>=u)return{node:h,offset:u-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=rr(h)}}function $v(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?$v(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Vv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=va(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=va(a.document)}return u}function hp(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function lx(a,u){var h=Vv(u);u=a.focusedElem;var y=a.selectionRange;if(h!==u&&u&&u.ownerDocument&&$v(u.ownerDocument.documentElement,u)){if(y!==null&&hp(u)){if(a=y.start,h=y.end,h===void 0&&(h=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(h,u.value.length);else if(h=(a=u.ownerDocument||document)&&a.defaultView||window,h.getSelection){h=h.getSelection();var E=u.textContent.length,A=Math.min(y.start,E);y=y.end===void 0?A:Math.min(y.end,E),!h.extend&&A>y&&(E=y,y=A,A=E),E=dp(u,A);var I=dp(u,y);E&&I&&(h.rangeCount!==1||h.anchorNode!==E.node||h.anchorOffset!==E.offset||h.focusNode!==I.node||h.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(E.node,E.offset),h.removeAllRanges(),A>y?(h.addRange(a),h.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),h.addRange(a)))}}for(a=[],h=u;h=h.parentNode;)h.nodeType===1&&a.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)h=a[u],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var ux=er&&"documentMode"in document&&11>=document.documentMode,Cr=null,ce=null,xe=null,ge=!1;function He(a,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ge||Cr==null||Cr!==va(y)||(y=Cr,"selectionStart"in y&&hp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),xe&&rs(xe,y)||(xe=y,y=Ah(ce,"onSelect"),0<y.length&&(u=new Od("onSelect","select",null,u,h),a.push({event:u,listeners:y}),u.target=Cr)))}function et(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var At={animationend:et("Animation","AnimationEnd"),animationiteration:et("Animation","AnimationIteration"),animationstart:et("Animation","AnimationStart"),transitionrun:et("Transition","TransitionRun"),transitionstart:et("Transition","TransitionStart"),transitioncancel:et("Transition","TransitionCancel"),transitionend:et("Transition","TransitionEnd")},Dn={},Jt={};er&&(Jt=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function Ls(a){if(Dn[a])return Dn[a];if(!At[a])return a;var u=At[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in Jt)return Dn[a]=u[h];return a}var Wv=Ls("animationend"),Ii=Ls("animationiteration"),Xu=Ls("animationstart"),cx=Ls("transitionrun"),xl=Ls("transitionstart"),Gd=Ls("transitioncancel"),Ku=Ls("transitionend"),Wt=new Map,Gv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function sr(a,u){Wt.set(a,u),As(u,[a])}var pi=[],Cl=0,fp=0;function qd(){for(var a=Cl,u=fp=Cl=0;u<a;){var h=pi[u];pi[u++]=null;var y=pi[u];pi[u++]=null;var E=pi[u];pi[u++]=null;var A=pi[u];if(pi[u++]=null,y!==null&&E!==null){var I=y.pending;I===null?E.next=E:(E.next=I.next,I.next=E),y.pending=E}A!==0&&pp(h,E,A)}}function xa(a,u,h,y){pi[Cl++]=a,pi[Cl++]=u,pi[Cl++]=h,pi[Cl++]=y,fp|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function ss(a,u,h,y){return xa(a,u,h,y),Ca(a)}function Er(a,u){return xa(a,null,null,u),Ca(a)}function pp(a,u,h){a.lanes|=h;var y=a.alternate;y!==null&&(y.lanes|=h);for(var E=!1,A=a.return;A!==null;)A.childLanes|=h,y=A.alternate,y!==null&&(y.childLanes|=h),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(E=!0)),a=A,A=A.return;E&&u!==null&&a.tag===3&&(A=a.stateNode,E=31-rn(h),A=A.hiddenUpdates,a=A[E],a===null?A[E]=[u]:a.push(u),u.lane=h|536870912)}function Ca(a){if(50<Ac)throw Ac=0,fm=null,Error(i(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Ea={},mp=new WeakMap;function mi(a,u){if(typeof a=="object"&&a!==null){var h=mp.get(a);return h!==void 0?h:(u={value:a,source:u,stack:J(u)},mp.set(a,u),u)}return{value:a,source:u,stack:J(u)}}var Sa=[],os=0,as=null,Ra=0,or=[],ar=0,Ta=null,lr=1,ur="";function Os(a,u){Sa[os++]=Ra,Sa[os++]=as,as=a,Ra=u}function qv(a,u,h){or[ar++]=lr,or[ar++]=ur,or[ar++]=Ta,Ta=a;var y=lr;a=ur;var E=32-rn(y)-1;y&=~(1<<E),h+=1;var A=32-rn(u)+E;if(30<A){var I=E-E%5;A=(y&(1<<I)-1).toString(32),y>>=I,E-=I,lr=1<<32-rn(u)+E|h<<E|y,ur=A+a}else lr=1<<A|h<<E|y,ur=a}function Yd(a){a.return!==null&&(Os(a,1),qv(a,1,0))}function gp(a){for(;a===as;)as=Sa[--os],Sa[os]=null,Ra=Sa[--os],Sa[os]=null;for(;a===Ta;)Ta=or[--ar],or[ar]=null,ur=or[--ar],or[ar]=null,lr=or[--ar],or[ar]=null}var gi=null,kt=null,ot=!1,Sr=null,ls=!1,Xd=Error(i(519));function _a(a){var u=Error(i(418,""));throw Ps(mi(u,a)),Xd}function Kd(a){var u=a.stateNode,h=a.type,y=a.memoizedProps;switch(u[Gn]=a,u[ii]=y,h){case"dialog":Mt("cancel",u),Mt("close",u);break;case"iframe":case"object":case"embed":Mt("load",u);break;case"video":case"audio":for(h=0;h<Dc.length;h++)Mt(Dc[h],u);break;case"source":Mt("error",u);break;case"img":case"image":case"link":Mt("error",u),Mt("load",u);break;case"details":Mt("toggle",u);break;case"input":Mt("invalid",u),kd(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),ga(u);break;case"select":Mt("invalid",u);break;case"textarea":Mt("invalid",u),Dd(u,y.value,y.defaultValue,y.children),ga(u)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||y.suppressHydrationWarning===!0||ut(u.textContent,h)?(y.popover!=null&&(Mt("beforetoggle",u),Mt("toggle",u)),y.onScroll!=null&&Mt("scroll",u),y.onScrollEnd!=null&&Mt("scrollend",u),y.onClick!=null&&(u.onclick=kh),u=!0):u=!1,u||_a(a)}function El(a){for(gi=a.return;gi;)switch(gi.tag){case 3:case 27:ls=!0;return;case 5:case 13:ls=!1;return;default:gi=gi.return}}function Aa(a){if(a!==gi)return!1;if(!ot)return El(a),ot=!0,!1;var u=!1,h;if((h=a.tag!==3&&a.tag!==27)&&((h=a.tag===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Lc(a.type,a.memoizedProps)),h=!h),h&&(u=!0),u&&kt&&_a(a),El(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(u===0){kt=Pr(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;a=a.nextSibling}kt=null}}else kt=gi?Pr(a.stateNode.nextSibling):null;return!0}function us(){kt=gi=null,ot=!1}function Ps(a){Sr===null?Sr=[a]:Sr.push(a)}var js=Error(i(460)),Ju=Error(i(474)),Eo={then:function(){}};function Yv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Jd(){}function Xv(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Jd,Jd),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===js?Error(i(483)):a;default:if(typeof u.status=="string")u.then(Jd,Jd);else{if(a=Zt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=u,a.status="pending",a.then(function(y){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=y}},function(y){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===js?Error(i(483)):a}throw Zu=u,js}}var Zu=null;function Kv(){if(Zu===null)throw Error(i(459));var a=Zu;return Zu=null,a}var Is=null,zs=0;function Qu(a){var u=zs;return zs+=1,Is===null&&(Is=[]),Xv(Is,a,u)}function $(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function Fs(a,u){throw u.$$typeof===s?Error(i(525)):(a=Object.prototype.toString.call(u),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function ec(a){var u=a._init;return u(a._payload)}function zi(a){function u(he,ae){if(a){var pe=he.deletions;pe===null?(he.deletions=[ae],he.flags|=16):pe.push(ae)}}function h(he,ae){if(!a)return null;for(;ae!==null;)u(he,ae),ae=ae.sibling;return null}function y(he){for(var ae=new Map;he!==null;)he.key!==null?ae.set(he.key,he):ae.set(he.index,he),he=he.sibling;return ae}function E(he,ae){return he=Fo(he,ae),he.index=0,he.sibling=null,he}function A(he,ae,pe){return he.index=pe,a?(pe=he.alternate,pe!==null?(pe=pe.index,pe<ae?(he.flags|=33554434,ae):pe):(he.flags|=33554434,ae)):(he.flags|=1048576,ae)}function I(he){return a&&he.alternate===null&&(he.flags|=33554434),he}function G(he,ae,pe,_e){return ae===null||ae.tag!==6?(ae=sm(pe,he.mode,_e),ae.return=he,ae):(ae=E(ae,pe),ae.return=he,ae)}function ie(he,ae,pe,_e){var Ue=pe.type;return Ue===c?Re(he,ae,pe.props.children,_e,pe.key):ae!==null&&(ae.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&ec(Ue)===ae.type)?(ae=E(ae,pe.props),$(ae,pe),ae.return=he,ae):(ae=Ec(pe.type,pe.key,pe.props,null,he.mode,_e),$(ae,pe),ae.return=he,ae)}function le(he,ae,pe,_e){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=om(pe,he.mode,_e),ae.return=he,ae):(ae=E(ae,pe.children||[]),ae.return=he,ae)}function Re(he,ae,pe,_e,Ue){return ae===null||ae.tag!==7?(ae=ja(pe,he.mode,_e,Ue),ae.return=he,ae):(ae=E(ae,pe),ae.return=he,ae)}function Me(he,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=sm(""+ae,he.mode,pe),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case o:return pe=Ec(ae.type,ae.key,ae.props,null,he.mode,pe),$(pe,ae),pe.return=he,pe;case l:return ae=om(ae,he.mode,pe),ae.return=he,ae;case M:var _e=ae._init;return ae=_e(ae._payload),Me(he,ae,pe)}if(V(ae)||O(ae))return ae=ja(ae,he.mode,pe,null),ae.return=he,ae;if(typeof ae.then=="function")return Me(he,Qu(ae),pe);if(ae.$$typeof===w)return Me(he,vh(he,ae),pe);Fs(he,ae)}return null}function me(he,ae,pe,_e){var Ue=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ue!==null?null:G(he,ae,""+pe,_e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case o:return pe.key===Ue?ie(he,ae,pe,_e):null;case l:return pe.key===Ue?le(he,ae,pe,_e):null;case M:return Ue=pe._init,pe=Ue(pe._payload),me(he,ae,pe,_e)}if(V(pe)||O(pe))return Ue!==null?null:Re(he,ae,pe,_e,null);if(typeof pe.then=="function")return me(he,ae,Qu(pe),_e);if(pe.$$typeof===w)return me(he,ae,vh(he,pe),_e);Fs(he,pe)}return null}function Se(he,ae,pe,_e,Ue){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return he=he.get(pe)||null,G(ae,he,""+_e,Ue);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case o:return he=he.get(_e.key===null?pe:_e.key)||null,ie(ae,he,_e,Ue);case l:return he=he.get(_e.key===null?pe:_e.key)||null,le(ae,he,_e,Ue);case M:var Et=_e._init;return _e=Et(_e._payload),Se(he,ae,pe,_e,Ue)}if(V(_e)||O(_e))return he=he.get(pe)||null,Re(ae,he,_e,Ue,null);if(typeof _e.then=="function")return Se(he,ae,pe,Qu(_e),Ue);if(_e.$$typeof===w)return Se(he,ae,pe,vh(ae,_e),Ue);Fs(ae,_e)}return null}function qe(he,ae,pe,_e){for(var Ue=null,Et=null,Ke=ae,tt=ae=0,Bt=null;Ke!==null&&tt<pe.length;tt++){Ke.index>tt?(Bt=Ke,Ke=null):Bt=Ke.sibling;var Ot=me(he,Ke,pe[tt],_e);if(Ot===null){Ke===null&&(Ke=Bt);break}a&&Ke&&Ot.alternate===null&&u(he,Ke),ae=A(Ot,ae,tt),Et===null?Ue=Ot:Et.sibling=Ot,Et=Ot,Ke=Bt}if(tt===pe.length)return h(he,Ke),ot&&Os(he,tt),Ue;if(Ke===null){for(;tt<pe.length;tt++)Ke=Me(he,pe[tt],_e),Ke!==null&&(ae=A(Ke,ae,tt),Et===null?Ue=Ke:Et.sibling=Ke,Et=Ke);return ot&&Os(he,tt),Ue}for(Ke=y(Ke);tt<pe.length;tt++)Bt=Se(Ke,he,tt,pe[tt],_e),Bt!==null&&(a&&Bt.alternate!==null&&Ke.delete(Bt.key===null?tt:Bt.key),ae=A(Bt,ae,tt),Et===null?Ue=Bt:Et.sibling=Bt,Et=Bt);return a&&Ke.forEach(function(Go){return u(he,Go)}),ot&&Os(he,tt),Ue}function at(he,ae,pe,_e){if(pe==null)throw Error(i(151));for(var Ue=null,Et=null,Ke=ae,tt=ae=0,Bt=null,Ot=pe.next();Ke!==null&&!Ot.done;tt++,Ot=pe.next()){Ke.index>tt?(Bt=Ke,Ke=null):Bt=Ke.sibling;var Go=me(he,Ke,Ot.value,_e);if(Go===null){Ke===null&&(Ke=Bt);break}a&&Ke&&Go.alternate===null&&u(he,Ke),ae=A(Go,ae,tt),Et===null?Ue=Go:Et.sibling=Go,Et=Go,Ke=Bt}if(Ot.done)return h(he,Ke),ot&&Os(he,tt),Ue;if(Ke===null){for(;!Ot.done;tt++,Ot=pe.next())Ot=Me(he,Ot.value,_e),Ot!==null&&(ae=A(Ot,ae,tt),Et===null?Ue=Ot:Et.sibling=Ot,Et=Ot);return ot&&Os(he,tt),Ue}for(Ke=y(Ke);!Ot.done;tt++,Ot=pe.next())Ot=Se(Ke,he,tt,Ot.value,_e),Ot!==null&&(a&&Ot.alternate!==null&&Ke.delete(Ot.key===null?tt:Ot.key),ae=A(Ot,ae,tt),Et===null?Ue=Ot:Et.sibling=Ot,Et=Ot);return a&&Ke.forEach(function(Qx){return u(he,Qx)}),ot&&Os(he,tt),Ue}function Cn(he,ae,pe,_e){if(typeof pe=="object"&&pe!==null&&pe.type===c&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case o:e:{for(var Ue=pe.key;ae!==null;){if(ae.key===Ue){if(Ue=pe.type,Ue===c){if(ae.tag===7){h(he,ae.sibling),_e=E(ae,pe.props.children),_e.return=he,he=_e;break e}}else if(ae.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&ec(Ue)===ae.type){h(he,ae.sibling),_e=E(ae,pe.props),$(_e,pe),_e.return=he,he=_e;break e}h(he,ae);break}else u(he,ae);ae=ae.sibling}pe.type===c?(_e=ja(pe.props.children,he.mode,_e,pe.key),_e.return=he,he=_e):(_e=Ec(pe.type,pe.key,pe.props,null,he.mode,_e),$(_e,pe),_e.return=he,he=_e)}return I(he);case l:e:{for(Ue=pe.key;ae!==null;){if(ae.key===Ue)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){h(he,ae.sibling),_e=E(ae,pe.children||[]),_e.return=he,he=_e;break e}else{h(he,ae);break}else u(he,ae);ae=ae.sibling}_e=om(pe,he.mode,_e),_e.return=he,he=_e}return I(he);case M:return Ue=pe._init,pe=Ue(pe._payload),Cn(he,ae,pe,_e)}if(V(pe))return qe(he,ae,pe,_e);if(O(pe)){if(Ue=O(pe),typeof Ue!="function")throw Error(i(150));return pe=Ue.call(pe),at(he,ae,pe,_e)}if(typeof pe.then=="function")return Cn(he,ae,Qu(pe),_e);if(pe.$$typeof===w)return Cn(he,ae,vh(he,pe),_e);Fs(he,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(h(he,ae.sibling),_e=E(ae,pe),_e.return=he,he=_e):(h(he,ae),_e=sm(pe,he.mode,_e),_e.return=he,he=_e),I(he)):h(he,ae)}return function(he,ae,pe,_e){try{zs=0;var Ue=Cn(he,ae,pe,_e);return Is=null,Ue}catch(Ke){if(Ke===js)throw Ke;var Et=Wi(29,Ke,null,he.mode);return Et.lanes=_e,Et.return=he,Et}finally{}}}var dt=zi(!0),Jv=zi(!1),Sl=Ee(null),Zd=Ee(0);function So(a,u){a=Ks,je(Zd,a),je(Sl,u),Ks=a|u.baseLanes}function vp(){je(Zd,Ks),je(Sl,Sl.current)}function bp(){Ks=Zd.current,ke(Sl),ke(Zd)}var cr=Ee(null),cs=null;function Ro(a){var u=a.alternate;je(Hn,Hn.current&1),je(cr,a),cs===null&&(u===null||Sl.current!==null||u.memoizedState!==null)&&(cs=a)}function ds(a){if(a.tag===22){if(je(Hn,Hn.current),je(cr,a),cs===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(cs=a)}}else To()}function To(){je(Hn,Hn.current),je(cr,cr.current)}function Hs(a){ke(cr),cs===a&&(cs=null),ke(Hn)}var Hn=Ee(0);function Qd(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var dx=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,y){a.push(y)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},Bs=t.unstable_scheduleCallback,hx=t.unstable_NormalPriority,Bn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new dx,data:new Map,refCount:0}}function tc(a){a.refCount--,a.refCount===0&&Bs(hx,function(){a.controller.abort()})}var nc=null,Us=0,Rl=0,Tl=null;function Rr(a,u){if(nc===null){var h=nc=[];Us=0,Rl=Em(),Tl={status:"pending",value:void 0,then:function(y){h.push(y)}}}return Us++,u.then(Zv,Zv),u}function Zv(){if(--Us===0&&nc!==null){Tl!==null&&(Tl.status="fulfilled");var a=nc;nc=null,Rl=0,Tl=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function fx(a,u){var h=[],y={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return a.then(function(){y.status="fulfilled",y.value=u;for(var E=0;E<h.length;E++)(0,h[E])(u)},function(E){for(y.status="rejected",y.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),y}var Qv=W.S;W.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Rr(a,u),Qv!==null&&Qv(a,u)};var ka=Ee(null);function wp(){var a=ka.current;return a!==null?a:Zt.pooledCache}function ic(a,u){u===null?je(ka,ka.current):je(ka,u.pool)}function xp(){var a=wp();return a===null?null:{parent:Bn._currentValue,pool:a}}var _o=0,wt=null,Gt=null,pn=null,Ma=!1,_l=!1,Ao=!1,eh=0,Fi=0,ko=null,Da=0;function Ft(){throw Error(i(321))}function Cp(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ji(a[h],u[h]))return!1;return!0}function th(a,u,h,y,E,A){return _o=A,wt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=a===null||a.memoizedState===null?_i:hs,Ao=!1,A=h(y,E),Ao=!1,_l&&(A=Al(u,h,y,E)),Ep(a),A}function Ep(a){W.H=Sn;var u=Gt!==null&&Gt.next!==null;if(_o=0,pn=Gt=wt=null,Ma=!1,Fi=0,ko=null,u)throw Error(i(300));a===null||Un||(a=a.dependencies,a!==null&&gh(a)&&(Un=!0))}function Al(a,u,h,y){wt=a;var E=0;do{if(_l&&(ko=null),Fi=0,_l=!1,25<=E)throw Error(i(301));if(E+=1,pn=Gt=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}W.H=No,A=u(h,y)}while(_l);return A}function Mo(){var a=W.H,u=a.useState()[0];return u=typeof u.then=="function"?Na(u):u,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(wt.flags|=1024),u}function nh(){var a=eh!==0;return eh=0,a}function Sp(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function kl(a){if(Ma){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Ma=!1}_o=0,pn=Gt=wt=null,_l=!1,Fi=eh=0,ko=null}function Ti(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?wt.memoizedState=pn=a:pn=pn.next=a,pn}function Nn(){if(Gt===null){var a=wt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var u=pn===null?wt.memoizedState:pn.next;if(u!==null)pn=u,Gt=a;else{if(a===null)throw wt.alternate===null?Error(i(467)):Error(i(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},pn===null?wt.memoizedState=pn=a:pn=pn.next=a}return pn}var On;On=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Na(a){var u=Fi;return Fi+=1,ko===null&&(ko=[]),a=Xv(ko,a,u),u=wt,(pn===null?u.memoizedState:pn.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?_i:hs),a}function rc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Na(a);if(a.$$typeof===w)return oi(a)}throw Error(i(438,String(a)))}function dr(a){var u=null,h=wt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var y=wt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=On(),wt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),y=0;y<a;y++)h[y]=D;return u.index++,h}function Tr(a,u){return typeof u=="function"?u(a):u}function La(a){var u=Nn();return $s(u,Gt,a)}function $s(a,u,h){var y=a.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=h;var E=a.baseQueue,A=y.pending;if(A!==null){if(E!==null){var I=E.next;E.next=A.next,A.next=I}u.baseQueue=E=A,y.pending=null}if(A=a.baseState,E===null)a.memoizedState=A;else{u=E.next;var G=I=null,ie=null,le=u,Re=!1;do{var Me=le.lane&-536870913;if(Me!==le.lane?(Lt&Me)===Me:(_o&Me)===Me){var me=le.revertLane;if(me===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Me===Rl&&(Re=!0);else if((_o&me)===me){le=le.next,me===Rl&&(Re=!0);continue}else Me={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},ie===null?(G=ie=Me,I=A):ie=ie.next=Me,wt.lanes|=me,Ho|=me;Me=le.action,Ao&&h(A,Me),A=le.hasEagerState?le.eagerState:h(A,Me)}else me={lane:Me,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},ie===null?(G=ie=me,I=A):ie=ie.next=me,wt.lanes|=Me,Ho|=Me;le=le.next}while(le!==null&&le!==u);if(ie===null?I=A:ie.next=G,!ji(A,a.memoizedState)&&(Un=!0,Re&&(h=Tl,h!==null)))throw h;a.memoizedState=A,a.baseState=I,a.baseQueue=ie,y.lastRenderedState=A}return E===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function ih(a){var u=Nn(),h=u.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var y=h.dispatch,E=h.pending,A=u.memoizedState;if(E!==null){h.pending=null;var I=E=E.next;do A=a(A,I.action),I=I.next;while(I!==E);ji(A,u.memoizedState)||(Un=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),h.lastRenderedState=A}return[A,y]}function si(a,u,h){var y=wt,E=Nn(),A=ot;if(A){if(h===void 0)throw Error(i(407));h=h()}else h=u();var I=!ji((Gt||E).memoizedState,h);if(I&&(E.memoizedState=h,Un=!0),E=E.queue,ah(tb.bind(null,y,E,a),[a]),E.getSnapshot!==u||I||pn!==null&&pn.memoizedState.tag&1){if(y.flags|=2048,Do(9,eb.bind(null,y,E,h,u),{destroy:void 0},null),Zt===null)throw Error(i(349));A||(_o&60)!==0||rh(y,u,h)}return h}function rh(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=wt.updateQueue,u===null?(u=On(),wt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function eb(a,u,h,y){u.value=h,u.getSnapshot=y,nb(u)&&sh(a)}function tb(a,u,h){return h(function(){nb(u)&&sh(a)})}function nb(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ji(a,h)}catch{return!0}}function sh(a){var u=Er(a,2);u!==null&&li(u,a,2)}function Rp(a){var u=Ti();if(typeof a=="function"){var h=a;if(a=h(),Ao){Xt(!0);try{h()}finally{Xt(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:a},u}function Ml(a,u,h,y){return a.baseState=h,$s(a,Gt,typeof y=="function"?y:Tr)}function ib(a,u,h,y,E){if(Pl(a))throw Error(i(485));if(a=u.action,a!==null){var A={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){A.listeners.push(I)}};W.T!==null?h(!0):A.isTransition=!1,y(A),h=u.pending,h===null?(A.next=u.pending=A,rb(u,A)):(A.next=h.next,u.pending=h.next=A)}}function rb(a,u){var h=u.action,y=u.payload,E=a.state;if(u.isTransition){var A=W.T,I={};W.T=I;try{var G=h(E,y),ie=W.S;ie!==null&&ie(I,G),sb(a,u,G)}catch(le){Tp(a,u,le)}finally{W.T=A}}else try{A=h(E,y),sb(a,u,A)}catch(le){Tp(a,u,le)}}function sb(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){Dl(a,u,y)},function(y){return Tp(a,u,y)}):Dl(a,u,h)}function Dl(a,u,h){u.status="fulfilled",u.value=h,ob(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,rb(a,h)))}function Tp(a,u,h){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=h,ob(u),u=u.next;while(u!==y)}a.action=null}function ob(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function oh(a,u){return u}function _p(a,u){if(ot){var h=Zt.formState;if(h!==null){e:{var y=wt;if(ot){if(kt){t:{for(var E=kt,A=ls;E.nodeType!==8;){if(!A){E=null;break t}if(E=Pr(E.nextSibling),E===null){E=null;break t}}A=E.data,E=A==="F!"||A==="F"?E:null}if(E){kt=Pr(E.nextSibling),y=E.data==="F!";break e}}_a(y)}y=!1}y&&(u=h[0])}}return h=Ti(),h.memoizedState=h.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:u},h.queue=y,h=Hi.bind(null,wt,y),y.dispatch=h,y=Rp(!1),A=Ol.bind(null,wt,!1,y.queue),y=Ti(),E={state:u,dispatch:null,action:a,pending:null},y.queue=E,h=ib.bind(null,wt,E,A,h),E.dispatch=h,y.memoizedState=a,[u,h,!1]}function ab(a){var u=Nn();return lb(u,Gt,a)}function lb(a,u,h){u=$s(a,u,oh)[0],a=La(Tr)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Na(u):u;var y=Nn(),E=y.queue,A=E.dispatch;return h!==y.memoizedState&&(wt.flags|=2048,Do(9,px.bind(null,E,h),{destroy:void 0},null)),[u,A,a]}function px(a,u){a.action=u}function Ap(a){var u=Nn(),h=Gt;if(h!==null)return lb(u,h,a);Nn(),u=u.memoizedState,h=Nn();var y=h.queue.dispatch;return h.memoizedState=a,[u,y,!1]}function Do(a,u,h,y){return a={tag:a,create:u,inst:h,deps:y,next:null},u=wt.updateQueue,u===null&&(u=On(),wt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,u.lastEffect=a),a}function ub(){return Nn().memoizedState}function Nl(a,u,h,y){var E=Ti();wt.flags|=a,E.memoizedState=Do(1|u,h,{destroy:void 0},y===void 0?null:y)}function sc(a,u,h,y){var E=Nn();y=y===void 0?null:y;var A=E.memoizedState.inst;Gt!==null&&y!==null&&Cp(y,Gt.memoizedState.deps)?E.memoizedState=Do(u,h,A,y):(wt.flags|=a,E.memoizedState=Do(1|u,h,A,y))}function kp(a,u){Nl(8390656,8,a,u)}function ah(a,u){sc(2048,8,a,u)}function oc(a,u){return sc(4,2,a,u)}function cb(a,u){return sc(4,4,a,u)}function Mp(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Dp(a,u,h){h=h!=null?h.concat([a]):null,sc(4,4,Mp.bind(null,u,a),h)}function Np(){}function Lp(a,u){var h=Nn();u=u===void 0?null:u;var y=h.memoizedState;return u!==null&&Cp(u,y[1])?y[0]:(h.memoizedState=[a,u],a)}function db(a,u){var h=Nn();u=u===void 0?null:u;var y=h.memoizedState;if(u!==null&&Cp(u,y[1]))return y[0];if(y=a(),Ao){Xt(!0);try{a()}finally{Xt(!1)}}return h.memoizedState=[y,u],y}function ac(a,u,h){return h===void 0||(_o&1073741824)!==0?a.memoizedState=u:(a.memoizedState=h,a=jb(),wt.lanes|=a,Ho|=a,h)}function Op(a,u,h,y){return ji(h,u)?h:Sl.current!==null?(a=ac(a,h,y),ji(a,u)||(Un=!0),a):(_o&42)===0?(Un=!0,a.memoizedState=h):(a=jb(),wt.lanes|=a,Ho|=a,u)}function lh(a,u,h,y,E){var A=fe.p;fe.p=A!==0&&8>A?A:8;var I=W.T,G={};W.T=G,Ol(a,!1,u,h);try{var ie=E(),le=W.S;if(le!==null&&le(G,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Re=fx(ie,y);uc(a,u,Re,qi(a))}else uc(a,u,y,qi(a))}catch(Me){uc(a,u,{then:function(){},status:"rejected",reason:Me},qi())}finally{fe.p=A,W.T=I}}function mx(){}function lc(a,u,h,y){if(a.tag!==5)throw Error(i(476));var E=vt(a).queue;lh(a,E,u,be,h===null?mx:function(){return hb(a),h(y)})}function vt(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:be},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function hb(a){var u=vt(a).next.queue;uc(a,u,{},qi())}function Pp(){return oi(jc)}function Ll(){return Nn().memoizedState}function jp(){return Nn().memoizedState}function gx(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=qi();a=Dr(h);var y=Bi(u,a,h);y!==null&&(li(y,u,h),Je(y,u,h)),u={cache:yp()},a.payload=u;return}u=u.return}}function vx(a,u,h){var y=qi();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Pl(a)?Ip(u,h):(h=ss(a,u,h,y),h!==null&&(li(h,a,y),zp(h,u,y)))}function Hi(a,u,h){var y=qi();uc(a,u,h,y)}function uc(a,u,h,y){var E={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Pl(a))Ip(u,E);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var I=u.lastRenderedState,G=A(I,h);if(E.hasEagerState=!0,E.eagerState=G,ji(G,I))return xa(a,u,E,0),Zt===null&&qd(),!1}catch{}finally{}if(h=ss(a,u,E,y),h!==null)return li(h,a,y),zp(h,u,y),!0}return!1}function Ol(a,u,h,y){if(y={lane:2,revertLane:Em(),action:y,hasEagerState:!1,eagerState:null,next:null},Pl(a)){if(u)throw Error(i(479))}else u=ss(a,h,y,2),u!==null&&li(u,a,2)}function Pl(a){var u=a.alternate;return a===wt||u!==null&&u===wt}function Ip(a,u){_l=Ma=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function zp(a,u,h){if((h&4194176)!==0){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,dl(a,h)}}var Sn={readContext:oi,use:rc,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft};Sn.useCacheRefresh=Ft,Sn.useMemoCache=Ft,Sn.useHostTransitionStatus=Ft,Sn.useFormState=Ft,Sn.useActionState=Ft,Sn.useOptimistic=Ft;var _i={readContext:oi,use:rc,useCallback:function(a,u){return Ti().memoizedState=[a,u===void 0?null:u],a},useContext:oi,useEffect:kp,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,Nl(4194308,4,Mp.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Nl(4194308,4,a,u)},useInsertionEffect:function(a,u){Nl(4,2,a,u)},useMemo:function(a,u){var h=Ti();u=u===void 0?null:u;var y=a();if(Ao){Xt(!0);try{a()}finally{Xt(!1)}}return h.memoizedState=[y,u],y},useReducer:function(a,u,h){var y=Ti();if(h!==void 0){var E=h(u);if(Ao){Xt(!0);try{h(u)}finally{Xt(!1)}}}else E=u;return y.memoizedState=y.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},y.queue=a,a=a.dispatch=vx.bind(null,wt,a),[y.memoizedState,a]},useRef:function(a){var u=Ti();return a={current:a},u.memoizedState=a},useState:function(a){a=Rp(a);var u=a.queue,h=Hi.bind(null,wt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:Np,useDeferredValue:function(a,u){var h=Ti();return ac(h,a,u)},useTransition:function(){var a=Rp(!1);return a=lh.bind(null,wt,a.queue,!0,!1),Ti().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var y=wt,E=Ti();if(ot){if(h===void 0)throw Error(i(407));h=h()}else{if(h=u(),Zt===null)throw Error(i(349));(Lt&60)!==0||rh(y,u,h)}E.memoizedState=h;var A={value:h,getSnapshot:u};return E.queue=A,kp(tb.bind(null,y,A,a),[a]),y.flags|=2048,Do(9,eb.bind(null,y,A,h,u),{destroy:void 0},null),h},useId:function(){var a=Ti(),u=Zt.identifierPrefix;if(ot){var h=ur,y=lr;h=(y&~(1<<32-rn(y)-1)).toString(32)+h,u=":"+u+"R"+h,h=eh++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=Da++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},useCacheRefresh:function(){return Ti().memoizedState=gx.bind(null,wt)}};_i.useMemoCache=dr,_i.useHostTransitionStatus=Pp,_i.useFormState=_p,_i.useActionState=_p,_i.useOptimistic=function(a){var u=Ti();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Ol.bind(null,wt,!0,h),h.dispatch=u,[a,u]};var hs={readContext:oi,use:rc,useCallback:Lp,useContext:oi,useEffect:ah,useImperativeHandle:Dp,useInsertionEffect:oc,useLayoutEffect:cb,useMemo:db,useReducer:La,useRef:ub,useState:function(){return La(Tr)},useDebugValue:Np,useDeferredValue:function(a,u){var h=Nn();return Op(h,Gt.memoizedState,a,u)},useTransition:function(){var a=La(Tr)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:Na(a),u]},useSyncExternalStore:si,useId:Ll};hs.useCacheRefresh=jp,hs.useMemoCache=dr,hs.useHostTransitionStatus=Pp,hs.useFormState=ab,hs.useActionState=ab,hs.useOptimistic=function(a,u){var h=Nn();return Ml(h,Gt,a,u)};var No={readContext:oi,use:rc,useCallback:Lp,useContext:oi,useEffect:ah,useImperativeHandle:Dp,useInsertionEffect:oc,useLayoutEffect:cb,useMemo:db,useReducer:ih,useRef:ub,useState:function(){return ih(Tr)},useDebugValue:Np,useDeferredValue:function(a,u){var h=Nn();return Gt===null?ac(h,a,u):Op(h,Gt.memoizedState,a,u)},useTransition:function(){var a=ih(Tr)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:Na(a),u]},useSyncExternalStore:si,useId:Ll};No.useCacheRefresh=jp,No.useMemoCache=dr,No.useHostTransitionStatus=Pp,No.useFormState=Ap,No.useActionState=Ap,No.useOptimistic=function(a,u){var h=Nn();return Gt!==null?Ml(h,Gt,a,u):(h.baseState=a,[a,h.queue.dispatch])};function jl(a,u,h,y){u=a.memoizedState,h=h(y,u),h=h==null?u:z({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var uh={isMounted:function(a){return(a=a._reactInternals)?X(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var y=qi(),E=Dr(y);E.payload=u,h!=null&&(E.callback=h),u=Bi(a,E,y),u!==null&&(li(u,a,y),Je(u,a,y))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var y=qi(),E=Dr(y);E.tag=1,E.payload=u,h!=null&&(E.callback=h),u=Bi(a,E,y),u!==null&&(li(u,a,y),Je(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=qi(),y=Dr(h);y.tag=2,u!=null&&(y.callback=u),u=Bi(a,y,h),u!==null&&(li(u,a,h),Je(u,a,h))}};function ch(a,u,h,y,E,A,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,A,I):u.prototype&&u.prototype.isPureReactComponent?!rs(h,y)||!rs(E,A):!0}function Fp(a,u,h,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==a&&uh.enqueueReplaceState(u,u.state,null)}function Vs(a,u){var h=u;if("ref"in u){h={};for(var y in u)y!=="ref"&&(h[y]=u[y])}if(a=a.defaultProps){h===u&&(h=z({},h));for(var E in a)h[E]===void 0&&(h[E]=a[E])}return h}var Il=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ws(a){Il(a)}function fb(a){console.error(a)}function Gs(a){Il(a)}function cc(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function Hp(a,u,h){try{var y=a.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function dc(a,u,h){return h=Dr(h),h.tag=3,h.payload={element:null},h.callback=function(){cc(a,u)},h}function pb(a){return a=Dr(a),a.tag=3,a}function mb(a,u,h,y){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var A=y.value;a.payload=function(){return E(A)},a.callback=function(){Hp(u,h,y)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){Hp(u,h,y),typeof E!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var G=y.stack;this.componentDidCatch(y.value,{componentStack:G!==null?G:""})})}function bx(a,u,h,y,E){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=h.alternate,u!==null&&Ul(u,h,E,!0),h=cr.current,h!==null){switch(h.tag){case 13:return cs===null?mm():h.alternate===null&&Tn===0&&(Tn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,y===Eo?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([y]):u.add(y),vm(a,y,E)),!1;case 22:return h.flags|=65536,y===Eo?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([y]):h.add(y)),vm(a,y,E)),!1}throw Error(i(435,h.tag))}return vm(a,y,E),mm(),!1}if(ot)return u=cr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,y!==Xd&&(a=Error(i(422),{cause:y}),Ps(mi(a,h)))):(y!==Xd&&(u=Error(i(423),{cause:y}),Ps(mi(u,h))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,y=mi(y,h),E=dc(a.stateNode,y,E),$l(a,E),Tn!==4&&(Tn=2)),!1;var A=Error(i(520),{cause:y});if(A=mi(A,h),Rc===null?Rc=[A]:Rc.push(A),Tn!==4&&(Tn=2),u===null)return!0;y=mi(y,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=E&-E,h.lanes|=a,a=dc(h.stateNode,y,a),$l(h,a),!1;case 1:if(u=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ys===null||!ys.has(A))))return h.flags|=65536,E&=-E,h.lanes|=E,E=pb(E),mb(E,a,h,y),$l(h,E),!1}h=h.return}while(h!==null);return!1}var Bp=Error(i(461)),Un=!1;function Jn(a,u,h,y){u.child=a===null?Jv(u,null,h,y):dt(u,a.child,h,y)}function Up(a,u,h,y,E){h=h.render;var A=u.ref;if("ref"in y){var I={};for(var G in y)G!=="ref"&&(I[G]=y[G])}else I=y;return jo(u),y=th(a,u,h,I,A,E),G=nh(),a!==null&&!Un?(Sp(a,u,E),Ar(a,u,E)):(ot&&G&&Yd(u),u.flags|=1,Jn(a,u,y,E),u.child)}function $p(a,u,h,y,E){if(a===null){var A=h.type;return typeof A=="function"&&!rm(A)&&A.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=A,vi(a,u,A,y,E)):(a=Ec(h.type,null,y,u,u.mode,E),a.ref=u.ref,a.return=u,u.child=a)}if(A=a.child,!Hl(a,E)){var I=A.memoizedProps;if(h=h.compare,h=h!==null?h:rs,h(I,y)&&a.ref===u.ref)return Ar(a,u,E)}return u.flags|=1,a=Fo(A,y),a.ref=u.ref,a.return=u,u.child=a}function vi(a,u,h,y,E){if(a!==null){var A=a.memoizedProps;if(rs(A,y)&&a.ref===u.ref)if(Un=!1,u.pendingProps=y=A,Hl(a,E))(a.flags&131072)!==0&&(Un=!0);else return u.lanes=a.lanes,Ar(a,u,E)}return zl(a,u,h,y,E)}function _r(a,u,h){var y=u.pendingProps,E=y.children,A=(u.stateNode._pendingVisibility&2)!==0,I=a!==null?a.memoizedState:null;if(hc(a,u),y.mode==="hidden"||A){if((u.flags&128)!==0){if(y=I!==null?I.baseLanes|h:h,a!==null){for(E=u.child=a.child,A=0;E!==null;)A=A|E.lanes|E.childLanes,E=E.sibling;u.childLanes=A&~y}else u.childLanes=0,u.child=null;return gb(a,u,y,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&ic(u,I!==null?I.cachePool:null),I!==null?So(u,I):vp(),ds(u);else return u.lanes=u.childLanes=536870912,gb(a,u,I!==null?I.baseLanes|h:h,h)}else I!==null?(ic(u,I.cachePool),So(u,I),To(),u.memoizedState=null):(a!==null&&ic(u,null),vp(),To());return Jn(a,u,E,h),u.child}function gb(a,u,h,y){var E=wp();return E=E===null?null:{parent:Bn._currentValue,pool:E},u.memoizedState={baseLanes:h,cachePool:E},a!==null&&ic(u,null),vp(),ds(u),a!==null&&Ul(a,u,y,!0),null}function hc(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(u.flags|=2097664)}}function zl(a,u,h,y,E){return jo(u),h=th(a,u,h,y,void 0,E),y=nh(),a!==null&&!Un?(Sp(a,u,E),Ar(a,u,E)):(ot&&y&&Yd(u),u.flags|=1,Jn(a,u,h,E),u.child)}function Oa(a,u,h,y,E,A){return jo(u),u.updateQueue=null,h=Al(u,y,h,E),Ep(a),y=nh(),a!==null&&!Un?(Sp(a,u,A),Ar(a,u,A)):(ot&&y&&Yd(u),u.flags|=1,Jn(a,u,h,A),u.child)}function Vp(a,u,h,y,E){if(jo(u),u.stateNode===null){var A=Ea,I=h.contextType;typeof I=="object"&&I!==null&&(A=oi(I)),A=new h(y,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=uh,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=y,A.state=u.memoizedState,A.refs={},mc(u),I=h.contextType,A.context=typeof I=="object"&&I!==null?oi(I):Ea,A.state=u.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(jl(u,h,I,y),A.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(I=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),I!==A.state&&uh.enqueueReplaceState(A,A.state,null),bc(u,y,A,E),Nr(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(a===null){A=u.stateNode;var G=u.memoizedProps,ie=Vs(h,G);A.props=ie;var le=A.context,Re=h.contextType;I=Ea,typeof Re=="object"&&Re!==null&&(I=oi(Re));var Me=h.getDerivedStateFromProps;Re=typeof Me=="function"||typeof A.getSnapshotBeforeUpdate=="function",G=u.pendingProps!==G,Re||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G||le!==I)&&Fp(u,A,y,I),ms=!1;var me=u.memoizedState;A.state=me,bc(u,y,A,E),Nr(),le=u.memoizedState,G||me!==le||ms?(typeof Me=="function"&&(jl(u,h,Me,y),le=u.memoizedState),(ie=ms||ch(u,h,ie,y,me,le,I))?(Re||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=le),A.props=y,A.state=le,A.context=I,y=ie):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{A=u.stateNode,gc(a,u),I=u.memoizedProps,Re=Vs(h,I),A.props=Re,Me=u.pendingProps,me=A.context,le=h.contextType,ie=Ea,typeof le=="object"&&le!==null&&(ie=oi(le)),G=h.getDerivedStateFromProps,(le=typeof G=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==Me||me!==ie)&&Fp(u,A,y,ie),ms=!1,me=u.memoizedState,A.state=me,bc(u,y,A,E),Nr();var Se=u.memoizedState;I!==Me||me!==Se||ms||a!==null&&a.dependencies!==null&&gh(a.dependencies)?(typeof G=="function"&&(jl(u,h,G,y),Se=u.memoizedState),(Re=ms||ch(u,h,Re,y,me,Se,ie)||a!==null&&a.dependencies!==null&&gh(a.dependencies))?(le||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,Se,ie),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,Se,ie)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Se),A.props=y,A.state=Se,A.context=ie,y=Re):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(u.flags|=1024),y=!1)}return A=y,hc(a,u),y=(u.flags&128)!==0,A||y?(A=u.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,a!==null&&y?(u.child=dt(u,a.child,null,E),u.child=dt(u,null,h,E)):Jn(a,u,h,E),u.memoizedState=A.state,a=u.child):a=Ar(a,u,E),a}function Wp(a,u,h,y){return us(),u.flags|=256,Jn(a,u,h,y),u.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function dh(a){return{baseLanes:a,cachePool:xp()}}function Lo(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=hr),a}function Fl(a,u,h){var y=u.pendingProps,E=!1,A=(u.flags&128)!==0,I;if((I=A)||(I=a!==null&&a.memoizedState===null?!1:(Hn.current&2)!==0),I&&(E=!0,u.flags&=-129),I=(u.flags&32)!==0,u.flags&=-33,a===null){if(ot){if(E?Ro(u):To(),ot){var G=kt,ie;if(ie=G){e:{for(ie=G,G=ls;ie.nodeType!==8;){if(!G){G=null;break e}if(ie=Pr(ie.nextSibling),ie===null){G=null;break e}}G=ie}G!==null?(u.memoizedState={dehydrated:G,treeContext:Ta!==null?{id:lr,overflow:ur}:null,retryLane:536870912},ie=Wi(18,null,null,0),ie.stateNode=G,ie.return=u,u.child=ie,gi=u,kt=null,ie=!0):ie=!1}ie||_a(u)}if(G=u.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return G.data==="$!"?u.lanes=16:u.lanes=536870912,null;Hs(u)}return G=y.children,y=y.fallback,E?(To(),E=u.mode,G=hh({mode:"hidden",children:G},E),y=ja(y,E,h,null),G.return=u,y.return=u,G.sibling=y,u.child=G,E=u.child,E.memoizedState=dh(h),E.childLanes=Lo(a,I,h),u.memoizedState=Gp,y):(Ro(u),qp(u,G))}if(ie=a.memoizedState,ie!==null&&(G=ie.dehydrated,G!==null)){if(A)u.flags&256?(Ro(u),u.flags&=-257,u=fh(a,u,h)):u.memoizedState!==null?(To(),u.child=a.child,u.flags|=128,u=null):(To(),E=y.fallback,G=u.mode,y=hh({mode:"visible",children:y.children},G),E=ja(E,G,h,null),E.flags|=2,y.return=u,E.return=u,y.sibling=E,u.child=y,dt(u,a.child,null,h),y=u.child,y.memoizedState=dh(h),y.childLanes=Lo(a,I,h),u.memoizedState=Gp,u=E);else if(Ro(u),G.data==="$!"){if(I=G.nextSibling&&G.nextSibling.dataset,I)var le=I.dgst;I=le,y=Error(i(419)),y.stack="",y.digest=I,Ps({value:y,source:null,stack:null}),u=fh(a,u,h)}else if(Un||Ul(a,u,h,!1),I=(h&a.childLanes)!==0,Un||I){if(I=Zt,I!==null){if(y=h&-h,(y&42)!==0)y=1;else switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=64;break;case 268435456:y=134217728;break;default:y=0}if(y=(y&(I.suspendedLanes|h))!==0?0:y,y!==0&&y!==ie.retryLane)throw ie.retryLane=y,Er(a,y),li(I,a,y),Bp}G.data==="$?"||mm(),u=fh(a,u,h)}else G.data==="$?"?(u.flags|=128,u.child=a.child,u=kx.bind(null,a),G._reactRetry=u,u=null):(a=ie.treeContext,kt=Pr(G.nextSibling),gi=u,ot=!0,Sr=null,ls=!1,a!==null&&(or[ar++]=lr,or[ar++]=ur,or[ar++]=Ta,lr=a.id,ur=a.overflow,Ta=u),u=qp(u,y.children),u.flags|=4096);return u}return E?(To(),E=y.fallback,G=u.mode,ie=a.child,le=ie.sibling,y=Fo(ie,{mode:"hidden",children:y.children}),y.subtreeFlags=ie.subtreeFlags&31457280,le!==null?E=Fo(le,E):(E=ja(E,G,h,null),E.flags|=2),E.return=u,y.return=u,y.sibling=E,u.child=y,y=E,E=u.child,G=a.child.memoizedState,G===null?G=dh(h):(ie=G.cachePool,ie!==null?(le=Bn._currentValue,ie=ie.parent!==le?{parent:le,pool:le}:ie):ie=xp(),G={baseLanes:G.baseLanes|h,cachePool:ie}),E.memoizedState=G,E.childLanes=Lo(a,I,h),u.memoizedState=Gp,y):(Ro(u),h=a.child,a=h.sibling,h=Fo(h,{mode:"visible",children:y.children}),h.return=u,h.sibling=null,a!==null&&(I=u.deletions,I===null?(u.deletions=[a],u.flags|=16):I.push(a)),u.child=h,u.memoizedState=null,h)}function qp(a,u){return u=hh({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function hh(a,u){return Nb(a,u,0,null)}function fh(a,u,h){return dt(u,a.child,null,h),a=qp(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function fc(a,u,h){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Mr(a.return,u,h)}function ph(a,u,h,y,E){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:E}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=h,A.tailMode=E)}function pc(a,u,h){var y=u.pendingProps,E=y.revealOrder,A=y.tail;if(Jn(a,u,y.children,h),y=Hn.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fc(a,h,u);else if(a.tag===19)fc(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(je(Hn,y),E){case"forwards":for(h=u.child,E=null;h!==null;)a=h.alternate,a!==null&&Qd(a)===null&&(E=h),h=h.sibling;h=E,h===null?(E=u.child,u.child=null):(E=h.sibling,h.sibling=null),ph(u,!1,E,h,A);break;case"backwards":for(h=null,E=u.child,u.child=null;E!==null;){if(a=E.alternate,a!==null&&Qd(a)===null){u.child=E;break}a=E.sibling,E.sibling=h,h=E,E=a}ph(u,!0,h,null,A);break;case"together":ph(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ar(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ho|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(Ul(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(i(153));if(u.child!==null){for(a=u.child,h=Fo(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Fo(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Hl(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&gh(a)))}function yx(a,u,h){switch(u.tag){case 3:Qe(u,u.stateNode.containerInfo),Po(u,Bn,a.memoizedState.cache),us();break;case 27:case 5:bt(u);break;case 4:Qe(u,u.stateNode.containerInfo);break;case 10:Po(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Ro(u),u.flags|=128,null):(h&u.child.childLanes)!==0?Fl(a,u,h):(Ro(u),a=Ar(a,u,h),a!==null?a.sibling:null);Ro(u);break;case 19:var E=(a.flags&128)!==0;if(y=(h&u.childLanes)!==0,y||(Ul(a,u,h,!1),y=(h&u.childLanes)!==0),E){if(y)return pc(a,u,h);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),je(Hn,Hn.current),y)break;return null;case 22:case 23:return u.lanes=0,_r(a,u,h);case 24:Po(u,Bn,a.memoizedState.cache)}return Ar(a,u,h)}function Yp(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Un=!0;else{if(!Hl(a,h)&&(u.flags&128)===0)return Un=!1,yx(a,u,h);Un=(a.flags&131072)!==0}else Un=!1,ot&&(u.flags&1048576)!==0&&qv(u,Ra,u.index);switch(u.lanes=0,u.tag){case 16:e:{a=u.pendingProps;var y=u.elementType,E=y._init;if(y=E(y._payload),u.type=y,typeof y=="function")rm(y)?(a=Vs(y,a),u.tag=1,u=Vp(null,u,y,a,h)):(u.tag=0,u=zl(null,u,y,a,h));else{if(y!=null){if(E=y.$$typeof,E===C){u.tag=11,u=Up(null,u,y,a,h);break e}else if(E===R){u.tag=14,u=$p(null,u,y,a,h);break e}}throw u=B(y)||y,Error(i(306,u,""))}}return u;case 0:return zl(a,u,u.type,u.pendingProps,h);case 1:return y=u.type,E=Vs(y,u.pendingProps),Vp(a,u,y,E,h);case 3:e:{if(Qe(u,u.stateNode.containerInfo),a===null)throw Error(i(387));var A=u.pendingProps;E=u.memoizedState,y=E.element,gc(a,u),bc(u,A,null,h);var I=u.memoizedState;if(A=I.cache,Po(u,Bn,A),A!==E.cache&&mh(u,[Bn],h,!0),Nr(),A=I.element,E.isDehydrated)if(E={element:A,isDehydrated:!1,cache:I.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=Wp(a,u,A,h);break e}else if(A!==y){y=mi(Error(i(424)),u),Ps(y),u=Wp(a,u,A,h);break e}else for(kt=Pr(u.stateNode.containerInfo.firstChild),gi=u,ot=!0,Sr=null,ls=!0,h=Jv(u,null,A,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(us(),A===y){u=Ar(a,u,h);break e}Jn(a,u,A,h)}u=u.child}return u;case 26:return hc(a,u),a===null?(h=Im(u.type,null,u.pendingProps,null))?u.memoizedState=h:ot||(h=u.type,a=u.pendingProps,y=Mh(Oe.current).createElement(h),y[Gn]=u,y[ii]=a,Qn(y,h,a),bn(y),u.stateNode=y):u.memoizedState=Im(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return bt(u),a===null&&ot&&(y=u.stateNode=jm(u.type,u.pendingProps,Oe.current),gi=u,ls=!0,kt=Pr(y.firstChild)),y=u.pendingProps.children,a!==null||ot?Jn(a,u,y,h):u.child=dt(u,null,y,h),hc(a,u),u.child;case 5:return a===null&&ot&&((E=y=kt)&&(y=jx(y,u.type,u.pendingProps,ls),y!==null?(u.stateNode=y,gi=u,kt=Pr(y.firstChild),ls=!1,E=!0):E=!1),E||_a(u)),bt(u),E=u.type,A=u.pendingProps,I=a!==null?a.memoizedProps:null,y=A.children,Lc(E,A)?y=null:I!==null&&Lc(E,I)&&(u.flags|=32),u.memoizedState!==null&&(E=th(a,u,Mo,null,null,h),jc._currentValue=E),hc(a,u),Jn(a,u,y,h),u.child;case 6:return a===null&&ot&&((a=h=kt)&&(h=Ix(h,u.pendingProps,ls),h!==null?(u.stateNode=h,gi=u,kt=null,a=!0):a=!1),a||_a(u)),null;case 13:return Fl(a,u,h);case 4:return Qe(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=dt(u,null,y,h):Jn(a,u,y,h),u.child;case 11:return Up(a,u,u.type,u.pendingProps,h);case 7:return Jn(a,u,u.pendingProps,h),u.child;case 8:return Jn(a,u,u.pendingProps.children,h),u.child;case 12:return Jn(a,u,u.pendingProps.children,h),u.child;case 10:return y=u.pendingProps,Po(u,u.type,y.value),Jn(a,u,y.children,h),u.child;case 9:return E=u.type._context,y=u.pendingProps.children,jo(u),E=oi(E),y=y(E),u.flags|=1,Jn(a,u,y,h),u.child;case 14:return $p(a,u,u.type,u.pendingProps,h);case 15:return vi(a,u,u.type,u.pendingProps,h);case 19:return pc(a,u,h);case 22:return _r(a,u,h);case 24:return jo(u),y=oi(Bn),a===null?(E=wp(),E===null&&(E=Zt,A=yp(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=h),E=A),u.memoizedState={parent:y,cache:E},mc(u),Po(u,Bn,E)):((a.lanes&h)!==0&&(gc(a,u),bc(u,null,null,h),Nr()),E=a.memoizedState,A=u.memoizedState,E.parent!==y?(E={parent:y,cache:y},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),Po(u,Bn,y)):(y=A.cache,Po(u,Bn,y),y!==E.cache&&mh(u,[Bn],h,!0))),Jn(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}var Bl=Ee(null),Oo=null,kr=null;function Po(a,u,h){je(Bl,u._currentValue),u._currentValue=h}function fs(a){a._currentValue=Bl.current,ke(Bl)}function Mr(a,u,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===h)break;a=a.return}}function mh(a,u,h,y){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var A=E.dependencies;if(A!==null){var I=E.child;A=A.firstContext;e:for(;A!==null;){var G=A;A=E;for(var ie=0;ie<u.length;ie++)if(G.context===u[ie]){A.lanes|=h,G=A.alternate,G!==null&&(G.lanes|=h),Mr(A.return,h,a),y||(I=null);break e}A=G.next}}else if(E.tag===18){if(I=E.return,I===null)throw Error(i(341));I.lanes|=h,A=I.alternate,A!==null&&(A.lanes|=h),Mr(I,h,a),I=null}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===a){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}}function Ul(a,u,h,y){a=null;for(var E=u,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var I=E.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var G=E.type;ji(E.pendingProps.value,I.value)||(a!==null?a.push(G):a=[G])}}else if(E===ze.current){if(I=E.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(jc):a=[jc])}E=E.return}a!==null&&mh(u,a,h,y),u.flags|=262144}function gh(a){for(a=a.firstContext;a!==null;){if(!ji(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function jo(a){Oo=a,kr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function oi(a){return ps(Oo,a)}function vh(a,u){return Oo===null&&jo(a),ps(a,u)}function ps(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},kr===null){if(a===null)throw Error(i(308));kr=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else kr=kr.next=u;return h}var ms=!1;function mc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Dr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bi(a,u,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(wn&2)!==0){var E=y.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),y.pending=u,u=Ca(a),pp(a,null,h),u}return xa(a,y,u,h),Ca(a)}function Je(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194176)!==0)){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,dl(a,h)}}function $l(a,u){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var E=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?E=A=I:A=A.next=I,h=h.next}while(h!==null);A===null?E=A=u:A=A.next=u}else E=A=u;h={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:y.shared,callbacks:y.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var vc=!1;function Nr(){if(vc){var a=Tl;if(a!==null)throw a}}function bc(a,u,h,y){vc=!1;var E=a.updateQueue;ms=!1;var A=E.firstBaseUpdate,I=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var ie=G,le=ie.next;ie.next=null,I===null?A=le:I.next=le,I=ie;var Re=a.alternate;Re!==null&&(Re=Re.updateQueue,G=Re.lastBaseUpdate,G!==I&&(G===null?Re.firstBaseUpdate=le:G.next=le,Re.lastBaseUpdate=ie))}if(A!==null){var Me=E.baseState;I=0,Re=le=ie=null,G=A;do{var me=G.lane&-536870913,Se=me!==G.lane;if(Se?(Lt&me)===me:(y&me)===me){me!==0&&me===Rl&&(vc=!0),Re!==null&&(Re=Re.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var qe=a,at=G;me=u;var Cn=h;switch(at.tag){case 1:if(qe=at.payload,typeof qe=="function"){Me=qe.call(Cn,Me,me);break e}Me=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=at.payload,me=typeof qe=="function"?qe.call(Cn,Me,me):qe,me==null)break e;Me=z({},Me,me);break e;case 2:ms=!0}}me=G.callback,me!==null&&(a.flags|=64,Se&&(a.flags|=8192),Se=E.callbacks,Se===null?E.callbacks=[me]:Se.push(me))}else Se={lane:me,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Re===null?(le=Re=Se,ie=Me):Re=Re.next=Se,I|=me;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;Se=G,G=Se.next,Se.next=null,E.lastBaseUpdate=Se,E.shared.pending=null}}while(!0);Re===null&&(ie=Me),E.baseState=ie,E.firstBaseUpdate=le,E.lastBaseUpdate=Re,A===null&&(E.shared.lanes=0),Ho|=I,a.lanes=I,a.memoizedState=Me}}function bh(a,u){if(typeof a!="function")throw Error(i(191,a));a.call(u)}function Xp(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)bh(h[a],u)}function Pn(a,u){try{var h=u.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var E=y.next;h=E;do{if((h.tag&a)===a){y=void 0;var A=h.create,I=h.inst;y=A(),I.destroy=y}h=h.next}while(h!==E)}}catch(G){nn(u,u.return,G)}}function Io(a,u,h){try{var y=u.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var A=E.next;y=A;do{if((y.tag&a)===a){var I=y.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,E=u;var ie=h;try{G()}catch(le){nn(E,ie,le)}}}y=y.next}while(y!==A)}}catch(le){nn(u,u.return,le)}}function vb(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{Xp(u,h)}catch(y){nn(a,a.return,y)}}}function Kp(a,u,h){h.props=Vs(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(y){nn(a,u,y)}}function Pa(a,u){try{var h=a.ref;if(h!==null){var y=a.stateNode;switch(a.tag){case 26:case 27:case 5:var E=y;break;default:E=y}typeof h=="function"?a.refCleanup=h(E):h.current=E}}catch(A){nn(a,u,A)}}function Ai(a,u){var h=a.ref,y=a.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(E){nn(a,u,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){nn(a,u,E)}else h.current=null}function bb(a){var u=a.type,h=a.memoizedProps,y=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(E){nn(a,a.return,E)}}function yb(a,u,h){try{var y=a.stateNode;$o(y,a.type,h,u),y[ii]=u}catch(E){nn(a,a.return,E)}}function wb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function Lr(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zn(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=kh));else if(y!==4&&y!==27&&(a=a.child,a!==null))for(Zn(a,u,h),a=a.sibling;a!==null;)Zn(a,u,h),a=a.sibling}function Vl(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(y!==4&&y!==27&&(a=a.child,a!==null))for(Vl(a,u,h),a=a.sibling;a!==null;)Vl(a,u,h),a=a.sibling}var qs=!1,mn=!1,Jp=!1,xb=typeof WeakSet=="function"?WeakSet:Set,Rn=null,Zp=!1;function Cb(a,u){if(a=a.containerInfo,Mm=Ic,a=Vv(a),hp(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var E=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var I=0,G=-1,ie=-1,le=0,Re=0,Me=a,me=null;t:for(;;){for(var Se;Me!==h||E!==0&&Me.nodeType!==3||(G=I+E),Me!==A||y!==0&&Me.nodeType!==3||(ie=I+y),Me.nodeType===3&&(I+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)me=Me,Me=Se;for(;;){if(Me===a)break t;if(me===h&&++le===E&&(G=I),me===A&&++Re===y&&(ie=I),(Se=Me.nextSibling)!==null)break;Me=me,me=Me.parentNode}Me=Se}h=G===-1||ie===-1?null:{start:G,end:ie}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dm={focusedElem:a,selectionRange:h},Ic=!1,Rn=u;Rn!==null;)if(u=Rn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Rn=a;else for(;Rn!==null;){switch(u=Rn,A=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,h=u,E=A.memoizedProps,A=A.memoizedState,y=h.stateNode;try{var qe=Vs(h.type,E,h.elementType===h.type);a=y.getSnapshotBeforeUpdate(qe,A),y.__reactInternalSnapshotBeforeUpdate=a}catch(at){nn(h,h.return,at)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)Pm(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Pm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=u.sibling,a!==null){a.return=u.return,Rn=a;break}Rn=u.return}return qe=Zp,Zp=!1,qe}function Eb(a,u,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:vs(a,h),y&4&&Pn(5,h);break;case 1:if(vs(a,h),y&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(G){nn(h,h.return,G)}else{var E=Vs(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(E,u,a.__reactInternalSnapshotBeforeUpdate)}catch(G){nn(h,h.return,G)}}y&64&&vb(h),y&512&&Pa(h,h.return);break;case 3:if(vs(a,h),y&64&&(y=h.updateQueue,y!==null)){if(a=null,h.child!==null)switch(h.child.tag){case 27:case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}try{Xp(y,a)}catch(G){nn(h,h.return,G)}}break;case 26:vs(a,h),y&512&&Pa(h,h.return);break;case 27:case 5:vs(a,h),u===null&&y&4&&bb(h),y&512&&Pa(h,h.return);break;case 12:vs(a,h);break;case 13:vs(a,h),y&4&&Rb(a,h);break;case 22:if(E=h.memoizedState!==null||qs,!E){u=u!==null&&u.memoizedState!==null||mn;var A=qs,I=mn;qs=E,(mn=u)&&!I?ki(a,h,(h.subtreeFlags&8772)!==0):vs(a,h),qs=A,mn=I}y&512&&(h.memoizedProps.mode==="manual"?Pa(h,h.return):Ai(h,h.return));break;default:vs(a,h)}}function Sb(a){var u=a.alternate;u!==null&&(a.alternate=null,Sb(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Uu(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var jn=null,Ui=!1;function gs(a,u,h){for(h=h.child;h!==null;)Qp(a,u,h),h=h.sibling}function Qp(a,u,h){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(hn,h)}catch{}switch(h.tag){case 26:mn||Ai(h,u),gs(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:mn||Ai(h,u);var y=jn,E=Ui;for(jn=h.stateNode,gs(a,u,h),h=h.stateNode,u=h.attributes;u.length;)h.removeAttributeNode(u[0]);Uu(h),jn=y,Ui=E;break;case 5:mn||Ai(h,u);case 6:E=jn;var A=Ui;if(jn=null,gs(a,u,h),jn=E,Ui=A,jn!==null)if(Ui)try{a=jn,y=h.stateNode,a.nodeType===8?a.parentNode.removeChild(y):a.removeChild(y)}catch(I){nn(h,u,I)}else try{jn.removeChild(h.stateNode)}catch(I){nn(h,u,I)}break;case 18:jn!==null&&(Ui?(u=jn,h=h.stateNode,u.nodeType===8?Om(u.parentNode,h):u.nodeType===1&&Om(u,h),Uc(u)):Om(jn,h.stateNode));break;case 4:y=jn,E=Ui,jn=h.stateNode.containerInfo,Ui=!0,gs(a,u,h),jn=y,Ui=E;break;case 0:case 11:case 14:case 15:mn||Io(2,h,u),mn||Io(4,h,u),gs(a,u,h);break;case 1:mn||(Ai(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"&&Kp(h,u,y)),gs(a,u,h);break;case 21:gs(a,u,h);break;case 22:mn||Ai(h,u),mn=(y=mn)||h.memoizedState!==null,gs(a,u,h),mn=y;break;default:gs(a,u,h)}}function Rb(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Uc(a)}catch(h){nn(u,u.return,h)}}function em(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new xb),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new xb),u;default:throw Error(i(435,a.tag))}}function yh(a,u){var h=em(a);u.forEach(function(y){var E=Mx.bind(null,a,y);h.has(y)||(h.add(y),y.then(E,E))})}function ai(a,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var E=h[y],A=a,I=u,G=I;e:for(;G!==null;){switch(G.tag){case 27:case 5:jn=G.stateNode,Ui=!1;break e;case 3:jn=G.stateNode.containerInfo,Ui=!0;break e;case 4:jn=G.stateNode.containerInfo,Ui=!0;break e}G=G.return}if(jn===null)throw Error(i(160));Qp(A,I,E),jn=null,Ui=!1,A=E.alternate,A!==null&&(A.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)tm(u,a),u=u.sibling}var $i=null;function tm(a,u){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ai(u,a),Vi(a),y&4&&(Io(3,a,a.return),Pn(3,a),Io(5,a,a.return));break;case 1:ai(u,a),Vi(a),y&512&&(mn||h===null||Ai(h,h.return)),y&64&&qs&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var E=$i;if(ai(u,a),Vi(a),y&512&&(mn||h===null||Ai(h,h.return)),y&4){var A=h!==null?h.memoizedState:null;if(y=a.memoizedState,h===null)if(y===null)if(a.stateNode===null){e:{y=a.type,h=a.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":A=E.getElementsByTagName("title")[0],(!A||A[pa]||A[Gn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=E.createElement(y),E.head.insertBefore(A,E.querySelector("head > title"))),Qn(A,y,h),A[Gn]=a,bn(A),y=A;break e;case"link":var I=ay("link","href",E).get(y+(h.href||""));if(I){for(var G=0;G<I.length;G++)if(A=I[G],A.getAttribute("href")===(h.href==null?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(G,1);break t}}A=E.createElement(y),Qn(A,y,h),E.head.appendChild(A);break;case"meta":if(I=ay("meta","content",E).get(y+(h.content||""))){for(G=0;G<I.length;G++)if(A=I[G],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(G,1);break t}}A=E.createElement(y),Qn(A,y,h),E.head.appendChild(A);break;default:throw Error(i(468,y))}A[Gn]=a,bn(A),y=A}a.stateNode=y}else ly(E,a.type,a.stateNode);else a.stateNode=Oc(E,y,a.memoizedProps);else A!==y?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,y===null?ly(E,a.type,a.stateNode):Oc(E,y,a.memoizedProps)):y===null&&a.stateNode!==null&&yb(a,a.memoizedProps,h.memoizedProps)}break;case 27:if(y&4&&a.alternate===null){E=a.stateNode,A=a.memoizedProps;try{for(var ie=E.firstChild;ie;){var le=ie.nextSibling,Re=ie.nodeName;ie[pa]||Re==="HEAD"||Re==="BODY"||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||E.removeChild(ie),ie=le}for(var Me=a.type,me=E.attributes;me.length;)E.removeAttributeNode(me[0]);Qn(E,Me,A),E[Gn]=a,E[ii]=A}catch(qe){nn(a,a.return,qe)}}case 5:if(ai(u,a),Vi(a),y&512&&(mn||h===null||Ai(h,h.return)),a.flags&32){E=a.stateNode;try{xr(E,"")}catch(qe){nn(a,a.return,qe)}}y&4&&a.stateNode!=null&&(E=a.memoizedProps,yb(a,E,h!==null?h.memoizedProps:E)),y&1024&&(Jp=!0);break;case 6:if(ai(u,a),Vi(a),y&4){if(a.stateNode===null)throw Error(i(162));y=a.memoizedProps,h=a.stateNode;try{h.nodeValue=y}catch(qe){nn(a,a.return,qe)}}break;case 3:if(jh=null,E=$i,$i=Lh(u.containerInfo),ai(u,a),$i=E,Vi(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Uc(u.containerInfo)}catch(qe){nn(a,a.return,qe)}Jp&&(Jp=!1,yc(a));break;case 4:y=$i,$i=Lh(a.stateNode.containerInfo),ai(u,a),Vi(a),$i=y;break;case 12:ai(u,a),Vi(a);break;case 13:ai(u,a),Vi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(cm=Fn()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,yh(a,y)));break;case 22:if(y&512&&(mn||h===null||Ai(h,h.return)),ie=a.memoizedState!==null,le=h!==null&&h.memoizedState!==null,Re=qs,Me=mn,qs=Re||ie,mn=Me||le,ai(u,a),mn=Me,qs=Re,Vi(a),u=a.stateNode,u._current=a,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,y&8192&&(u._visibility=ie?u._visibility&-2:u._visibility|1,ie&&(u=qs||mn,h===null||le||u||bi(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(h=null,u=a;;){if(u.tag===5||u.tag===26||u.tag===27){if(h===null){le=h=u;try{if(E=le.stateNode,ie)A=E.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=le.stateNode,G=le.memoizedProps.style;var Se=G!=null&&G.hasOwnProperty("display")?G.display:null;I.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(qe){nn(le,le.return,qe)}}}else if(u.tag===6){if(h===null){le=u;try{le.stateNode.nodeValue=ie?"":le.memoizedProps}catch(qe){nn(le,le.return,qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=a.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,yh(a,h))));break;case 19:ai(u,a),Vi(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,yh(a,y)));break;case 21:break;default:ai(u,a),Vi(a)}}function Vi(a){var u=a.flags;if(u&2){try{if(a.tag!==27){e:{for(var h=a.return;h!==null;){if(wb(h)){var y=h;break e}h=h.return}throw Error(i(160))}switch(y.tag){case 27:var E=y.stateNode,A=Lr(a);Vl(a,A,E);break;case 5:var I=y.stateNode;y.flags&32&&(xr(I,""),y.flags&=-33);var G=Lr(a);Vl(a,G,I);break;case 3:case 4:var ie=y.stateNode.containerInfo,le=Lr(a);Zn(a,le,ie);break;default:throw Error(i(161))}}}catch(Re){nn(a,a.return,Re)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function yc(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;yc(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function vs(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Eb(a,u.alternate,u),u=u.sibling}function bi(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Io(4,u,u.return),bi(u);break;case 1:Ai(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&Kp(u,u.return,h),bi(u);break;case 26:case 27:case 5:Ai(u,u.return),bi(u);break;case 22:Ai(u,u.return),u.memoizedState===null&&bi(u);break;default:bi(u)}a=a.sibling}}function ki(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,E=a,A=u,I=A.flags;switch(A.tag){case 0:case 11:case 15:ki(E,A,h),Pn(4,A);break;case 1:if(ki(E,A,h),y=A,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(le){nn(y,y.return,le)}if(y=A,E=y.updateQueue,E!==null){var G=y.stateNode;try{var ie=E.shared.hiddenCallbacks;if(ie!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ie.length;E++)bh(ie[E],G)}catch(le){nn(y,y.return,le)}}h&&I&64&&vb(A),Pa(A,A.return);break;case 26:case 27:case 5:ki(E,A,h),h&&y===null&&I&4&&bb(A),Pa(A,A.return);break;case 12:ki(E,A,h);break;case 13:ki(E,A,h),h&&I&4&&Rb(E,A);break;case 22:A.memoizedState===null&&ki(E,A,h),Pa(A,A.return);break;default:ki(E,A,h)}u=u.sibling}}function nm(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&tc(h))}function wh(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&tc(a))}function zo(a,u,h,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Tb(a,u,h,y),u=u.sibling}function Tb(a,u,h,y){var E=u.flags;switch(u.tag){case 0:case 11:case 15:zo(a,u,h,y),E&2048&&Pn(9,u);break;case 3:zo(a,u,h,y),E&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&tc(a)));break;case 12:if(E&2048){zo(a,u,h,y),a=u.stateNode;try{var A=u.memoizedProps,I=A.id,G=A.onPostCommit;typeof G=="function"&&G(I,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ie){nn(u,u.return,ie)}}else zo(a,u,h,y);break;case 23:break;case 22:A=u.stateNode,u.memoizedState!==null?A._visibility&4?zo(a,u,h,y):wc(a,u):A._visibility&4?zo(a,u,h,y):(A._visibility|=4,Wl(a,u,h,y,(u.subtreeFlags&10256)!==0)),E&2048&&nm(u.alternate,u);break;case 24:zo(a,u,h,y),E&2048&&wh(u.alternate,u);break;default:zo(a,u,h,y)}}function Wl(a,u,h,y,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var A=a,I=u,G=h,ie=y,le=I.flags;switch(I.tag){case 0:case 11:case 15:Wl(A,I,G,ie,E),Pn(8,I);break;case 23:break;case 22:var Re=I.stateNode;I.memoizedState!==null?Re._visibility&4?Wl(A,I,G,ie,E):wc(A,I):(Re._visibility|=4,Wl(A,I,G,ie,E)),E&&le&2048&&nm(I.alternate,I);break;case 24:Wl(A,I,G,ie,E),E&&le&2048&&wh(I.alternate,I);break;default:Wl(A,I,G,ie,E)}u=u.sibling}}function wc(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,y=u,E=y.flags;switch(y.tag){case 22:wc(h,y),E&2048&&nm(y.alternate,y);break;case 24:wc(h,y),E&2048&&wh(y.alternate,y);break;default:wc(h,y)}u=u.sibling}}var xc=8192;function Gl(a){if(a.subtreeFlags&xc)for(a=a.child;a!==null;)_b(a),a=a.sibling}function _b(a){switch(a.tag){case 26:Gl(a),a.flags&xc&&a.memoizedState!==null&&Vx($i,a.memoizedState,a.memoizedProps);break;case 5:Gl(a);break;case 3:case 4:var u=$i;$i=Lh(a.stateNode.containerInfo),Gl(a),$i=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=xc,xc=16777216,Gl(a),xc=u):Gl(a));break;default:Gl(a)}}function Ab(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function Cc(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];Rn=y,im(y,a)}Ab(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)kb(a),a=a.sibling}function kb(a){switch(a.tag){case 0:case 11:case 15:Cc(a),a.flags&2048&&Io(9,a,a.return);break;case 3:Cc(a);break;case 12:Cc(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&4&&(a.return===null||a.return.tag!==13)?(u._visibility&=-5,xh(a)):Cc(a);break;default:Cc(a)}}function xh(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];Rn=y,im(y,a)}Ab(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Io(8,u,u.return),xh(u);break;case 22:h=u.stateNode,h._visibility&4&&(h._visibility&=-5,xh(u));break;default:xh(u)}a=a.sibling}}function im(a,u){for(;Rn!==null;){var h=Rn;switch(h.tag){case 0:case 11:case 15:Io(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:tc(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,Rn=y;else e:for(h=a;Rn!==null;){y=Rn;var E=y.sibling,A=y.return;if(Sb(y),y===h){Rn=null;break e}if(E!==null){E.return=A,Rn=E;break e}Rn=A}}}function Mb(a,u,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(a,u,h,y){return new Mb(a,u,h,y)}function rm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fo(a,u){var h=a.alternate;return h===null?(h=Wi(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&31457280,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Db(a,u){a.flags&=31457282;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Ec(a,u,h,y,E,A){var I=0;if(y=a,typeof a=="function")rm(a)&&(I=1);else if(typeof a=="string")I=Ux(a,h,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case c:return ja(h.children,E,A,u);case d:I=8,E|=24;break;case f:return a=Wi(12,h,u,E|2),a.elementType=f,a.lanes=A,a;case S:return a=Wi(13,h,u,E),a.elementType=S,a.lanes=A,a;case _:return a=Wi(19,h,u,E),a.elementType=_,a.lanes=A,a;case k:return Nb(h,E,A,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:case w:I=10;break e;case v:I=9;break e;case C:I=11;break e;case R:I=14;break e;case M:I=16,y=null;break e}I=29,h=Error(i(130,a===null?"null":typeof a,"")),y=null}return u=Wi(I,h,u,E),u.elementType=a,u.type=y,u.lanes=A,u}function ja(a,u,h,y){return a=Wi(7,a,y,u),a.lanes=h,a}function Nb(a,u,h,y){a=Wi(22,a,y,u),a.elementType=k,a.lanes=h;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var A=E._current;if(A===null)throw Error(i(456));if((E._pendingVisibility&2)===0){var I=Er(A,2);I!==null&&(E._pendingVisibility|=2,li(I,A,2))}},attach:function(){var A=E._current;if(A===null)throw Error(i(456));if((E._pendingVisibility&2)!==0){var I=Er(A,2);I!==null&&(E._pendingVisibility&=-3,li(I,A,2))}}};return a.stateNode=E,a}function sm(a,u,h){return a=Wi(6,a,null,u),a.lanes=h,a}function om(a,u,h){return u=Wi(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function Ys(a){a.flags|=4}function Lb(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!uy(u)){if(u=cr.current,u!==null&&((Lt&4194176)===Lt?cs!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||u!==cs))throw Zu=Eo,Ju;a.flags|=8192}}function yi(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?bd():536870912,a.lanes|=u,Yl|=u)}function Sc(a,u){if(!ot)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function yn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(u)for(var E=a.child;E!==null;)h|=E.lanes|E.childLanes,y|=E.subtreeFlags&31457280,y|=E.flags&31457280,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)h|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=y,a.childLanes=h,u}function wx(a,u,h){var y=u.pendingProps;switch(gp(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(u),null;case 1:return yn(u),null;case 3:return h=u.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),fs(Bn),gt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Aa(u)?Ys(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Sr!==null&&(Xl(Sr),Sr=null))),yn(u),null;case 26:return h=u.memoizedState,a===null?(Ys(u),h!==null?(yn(u),Lb(u,h)):(yn(u),u.flags&=-16777217)):h?h!==a.memoizedState?(Ys(u),yn(u),Lb(u,h)):(yn(u),u.flags&=-16777217):(a.memoizedProps!==y&&Ys(u),yn(u),u.flags&=-16777217),null;case 27:tn(u),h=Oe.current;var E=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==y&&Ys(u);else{if(!y){if(u.stateNode===null)throw Error(i(166));return yn(u),null}a=Ne.current,Aa(u)?Kd(u):(a=jm(E,y,h),u.stateNode=a,Ys(u))}return yn(u),null;case 5:if(tn(u),h=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==y&&Ys(u);else{if(!y){if(u.stateNode===null)throw Error(i(166));return yn(u),null}if(a=Ne.current,Aa(u))Kd(u);else{switch(E=Mh(Oe.current),a){case 1:a=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=E.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?E.createElement(h,{is:y.is}):E.createElement(h)}}a[Gn]=u,a[ii]=y;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)a.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=a;e:switch(Qn(a,h,y),h){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ys(u)}}return yn(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==y&&Ys(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(i(166));if(a=Oe.current,Aa(u)){if(a=u.stateNode,h=u.memoizedProps,y=null,E=gi,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}a[Gn]=u,a=!!(a.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||ut(a.nodeValue,h)),a||_a(u)}else a=Mh(a).createTextNode(y),a[Gn]=u,u.stateNode=a}return yn(u),null;case 13:if(y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Aa(u),y!==null&&y.dehydrated!==null){if(a===null){if(!E)throw Error(i(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Gn]=u}else us(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;yn(u),E=!1}else Sr!==null&&(Xl(Sr),Sr=null),E=!0;if(!E)return u.flags&256?(Hs(u),u):(Hs(u),null)}if(Hs(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=y!==null,a=a!==null&&a.memoizedState!==null,h){y=u.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool);var A=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==E&&(y.flags|=2048)}return h!==a&&h&&(u.child.flags|=8192),yi(u,u.updateQueue),yn(u),null;case 4:return gt(),a===null&&Am(u.stateNode.containerInfo),yn(u),null;case 10:return fs(u.type),yn(u),null;case 19:if(ke(Hn),E=u.memoizedState,E===null)return yn(u),null;if(y=(u.flags&128)!==0,A=E.rendering,A===null)if(y)Sc(E,!1);else{if(Tn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(A=Qd(a),A!==null){for(u.flags|=128,Sc(E,!1),a=A.updateQueue,u.updateQueue=a,yi(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)Db(h,a),h=h.sibling;return je(Hn,Hn.current&1|2),u.child}a=a.sibling}E.tail!==null&&Fn()>Ch&&(u.flags|=128,y=!0,Sc(E,!1),u.lanes=4194304)}else{if(!y)if(a=Qd(A),a!==null){if(u.flags|=128,y=!0,a=a.updateQueue,u.updateQueue=a,yi(u,a),Sc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!ot)return yn(u),null}else 2*Fn()-E.renderingStartTime>Ch&&h!==536870912&&(u.flags|=128,y=!0,Sc(E,!1),u.lanes=4194304);E.isBackwards?(A.sibling=u.child,u.child=A):(a=E.last,a!==null?a.sibling=A:u.child=A,E.last=A)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Fn(),u.sibling=null,a=Hn.current,je(Hn,y?a&1|2:a&1),u):(yn(u),null);case 22:case 23:return Hs(u),bp(),y=u.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(h&536870912)!==0&&(u.flags&128)===0&&(yn(u),u.subtreeFlags&6&&(u.flags|=8192)):yn(u),h=u.updateQueue,h!==null&&yi(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048),a!==null&&ke(ka),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),fs(Bn),yn(u),null;case 25:return null}throw Error(i(156,u.tag))}function Ob(a,u){switch(gp(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return fs(Bn),gt(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return tn(u),null;case 13:if(Hs(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(i(340));us()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return ke(Hn),null;case 4:return gt(),null;case 10:return fs(u.type),null;case 22:case 23:return Hs(u),bp(),a!==null&&ke(ka),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return fs(Bn),null;case 25:return null;default:return null}}function Pb(a,u){switch(gp(u),u.tag){case 3:fs(Bn),gt();break;case 26:case 27:case 5:tn(u);break;case 4:gt();break;case 13:Hs(u);break;case 19:ke(Hn);break;case 10:fs(u.type);break;case 22:case 23:Hs(u),bp(),a!==null&&ke(ka);break;case 24:fs(Bn)}}var xx={getCacheForType:function(a){var u=oi(Bn),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h}},Cx=typeof WeakMap=="function"?WeakMap:Map,wn=0,Zt=null,Tt=null,Lt=0,sn=0,Gi=null,Xs=!1,ql=!1,am=!1,Ks=0,Tn=0,Ho=0,Ia=0,lm=0,hr=0,Yl=0,Rc=null,bs=null,um=!1,cm=0,Ch=1/0,Eh=null,ys=null,Tc=!1,za=null,_c=0,dm=0,hm=null,Ac=0,fm=null;function qi(){if((wn&2)!==0&&Lt!==0)return Lt&-Lt;if(W.T!==null){var a=Rl;return a!==0?a:Em()}return xd()}function jb(){hr===0&&(hr=(Lt&536870912)===0||ot?Fu():536870912);var a=cr.current;return a!==null&&(a.flags|=32),hr}function li(a,u,h){(a===Zt&&sn===2||a.cancelPendingCommit!==null)&&(Kl(a,0),Js(a,Lt,hr,!1)),fa(a,h),((wn&2)===0||a!==Zt)&&(a===Zt&&((wn&2)===0&&(Ia|=h),Tn===4&&Js(a,Lt,hr,!1)),Or(a))}function Ib(a,u,h){if((wn&6)!==0)throw Error(i(327));var y=!h&&(u&60)===0&&(u&a.expiredLanes)===0||ts(a,u),E=y?Rx(a,u):gm(a,u,!0),A=y;do{if(E===0){ql&&!y&&Js(a,u,0,!1);break}else if(E===6)Js(a,u,0,!Xs);else{if(h=a.current.alternate,A&&!Ex(h)){E=gm(a,u,!1),A=!1;continue}if(E===2){if(A=u,a.errorRecoveryDisabledLanes&A)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){u=I;e:{var G=a;E=Rc;var ie=G.current.memoizedState.isDehydrated;if(ie&&(Kl(G,I).flags|=256),I=gm(G,I,!1),I!==2){if(am&&!ie){G.errorRecoveryDisabledLanes|=A,Ia|=A,E=4;break e}A=bs,bs=E,A!==null&&Xl(A)}E=I}if(A=!1,E!==2)continue}}if(E===1){Kl(a,0),Js(a,u,0,!0);break}e:{switch(y=a,E){case 0:case 1:throw Error(i(345));case 4:if((u&4194176)===u){Js(y,u,hr,!Xs);break e}break;case 2:bs=null;break;case 3:case 5:break;default:throw Error(i(329))}if(y.finishedWork=h,y.finishedLanes=u,(u&62914560)===u&&(A=cm+300-Fn(),10<A)){if(Js(y,u,hr,!Xs),Rs(y,0)!==0)break e;y.timeoutHandle=Lm(zb.bind(null,y,h,bs,Eh,um,u,hr,Ia,Yl,Xs,2,-0,0),A);break e}zb(y,h,bs,Eh,um,u,hr,Ia,Yl,Xs,0,-0,0)}}break}while(!0);Or(a)}function Xl(a){bs===null?bs=a:bs.push.apply(bs,a)}function zb(a,u,h,y,E,A,I,G,ie,le,Re,Me,me){var Se=u.subtreeFlags;if((Se&8192||(Se&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:$x},_b(u),u=Wx(),u!==null)){a.cancelPendingCommit=u(Wb.bind(null,a,h,y,E,I,G,ie,1,Me,me)),Js(a,A,I,!le);return}Wb(a,h,y,E,I,G,ie,Re,Me,me)}function Ex(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var E=h[y],A=E.getSnapshot;E=E.value;try{if(!ji(A(),E))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Js(a,u,h,y){u&=~lm,u&=~Ia,a.suspendedLanes|=u,a.pingedLanes&=~u,y&&(a.warmLanes|=u),y=a.expirationTimes;for(var E=u;0<E;){var A=31-rn(E),I=1<<A;y[A]=-1,E&=~I}h!==0&&yd(a,h,u)}function Sh(){return(wn&6)===0?(Ba(0),!1):!0}function pm(){if(Tt!==null){if(sn===0)var a=Tt.return;else a=Tt,kr=Oo=null,kl(a),Is=null,zs=0,a=Tt;for(;a!==null;)Pb(a.alternate,a),a=a.return;Tt=null}}function Kl(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,Dh(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),pm(),Zt=a,Tt=h=Fo(a.current,null),Lt=u,sn=0,Gi=null,Xs=!1,ql=ts(a,u),am=!1,Yl=hr=lm=Ia=Ho=Tn=0,bs=Rc=null,um=!1,(u&8)!==0&&(u|=u&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=u;0<y;){var E=31-rn(y),A=1<<E;u|=a[E],y&=~A}return Ks=u,qd(),h}function Fb(a,u){wt=null,W.H=Sn,u===js?(u=Kv(),sn=3):u===Ju?(u=Kv(),sn=4):sn=u===Bp?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Gi=u,Tt===null&&(Tn=1,cc(a,mi(u,a.current)))}function Hb(){var a=W.H;return W.H=Sn,a===null?Sn:a}function Bb(){var a=W.A;return W.A=xx,a}function mm(){Tn=4,Xs||(Lt&4194176)!==Lt&&cr.current!==null||(ql=!0),(Ho&134217727)===0&&(Ia&134217727)===0||Zt===null||Js(Zt,Lt,hr,!1)}function gm(a,u,h){var y=wn;wn|=2;var E=Hb(),A=Bb();(Zt!==a||Lt!==u)&&(Eh=null,Kl(a,u)),u=!1;var I=Tn;e:do try{if(sn!==0&&Tt!==null){var G=Tt,ie=Gi;switch(sn){case 8:pm(),I=6;break e;case 3:case 2:case 6:cr.current===null&&(u=!0);var le=sn;if(sn=0,Gi=null,Fa(a,G,ie,le),h&&ql){I=0;break e}break;default:le=sn,sn=0,Gi=null,Fa(a,G,ie,le)}}Sx(),I=Tn;break}catch(Re){Fb(a,Re)}while(!0);return u&&a.shellSuspendCounter++,kr=Oo=null,wn=y,W.H=E,W.A=A,Tt===null&&(Zt=null,Lt=0,qd()),I}function Sx(){for(;Tt!==null;)Ub(Tt)}function Rx(a,u){var h=wn;wn|=2;var y=Hb(),E=Bb();Zt!==a||Lt!==u?(Eh=null,Ch=Fn()+500,Kl(a,u)):ql=ts(a,u);e:do try{if(sn!==0&&Tt!==null){u=Tt;var A=Gi;t:switch(sn){case 1:sn=0,Gi=null,Fa(a,u,A,1);break;case 2:if(Yv(A)){sn=0,Gi=null,$b(u);break}u=function(){sn===2&&Zt===a&&(sn=7),Or(a)},A.then(u,u);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:Yv(A)?(sn=0,Gi=null,$b(u)):(sn=0,Gi=null,Fa(a,u,A,7));break;case 5:var I=null;switch(Tt.tag){case 26:I=Tt.memoizedState;case 5:case 27:var G=Tt;if(!I||uy(I)){sn=0,Gi=null;var ie=G.sibling;if(ie!==null)Tt=ie;else{var le=G.return;le!==null?(Tt=le,kc(le)):Tt=null}break t}}sn=0,Gi=null,Fa(a,u,A,5);break;case 6:sn=0,Gi=null,Fa(a,u,A,6);break;case 8:pm(),Tn=6;break e;default:throw Error(i(462))}}Tx();break}catch(Re){Fb(a,Re)}while(!0);return kr=Oo=null,W.H=y,W.A=E,wn=h,Tt!==null?0:(Zt=null,Lt=0,qd(),Tn)}function Tx(){for(;Tt!==null&&!Xn();)Ub(Tt)}function Ub(a){var u=Yp(a.alternate,a,Ks);a.memoizedProps=a.pendingProps,u===null?kc(a):Tt=u}function $b(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=Oa(h,u,u.pendingProps,u.type,void 0,Lt);break;case 11:u=Oa(h,u,u.pendingProps,u.type.render,u.ref,Lt);break;case 5:kl(u);default:Pb(h,u),u=Tt=Db(u,Ks),u=Yp(h,u,Ks)}a.memoizedProps=a.pendingProps,u===null?kc(a):Tt=u}function Fa(a,u,h,y){kr=Oo=null,kl(u),Is=null,zs=0;var E=u.return;try{if(bx(a,E,u,h,Lt)){Tn=1,cc(a,mi(h,a.current)),Tt=null;return}}catch(A){if(E!==null)throw Tt=E,A;Tn=1,cc(a,mi(h,a.current)),Tt=null;return}u.flags&32768?(ot||y===1?a=!0:ql||(Lt&536870912)!==0?a=!1:(Xs=a=!0,(y===2||y===3||y===6)&&(y=cr.current,y!==null&&y.tag===13&&(y.flags|=16384))),Vb(u,a)):kc(u)}function kc(a){var u=a;do{if((u.flags&32768)!==0){Vb(u,Xs);return}a=u.return;var h=wx(u.alternate,u,Ks);if(h!==null){Tt=h;return}if(u=u.sibling,u!==null){Tt=u;return}Tt=u=a}while(u!==null);Tn===0&&(Tn=5)}function Vb(a,u){do{var h=Ob(a.alternate,a);if(h!==null){h.flags&=32767,Tt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){Tt=a;return}Tt=a=h}while(a!==null);Tn=6,Tt=null}function Wb(a,u,h,y,E,A,I,G,ie,le){var Re=W.T,Me=fe.p;try{fe.p=2,W.T=null,_x(a,u,h,y,Me,E,A,I,G,ie,le)}finally{W.T=Re,fe.p=Me}}function _x(a,u,h,y,E,A,I,G){do Zs();while(za!==null);if((wn&6)!==0)throw Error(i(327));var ie=a.finishedWork;if(y=a.finishedLanes,ie===null)return null;if(a.finishedWork=null,a.finishedLanes=0,ie===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var le=ie.lanes|ie.childLanes;if(le|=fp,Bu(a,y,le,A,I,G),a===Zt&&(Tt=Zt=null,Lt=0),(ie.subtreeFlags&10256)===0&&(ie.flags&10256)===0||Tc||(Tc=!0,dm=le,hm=h,Dx(Xe,function(){return Zs(),null})),h=(ie.flags&15990)!==0,(ie.subtreeFlags&15990)!==0||h?(h=W.T,W.T=null,A=fe.p,fe.p=2,I=wn,wn|=4,Cb(a,ie),tm(ie,a),lx(Dm,a.containerInfo),Ic=!!Mm,Dm=Mm=null,a.current=ie,Eb(a,ie.alternate,ie),ti(),wn=I,fe.p=A,W.T=h):a.current=ie,Tc?(Tc=!1,za=a,_c=y):Gb(a,le),le=a.pendingLanes,le===0&&(ys=null),Oi(ie.stateNode),Or(a),u!==null)for(E=a.onRecoverableError,ie=0;ie<u.length;ie++)le=u[ie],E(le.value,{componentStack:le.stack});return(_c&3)!==0&&Zs(),le=a.pendingLanes,(y&4194218)!==0&&(le&42)!==0?a===fm?Ac++:(Ac=0,fm=a):Ac=0,Ba(0),null}function Gb(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,tc(u)))}function Zs(){if(za!==null){var a=za,u=dm;dm=0;var h=wd(_c),y=W.T,E=fe.p;try{if(fe.p=32>h?32:h,W.T=null,za===null)var A=!1;else{h=hm,hm=null;var I=za,G=_c;if(za=null,_c=0,(wn&6)!==0)throw Error(i(331));var ie=wn;if(wn|=4,kb(I.current),Tb(I,I.current,G,h),wn=ie,Ba(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(hn,I)}catch{}A=!0}return A}finally{fe.p=E,W.T=y,Gb(a,u)}}return!1}function qb(a,u,h){u=mi(h,u),u=dc(a.stateNode,u,2),a=Bi(a,u,2),a!==null&&(fa(a,2),Or(a))}function nn(a,u,h){if(a.tag===3)qb(a,a,h);else for(;u!==null;){if(u.tag===3){qb(u,a,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ys===null||!ys.has(y))){a=mi(h,a),h=pb(2),y=Bi(u,h,2),y!==null&&(mb(h,y,u,a),fa(y,2),Or(y));break}}u=u.return}}function vm(a,u,h){var y=a.pingCache;if(y===null){y=a.pingCache=new Cx;var E=new Set;y.set(u,E)}else E=y.get(u),E===void 0&&(E=new Set,y.set(u,E));E.has(h)||(am=!0,E.add(h),a=Ax.bind(null,a,u,h),u.then(a,a))}function Ax(a,u,h){var y=a.pingCache;y!==null&&y.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Zt===a&&(Lt&h)===h&&(Tn===4||Tn===3&&(Lt&62914560)===Lt&&300>Fn()-cm?(wn&2)===0&&Kl(a,0):lm|=h,Yl===Lt&&(Yl=0)),Or(a)}function Yb(a,u){u===0&&(u=bd()),a=Er(a,u),a!==null&&(fa(a,u),Or(a))}function kx(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),Yb(a,h)}function Mx(a,u){var h=0;switch(a.tag){case 13:var y=a.stateNode,E=a.memoizedState;E!==null&&(h=E.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(u),Yb(a,h)}function Dx(a,u){return dn(a,u)}var Rh=null,Jl=null,bm=!1,Ha=!1,ym=!1,Bo=0;function Or(a){a!==Jl&&a.next===null&&(Jl===null?Rh=Jl=a:Jl=Jl.next=a),Ha=!0,bm||(bm=!0,Nx(Xb))}function Ba(a,u){if(!ym&&Ha){ym=!0;do for(var h=!1,y=Rh;y!==null;){if(a!==0){var E=y.pendingLanes;if(E===0)var A=0;else{var I=y.suspendedLanes,G=y.pingedLanes;A=(1<<31-rn(42|a)+1)-1,A&=E&~(I&~G),A=A&201326677?A&201326677|1:A?A|2:0}A!==0&&(h=!0,Cm(y,A))}else A=Lt,A=Rs(y,y===Zt?A:0),(A&3)===0||ts(y,A)||(h=!0,Cm(y,A));y=y.next}while(h);ym=!1}}function Xb(){Ha=bm=!1;var a=0;Bo!==0&&(Qs()&&(a=Bo),Bo=0);for(var u=Fn(),h=null,y=Rh;y!==null;){var E=y.next,A=wm(y,u);A===0?(y.next=null,h===null?Rh=E:h.next=E,E===null&&(Jl=h)):(h=y,(a!==0||(A&3)!==0)&&(Ha=!0)),y=E}Ba(a)}function wm(a,u){for(var h=a.suspendedLanes,y=a.pingedLanes,E=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var I=31-rn(A),G=1<<I,ie=E[I];ie===-1?((G&h)===0||(G&y)!==0)&&(E[I]=zu(G,u)):ie<=u&&(a.expiredLanes|=G),A&=~G}if(u=Zt,h=Lt,h=Rs(a,a===u?h:0),y=a.callbackNode,h===0||a===u&&sn===2||a.cancelPendingCommit!==null)return y!==null&&y!==null&&an(y),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||ts(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(y!==null&&an(y),wd(h)){case 2:case 8:h=Le;break;case 32:h=Xe;break;case 268435456:h=ft;break;default:h=Xe}return y=xm.bind(null,a),h=dn(h,y),a.callbackPriority=u,a.callbackNode=h,u}return y!==null&&y!==null&&an(y),a.callbackPriority=2,a.callbackNode=null,2}function xm(a,u){var h=a.callbackNode;if(Zs()&&a.callbackNode!==h)return null;var y=Lt;return y=Rs(a,a===Zt?y:0),y===0?null:(Ib(a,y,u),wm(a,Fn()),a.callbackNode!=null&&a.callbackNode===h?xm.bind(null,a):null)}function Cm(a,u){if(Zs())return null;Ib(a,u,!0)}function Nx(a){_n(function(){(wn&6)!==0?dn(we,a):a()})}function Em(){return Bo===0&&(Bo=Fu()),Bo}function Kb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vu(""+a)}function Mc(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function Th(a,u,h,y,E){if(u==="submit"&&h&&h.stateNode===E){var A=Kb((E[ii]||null).action),I=y.submitter;I&&(u=(u=I[ii]||null)?Kb(u.formAction):I.getAttribute("formAction"),u!==null&&(A=u,I=null));var G=new Od("action","action",null,y,E);a.push({event:G,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Bo!==0){var ie=I?Mc(E,I):new FormData(E);lc(h,{pending:!0,data:ie,method:E.method,action:A},null,ie)}}else typeof A=="function"&&(G.preventDefault(),ie=I?Mc(E,I):new FormData(E),lc(h,{pending:!0,data:ie,method:E.method,action:A},A,ie))},currentTarget:E}]})}}for(var Sm=0;Sm<Gv.length;Sm++){var Rm=Gv[Sm],Tm=Rm.toLowerCase(),Jb=Rm[0].toUpperCase()+Rm.slice(1);sr(Tm,"on"+Jb)}sr(Wv,"onAnimationEnd"),sr(Ii,"onAnimationIteration"),sr(Xu,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(cx,"onTransitionRun"),sr(xl,"onTransitionStart"),sr(Gd,"onTransitionCancel"),sr(Ku,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function Zb(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],E=y.event;y=y.listeners;e:{var A=void 0;if(u)for(var I=y.length-1;0<=I;I--){var G=y[I],ie=G.instance,le=G.currentTarget;if(G=G.listener,ie!==A&&E.isPropagationStopped())break e;A=G,E.currentTarget=le;try{A(E)}catch(Re){Il(Re)}E.currentTarget=null,A=ie}else for(I=0;I<y.length;I++){if(G=y[I],ie=G.instance,le=G.currentTarget,G=G.listener,ie!==A&&E.isPropagationStopped())break e;A=G,E.currentTarget=le;try{A(E)}catch(Re){Il(Re)}E.currentTarget=null,A=ie}}}}function Mt(a,u){var h=u[hl];h===void 0&&(h=u[hl]=new Set);var y=a+"__bubble";h.has(y)||(Qb(u,a,2,!1),h.add(y))}function _m(a,u,h){var y=0;u&&(y|=4),Qb(h,a,y,u)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Am(a){if(!a[_h]){a[_h]=!0,Sd.forEach(function(h){h!=="selectionchange"&&(Lx.has(h)||_m(h,!1,a),_m(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[_h]||(u[_h]=!0,_m("selectionchange",!1,u))}}function Qb(a,u,h,y){switch(fy(u)){case 2:var E=qx;break;case 8:E=Yx;break;default:E=$m}h=E.bind(null,u,h,a),E=void 0,!Gu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),y?E!==void 0?a.addEventListener(u,h,{capture:!0,passive:E}):a.addEventListener(u,h,!0):E!==void 0?a.addEventListener(u,h,{passive:E}):a.addEventListener(u,h,!1)}function km(a,u,h,y,E){var A=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var G=y.stateNode.containerInfo;if(G===E||G.nodeType===8&&G.parentNode===E)break;if(I===4)for(I=y.return;I!==null;){var ie=I.tag;if((ie===3||ie===4)&&(ie=I.stateNode.containerInfo,ie===E||ie.nodeType===8&&ie.parentNode===E))return;I=I.return}for(;G!==null;){if(I=_s(G),I===null)return;if(ie=I.tag,ie===5||ie===6||ie===26||ie===27){y=A=I;continue e}G=G.parentNode}}y=y.return}Sv(function(){var le=A,Re=ep(h),Me=[];e:{var me=Wt.get(a);if(me!==void 0){var Se=Od,qe=a;switch(a){case"keypress":if(Kt(h)===0)break e;case"keydown":case"keyup":Se=sp;break;case"focusin":qe="focus",Se=jd;break;case"focusout":qe="blur",Se=jd;break;case"beforeblur":case"afterblur":Se=jd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=ex;break;case Wv:case Ii:case Xu:Se=kv;break;case Ku:Se=tx;break;case"scroll":case"scrollend":Se=Jw;break;case"wheel":Se=ix;break;case"copy":case"cut":case"paste":Se=Dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Ns;break;case"toggle":case"beforetoggle":Se=zd}var at=(u&4)!==0,Cn=!at&&(a==="scroll"||a==="scrollend"),he=at?me!==null?me+"Capture":null:me;at=[];for(var ae=le,pe;ae!==null;){var _e=ae;if(pe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||pe===null||he===null||(_e=Wu(ae,he),_e!=null&&at.push(Nc(ae,_e,pe))),Cn)break;ae=ae.return}0<at.length&&(me=new Se(me,qe,null,h,Re),Me.push({event:me,listeners:at}))}}if((u&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",me&&h!==Qf&&(qe=h.relatedTarget||h.fromElement)&&(_s(qe)||qe[Ts]))break e;if((Se||me)&&(me=Re.window===Re?Re:(me=Re.ownerDocument)?me.defaultView||me.parentWindow:window,Se?(qe=h.relatedTarget||h.toElement,Se=le,qe=qe?_s(qe):null,qe!==null&&(Cn=X(qe),at=qe.tag,qe!==Cn||at!==5&&at!==27&&at!==6)&&(qe=null)):(Se=null,qe=le),Se!==qe)){if(at=yo,_e="onMouseLeave",he="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(at=Ns,_e="onPointerLeave",he="onPointerEnter",ae="pointer"),Cn=Se==null?me:wr(Se),pe=qe==null?me:wr(qe),me=new at(_e,ae+"leave",Se,h,Re),me.target=Cn,me.relatedTarget=pe,_e=null,_s(Re)===le&&(at=new at(he,ae+"enter",qe,h,Re),at.target=pe,at.relatedTarget=Cn,_e=at),Cn=_e,Se&&qe)t:{for(at=Se,he=qe,ae=0,pe=at;pe;pe=Zl(pe))ae++;for(pe=0,_e=he;_e;_e=Zl(_e))pe++;for(;0<ae-pe;)at=Zl(at),ae--;for(;0<pe-ae;)he=Zl(he),pe--;for(;ae--;){if(at===he||he!==null&&at===he.alternate)break t;at=Zl(at),he=Zl(he)}at=null}else at=null;Se!==null&&fr(Me,me,Se,at,!1),qe!==null&&Cn!==null&&fr(Me,Cn,qe,at,!0)}}e:{if(me=le?wr(le):window,Se=me.nodeName&&me.nodeName.toLowerCase(),Se==="select"||Se==="input"&&me.type==="file")var Ue=zv;else if(Ud(me))if(Fv)Ue=ox;else{Ue=Co;var Et=Uv}else Se=me.nodeName,!Se||Se.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?le&&Nd(le.elementType)&&(Ue=zv):Ue=Wd;if(Ue&&(Ue=Ue(a,le))){bl(Me,Ue,h,Re);break e}Et&&Et(a,me,le),a==="focusout"&&le&&me.type==="number"&&le.memoizedProps.value!=null&&Jf(me,"number",me.value)}switch(Et=le?wr(le):window,a){case"focusin":(Ud(Et)||Et.contentEditable==="true")&&(Cr=Et,ce=le,xe=null);break;case"focusout":xe=ce=Cr=null;break;case"mousedown":ge=!0;break;case"contextmenu":case"mouseup":case"dragend":ge=!1,He(Me,h,Re);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":He(Me,h,Re)}var Ke;if(lp)e:{switch(a){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else wo?jv(a,h)&&(tt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(tt="onCompositionStart");tt&&(Fd&&h.locale!=="ko"&&(wo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&wo&&(Ke=Rv()):(bo=Re,np="value"in bo?bo.value:bo.textContent,wo=!0)),Et=Ah(le,tt),0<Et.length&&(tt=new Ri(tt,a,null,h,Re),Me.push({event:tt,listeners:Et}),Ke?tt.data=Ke:(Ke=Bd(h),Ke!==null&&(tt.data=Ke)))),(Ke=Pv?rx(a,h):Iv(a,h))&&(tt=Ah(le,"onBeforeInput"),0<tt.length&&(Et=new Ri("onBeforeInput","beforeinput",null,h,Re),Me.push({event:Et,listeners:tt}),Et.data=Ke)),Th(Me,a,le,h,Re)}Zb(Me,u)})}function Nc(a,u,h){return{instance:a,listener:u,currentTarget:h}}function Ah(a,u){for(var h=u+"Capture",y=[];a!==null;){var E=a,A=E.stateNode;E=E.tag,E!==5&&E!==26&&E!==27||A===null||(E=Wu(a,h),E!=null&&y.unshift(Nc(a,E,A)),E=Wu(a,u),E!=null&&y.push(Nc(a,E,A))),a=a.return}return y}function Zl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function fr(a,u,h,y,E){for(var A=u._reactName,I=[];h!==null&&h!==y;){var G=h,ie=G.alternate,le=G.stateNode;if(G=G.tag,ie!==null&&ie===y)break;G!==5&&G!==26&&G!==27||le===null||(ie=le,E?(le=Wu(h,A),le!=null&&I.unshift(Nc(h,le,ie))):E||(le=Wu(h,A),le!=null&&I.push(Nc(h,le,ie)))),h=h.return}I.length!==0&&a.push({event:u,listeners:I})}var Ox=/\r\n?/g,Px=/\u0000|\uFFFD/g;function Uo(a){return(typeof a=="string"?a:""+a).replace(Ox,`
`).replace(Px,"")}function ut(a,u){return u=Uo(u),Uo(a)===u}function kh(){}function pt(a,u,h,y,E,A){switch(h){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||xr(a,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&xr(a,""+y);break;case"className":ma(a,"class",y);break;case"tabIndex":ma(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(a,h,y);break;case"style":wv(a,y,A);break;case"data":if(u!=="object"){ma(a,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=Vu(""+y),a.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(u!=="input"&&pt(a,u,"name",E.name,E,null),pt(a,u,"formEncType",E.formEncType,E,null),pt(a,u,"formMethod",E.formMethod,E,null),pt(a,u,"formTarget",E.formTarget,E,null)):(pt(a,u,"encType",E.encType,E,null),pt(a,u,"method",E.method,E,null),pt(a,u,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=Vu(""+y),a.setAttribute(h,y);break;case"onClick":y!=null&&(a.onclick=kh);break;case"onScroll":y!=null&&Mt("scroll",a);break;case"onScrollEnd":y!=null&&Mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(h=y.__html,h!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}h=Vu(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""+y):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":y===!0?a.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,y):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(h,y):a.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(h):a.setAttribute(h,y);break;case"popover":Mt("beforetoggle",a),Mt("toggle",a),fl(a,"popover",y);break;case"xlinkActuate":tr(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":tr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":tr(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":tr(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":tr(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":tr(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":tr(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":tr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":tr(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":fl(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xv.get(h)||h,fl(a,h,y))}}function xn(a,u,h,y,E,A){switch(h){case"style":wv(a,y,A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(h=y.__html,h!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof y=="string"?xr(a,y):(typeof y=="number"||typeof y=="bigint")&&xr(a,""+y);break;case"onScroll":y!=null&&Mt("scroll",a);break;case"onScrollEnd":y!=null&&Mt("scrollend",a);break;case"onClick":y!=null&&(a.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),u=h.slice(2,E?h.length-7:void 0),A=a[ii]||null,A=A!=null?A[h]:null,typeof A=="function"&&a.removeEventListener(u,A,E),typeof y=="function")){typeof A!="function"&&A!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,y,E);break e}h in a?a[h]=y:y===!0?a.setAttribute(h,""):fl(a,h,y)}}}function Qn(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",a),Mt("load",a);var y=!1,E=!1,A;for(A in h)if(h.hasOwnProperty(A)){var I=h[A];if(I!=null)switch(A){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:pt(a,u,A,I,h,null)}}E&&pt(a,u,"srcSet",h.srcSet,h,null),y&&pt(a,u,"src",h.src,h,null);return;case"input":Mt("invalid",a);var G=A=I=E=null,ie=null,le=null;for(y in h)if(h.hasOwnProperty(y)){var Re=h[y];if(Re!=null)switch(y){case"name":E=Re;break;case"type":I=Re;break;case"checked":ie=Re;break;case"defaultChecked":le=Re;break;case"value":A=Re;break;case"defaultValue":G=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,u));break;default:pt(a,u,y,Re,h,null)}}kd(a,A,G,ie,le,I,E,!1),ga(a);return;case"select":Mt("invalid",a),y=I=A=null;for(E in h)if(h.hasOwnProperty(E)&&(G=h[E],G!=null))switch(E){case"value":A=G;break;case"defaultValue":I=G;break;case"multiple":y=G;default:pt(a,u,E,G,h,null)}u=A,h=I,a.multiple=!!y,u!=null?ba(a,!!y,u,!1):h!=null&&ba(a,!!y,h,!0);return;case"textarea":Mt("invalid",a),A=E=y=null;for(I in h)if(h.hasOwnProperty(I)&&(G=h[I],G!=null))switch(I){case"value":y=G;break;case"defaultValue":E=G;break;case"children":A=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:pt(a,u,I,G,h,null)}Dd(a,y,E,A),ga(a);return;case"option":for(ie in h)if(h.hasOwnProperty(ie)&&(y=h[ie],y!=null))switch(ie){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:pt(a,u,ie,y,h,null)}return;case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":Mt("load",a);break;case"video":case"audio":for(y=0;y<Dc.length;y++)Mt(Dc[y],a);break;case"image":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"embed":case"source":case"link":Mt("error",a),Mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in h)if(h.hasOwnProperty(le)&&(y=h[le],y!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:pt(a,u,le,y,h,null)}return;default:if(Nd(u)){for(Re in h)h.hasOwnProperty(Re)&&(y=h[Re],y!==void 0&&xn(a,u,Re,y,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(y=h[G],y!=null&&pt(a,u,G,y,h,null))}function $o(a,u,h,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,A=null,I=null,G=null,ie=null,le=null,Re=null;for(Se in h){var Me=h[Se];if(h.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":ie=Me;default:y.hasOwnProperty(Se)||pt(a,u,Se,null,y,Me)}}for(var me in y){var Se=y[me];if(Me=h[me],y.hasOwnProperty(me)&&(Se!=null||Me!=null))switch(me){case"type":A=Se;break;case"name":E=Se;break;case"checked":le=Se;break;case"defaultChecked":Re=Se;break;case"value":I=Se;break;case"defaultValue":G=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,u));break;default:Se!==Me&&pt(a,u,me,Se,y,Me)}}Ad(a,I,G,ie,le,Re,A,E);return;case"select":Se=I=G=me=null;for(A in h)if(ie=h[A],h.hasOwnProperty(A)&&ie!=null)switch(A){case"value":break;case"multiple":Se=ie;default:y.hasOwnProperty(A)||pt(a,u,A,null,y,ie)}for(E in y)if(A=y[E],ie=h[E],y.hasOwnProperty(E)&&(A!=null||ie!=null))switch(E){case"value":me=A;break;case"defaultValue":G=A;break;case"multiple":I=A;default:A!==ie&&pt(a,u,E,A,y,ie)}u=G,h=I,y=Se,me!=null?ba(a,!!h,me,!1):!!y!=!!h&&(u!=null?ba(a,!!h,u,!0):ba(a,!!h,h?[]:"",!1));return;case"textarea":Se=me=null;for(G in h)if(E=h[G],h.hasOwnProperty(G)&&E!=null&&!y.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:pt(a,u,G,null,y,E)}for(I in y)if(E=y[I],A=h[I],y.hasOwnProperty(I)&&(E!=null||A!=null))switch(I){case"value":me=E;break;case"defaultValue":Se=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==A&&pt(a,u,I,E,y,A)}Md(a,me,Se);return;case"option":for(var qe in h)if(me=h[qe],h.hasOwnProperty(qe)&&me!=null&&!y.hasOwnProperty(qe))switch(qe){case"selected":a.selected=!1;break;default:pt(a,u,qe,null,y,me)}for(ie in y)if(me=y[ie],Se=h[ie],y.hasOwnProperty(ie)&&me!==Se&&(me!=null||Se!=null))switch(ie){case"selected":a.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:pt(a,u,ie,me,y,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in h)me=h[at],h.hasOwnProperty(at)&&me!=null&&!y.hasOwnProperty(at)&&pt(a,u,at,null,y,me);for(le in y)if(me=y[le],Se=h[le],y.hasOwnProperty(le)&&me!==Se&&(me!=null||Se!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,u));break;default:pt(a,u,le,me,y,Se)}return;default:if(Nd(u)){for(var Cn in h)me=h[Cn],h.hasOwnProperty(Cn)&&me!==void 0&&!y.hasOwnProperty(Cn)&&xn(a,u,Cn,void 0,y,me);for(Re in y)me=y[Re],Se=h[Re],!y.hasOwnProperty(Re)||me===Se||me===void 0&&Se===void 0||xn(a,u,Re,me,y,Se);return}}for(var he in h)me=h[he],h.hasOwnProperty(he)&&me!=null&&!y.hasOwnProperty(he)&&pt(a,u,he,null,y,me);for(Me in y)me=y[Me],Se=h[Me],!y.hasOwnProperty(Me)||me===Se||me==null&&Se==null||pt(a,u,Me,me,y,Se)}var Mm=null,Dm=null;function Mh(a){return a.nodeType===9?a:a.ownerDocument}function ey(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function Lc(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Nm=null;function Qs(){var a=window.event;return a&&a.type==="popstate"?a===Nm?!1:(Nm=a,!0):(Nm=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Dh=typeof clearTimeout=="function"?clearTimeout:void 0,gn=typeof Promise=="function"?Promise:void 0,_n=typeof queueMicrotask=="function"?queueMicrotask:typeof gn<"u"?function(a){return gn.resolve(null).then(a).catch(ny)}:Lm;function ny(a){setTimeout(function(){throw a})}function Om(a,u){var h=u,y=0;do{var E=h.nextSibling;if(a.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"){if(y===0){a.removeChild(E),Uc(u);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=E}while(h);Uc(u)}function Pm(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Pm(h),Uu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function jx(a,u,h,y){for(;a.nodeType===1;){var E=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[pa])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==E.rel||a.getAttribute("href")!==(E.href==null?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var A=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Pr(a.nextSibling),a===null)break}return null}function Ix(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Pr(a.nextSibling),a===null))return null;return a}function Pr(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}function iy(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}function jm(a,u,h){switch(u=Mh(h),a){case"html":if(a=u.documentElement,!a)throw Error(i(452));return a;case"head":if(a=u.head,!a)throw Error(i(453));return a;case"body":if(a=u.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var ui=new Map,Nh=new Set;function Lh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var ws=fe.d;fe.d={f:Oh,r:Yi,D:zx,C:Fx,L:Hx,m:Bx,X:eo,S:sy,M:mt};function Oh(){var a=ws.f(),u=Sh();return a||u}function Yi(a){var u=go(a);u!==null&&u.tag===5&&u.type==="form"?hb(u):ws.r(a)}var jr=typeof document>"u"?null:document;function ry(a,u,h){var y=jr;if(y&&typeof u=="string"&&u){var E=ri(u);E='link[rel="'+a+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),Nh.has(E)||(Nh.add(E),a={rel:a,crossOrigin:h,href:u},y.querySelector(E)===null&&(u=y.createElement("link"),Qn(u,"link",a),bn(u),y.head.appendChild(u)))}}function zx(a){ws.D(a),ry("dns-prefetch",a,null)}function Fx(a,u){ws.C(a,u),ry("preconnect",a,u)}function Hx(a,u,h){ws.L(a,u,h);var y=jr;if(y&&a&&u){var E='link[rel="preload"][as="'+ri(u)+'"]';u==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+ri(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+ri(h.imageSizes)+'"]')):E+='[href="'+ri(a)+'"]';var A=E;switch(u){case"style":A=ei(a);break;case"script":A=eu(a)}ui.has(A)||(a=z({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),ui.set(A,a),y.querySelector(E)!==null||u==="style"&&y.querySelector(Ql(A))||u==="script"&&y.querySelector(tu(A))||(u=y.createElement("link"),Qn(u,"link",a),bn(u),y.head.appendChild(u)))}}function Bx(a,u){ws.m(a,u);var h=jr;if(h&&a){var y=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+ri(y)+'"][href="'+ri(a)+'"]',A=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=eu(a)}if(!ui.has(A)&&(a=z({rel:"modulepreload",href:a},u),ui.set(A,a),h.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(tu(A)))return}y=h.createElement("link"),Qn(y,"link",a),bn(y),h.head.appendChild(y)}}}function sy(a,u,h){ws.S(a,u,h);var y=jr;if(y&&a){var E=vo(y).hoistableStyles,A=ei(a);u=u||"default";var I=E.get(A);if(!I){var G={loading:0,preload:null};if(I=y.querySelector(Ql(A)))G.loading=5;else{a=z({rel:"stylesheet",href:a,"data-precedence":u},h),(h=ui.get(A))&&zm(a,h);var ie=I=y.createElement("link");bn(ie),Qn(ie,"link",a),ie._p=new Promise(function(le,Re){ie.onload=le,ie.onerror=Re}),ie.addEventListener("load",function(){G.loading|=1}),ie.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Ph(I,u,y)}I={type:"stylesheet",instance:I,count:1,state:G},E.set(A,I)}}}function eo(a,u){ws.X(a,u);var h=jr;if(h&&a){var y=vo(h).hoistableScripts,E=eu(a),A=y.get(E);A||(A=h.querySelector(tu(E)),A||(a=z({src:a,async:!0},u),(u=ui.get(E))&&Fm(a,u),A=h.createElement("script"),bn(A),Qn(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(E,A))}}function mt(a,u){ws.M(a,u);var h=jr;if(h&&a){var y=vo(h).hoistableScripts,E=eu(a),A=y.get(E);A||(A=h.querySelector(tu(E)),A||(a=z({src:a,async:!0,type:"module"},u),(u=ui.get(E))&&Fm(a,u),A=h.createElement("script"),bn(A),Qn(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(E,A))}}function Im(a,u,h,y){var E=(E=Oe.current)?Lh(E):null;if(!E)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=ei(h.href),h=vo(E).hoistableStyles,y=h.get(u),y||(y={type:"style",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=ei(h.href);var A=vo(E).hoistableStyles,I=A.get(a);if(I||(E=E.ownerDocument||E,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,I),(A=E.querySelector(Ql(a)))&&!A._p&&(I.instance=A,I.state.loading=5),ui.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ui.set(a,h),A||qt(E,a,h,I.state))),u&&y===null)throw Error(i(528,""));return I}if(u&&y!==null)throw Error(i(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=eu(h),h=vo(E).hoistableScripts,y=h.get(u),y||(y={type:"script",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function ei(a){return'href="'+ri(a)+'"'}function Ql(a){return'link[rel="stylesheet"]['+a+"]"}function oy(a){return z({},a,{"data-precedence":a.precedence,precedence:null})}function qt(a,u,h,y){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=a.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Qn(u,"link",h),bn(u),a.head.appendChild(u))}function eu(a){return'[src="'+ri(a)+'"]'}function tu(a){return"script[async]"+a}function Oc(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var y=a.querySelector('style[data-href~="'+ri(h.href)+'"]');if(y)return u.instance=y,bn(y),y;var E=z({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),bn(y),Qn(y,"style",E),Ph(y,h.precedence,a),u.instance=y;case"stylesheet":E=ei(h.href);var A=a.querySelector(Ql(E));if(A)return u.state.loading|=4,u.instance=A,bn(A),A;y=oy(h),(E=ui.get(E))&&zm(y,E),A=(a.ownerDocument||a).createElement("link"),bn(A);var I=A;return I._p=new Promise(function(G,ie){I.onload=G,I.onerror=ie}),Qn(A,"link",y),u.state.loading|=4,Ph(A,h.precedence,a),u.instance=A;case"script":return A=eu(h.src),(E=a.querySelector(tu(A)))?(u.instance=E,bn(E),E):(y=h,(E=ui.get(A))&&(y=z({},h),Fm(y,E)),a=a.ownerDocument||a,E=a.createElement("script"),bn(E),Qn(E,"link",y),a.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Ph(y,h.precedence,a));return u.instance}function Ph(a,u,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,A=E,I=0;I<y.length;I++){var G=y[I];if(G.dataset.precedence===u)A=G;else if(A!==E)break}A?A.parentNode.insertBefore(a,A.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function zm(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function Fm(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var jh=null;function ay(a,u,h){if(jh===null){var y=new Map,E=jh=new Map;E.set(h,y)}else E=jh,y=E.get(h),y||(y=new Map,E.set(h,y));if(y.has(a))return y;for(y.set(a,null),h=h.getElementsByTagName(a),E=0;E<h.length;E++){var A=h[E];if(!(A[pa]||A[Gn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var I=A.getAttribute(u)||"";I=a+I;var G=y.get(I);G?G.push(A):y.set(I,[A])}}return y}function ly(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function Ux(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function uy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Pc=null;function $x(){}function Vx(a,u,h){if(Pc===null)throw Error(i(475));var y=Pc;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=ei(h.href),A=a.querySelector(Ql(E));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=Ih.bind(y),a.then(y,y)),u.state.loading|=4,u.instance=A,bn(A);return}A=a.ownerDocument||a,h=oy(h),(E=ui.get(E))&&zm(h,E),A=A.createElement("link"),bn(A);var I=A;I._p=new Promise(function(G,ie){I.onload=G,I.onerror=ie}),Qn(A,"link",h),u.instance=A}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=Ih.bind(y),a.addEventListener("load",u),a.addEventListener("error",u))}}function Wx(){if(Pc===null)throw Error(i(475));var a=Pc;return a.stylesheets&&a.count===0&&Hm(a,a.stylesheets),0<a.count?function(u){var h=setTimeout(function(){if(a.stylesheets&&Hm(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var nu=null;function Hm(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,nu=new Map,u.forEach(Bm,a),nu=null,Ih.call(a))}function Bm(a,u){if(!(u.state.loading&4)){var h=nu.get(a);if(h)var y=h.get(null);else{h=new Map,nu.set(a,h);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<E.length;A++){var I=E[A];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),y=I)}y&&h.set(null,y)}E=u.instance,I=E.getAttribute("data-precedence"),A=h.get(I)||y,A===y&&h.set(null,E),h.set(I,E),this.count++,y=Ih.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),A?A.parentNode.insertBefore(E,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),u.state.loading|=4}}var jc={$$typeof:w,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Gx(a,u,h,y,E,A,I,G){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.hiddenUpdates=Hu(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function cy(a,u,h,y,E,A,I,G,ie,le,Re,Me){return a=new Gx(a,u,h,I,G,ie,le,Me),u=1,A===!0&&(u|=24),A=Wi(3,null,null,u),a.current=A,A.stateNode=a,u=yp(),u.refCount++,a.pooledCache=u,u.refCount++,A.memoizedState={element:y,isDehydrated:h,cache:u},mc(A),a}function $n(a){return a?(a=Ea,a):Ea}function wi(a,u,h,y,E,A){E=$n(E),y.context===null?y.context=E:y.pendingContext=E,y=Dr(u),y.payload={element:h},A=A===void 0?null:A,A!==null&&(y.callback=A),h=Bi(a,y,u),h!==null&&(li(h,a,u),Je(h,a,u))}function dy(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Um(a,u){dy(a,u),(a=a.alternate)&&dy(a,u)}function hy(a){if(a.tag===13){var u=Er(a,67108864);u!==null&&li(u,a,67108864),Um(a,67108864)}}var Ic=!0;function qx(a,u,h,y){var E=W.T;W.T=null;var A=fe.p;try{fe.p=2,$m(a,u,h,y)}finally{fe.p=A,W.T=E}}function Yx(a,u,h,y){var E=W.T;W.T=null;var A=fe.p;try{fe.p=8,$m(a,u,h,y)}finally{fe.p=A,W.T=E}}function $m(a,u,h,y){if(Ic){var E=zh(y);if(E===null)km(a,u,y,Fh,h),py(a,y);else if(Kx(E,a,u,h,y))y.stopPropagation();else if(py(a,y),u&4&&-1<Xx.indexOf(a)){for(;E!==null;){var A=go(E);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var I=Qi(A.pendingLanes);if(I!==0){var G=A;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var ie=1<<31-rn(I);G.entanglements[1]|=ie,I&=~ie}Or(A),(wn&6)===0&&(Ch=Fn()+500,Ba(0))}}break;case 13:G=Er(A,2),G!==null&&li(G,A,2),Sh(),Um(A,2)}if(A=zh(y),A===null&&km(a,u,y,Fh,h),A===E)break;E=A}E!==null&&y.stopPropagation()}else km(a,u,y,null,h)}}function zh(a){return a=ep(a),Vm(a)}var Fh=null;function Vm(a){if(Fh=null,a=_s(a),a!==null){var u=X(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=K(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return Fh=a,null}function fy(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case we:return 2;case Le:return 8;case Xe:case st:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Hh=!1,to=null,Vo=null,Wo=null,zc=new Map,Fc=new Map,Xi=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(a,u){switch(a){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":zc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(u.pointerId)}}function Hc(a,u,h,y,E,A){return a===null||a.nativeEvent!==A?(a={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:A,targetContainers:[E]},u!==null&&(u=go(u),u!==null&&hy(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),a)}function Kx(a,u,h,y,E){switch(u){case"focusin":return to=Hc(to,a,u,h,y,E),!0;case"dragenter":return Vo=Hc(Vo,a,u,h,y,E),!0;case"mouseover":return Wo=Hc(Wo,a,u,h,y,E),!0;case"pointerover":var A=E.pointerId;return zc.set(A,Hc(zc.get(A)||null,a,u,h,y,E)),!0;case"gotpointercapture":return A=E.pointerId,Fc.set(A,Hc(Fc.get(A)||null,a,u,h,y,E)),!0}return!1}function my(a){var u=_s(a.target);if(u!==null){var h=X(u);if(h!==null){if(u=h.tag,u===13){if(u=K(h),u!==null){a.blockedOn=u,Gf(a.priority,function(){if(h.tag===13){var y=qi(),E=Er(h,y);E!==null&&li(E,h,y),Um(h,y)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Bc(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=zh(a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);Qf=y,h.target.dispatchEvent(y),Qf=null}else return u=go(h),u!==null&&hy(u),a.blockedOn=h,!1;u.shift()}return!0}function Wm(a,u,h){Bc(a)&&h.delete(u)}function Jx(){Hh=!1,to!==null&&Bc(to)&&(to=null),Vo!==null&&Bc(Vo)&&(Vo=null),Wo!==null&&Bc(Wo)&&(Wo=null),zc.forEach(Wm),Fc.forEach(Wm)}function Bh(a,u){a.blockedOn===u&&(a.blockedOn=null,Hh||(Hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jx)))}var Uh=null;function gy(a){Uh!==a&&(Uh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uh===a&&(Uh=null);for(var u=0;u<a.length;u+=3){var h=a[u],y=a[u+1],E=a[u+2];if(typeof y!="function"){if(Vm(y||h)===null)continue;break}var A=go(h);A!==null&&(a.splice(u,3),u-=3,lc(A,{pending:!0,data:E,method:h.method,action:y},y,E))}}))}function Uc(a){function u(ie){return Bh(ie,a)}to!==null&&Bh(to,a),Vo!==null&&Bh(Vo,a),Wo!==null&&Bh(Wo,a),zc.forEach(u),Fc.forEach(u);for(var h=0;h<Xi.length;h++){var y=Xi[h];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Xi.length&&(h=Xi[0],h.blockedOn===null);)my(h),h.blockedOn===null&&Xi.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var E=h[y],A=h[y+1],I=E[ii]||null;if(typeof A=="function")I||gy(h);else if(I){var G=null;if(A&&A.hasAttribute("formAction")){if(E=A,I=A[ii]||null)G=I.formAction;else if(Vm(E)!==null)continue}else G=I.action;typeof G=="function"?h[y+1]=G:(h.splice(y,3),y-=3),gy(h)}}}function Gm(a){this._internalRoot=a}$h.prototype.render=Gm.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(i(409));var h=u.current,y=qi();wi(h,y,a,u,null,null)},$h.prototype.unmount=Gm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;a.tag===0&&Zs(),wi(a.current,2,null,a,null,null),Sh(),u[Ts]=null}};function $h(a){this._internalRoot=a}$h.prototype.unstable_scheduleHydration=function(a){if(a){var u=xd();a={blockedOn:null,target:a,priority:u};for(var h=0;h<Xi.length&&u!==0&&u<Xi[h].priority;h++);Xi.splice(h,0,a),h===0&&my(a)}};var vy=e.version;if(vy!=="19.0.0")throw Error(i(527,vy,"19.0.0"));fe.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=ee(u),a=a!==null?ue(a):null,a=a===null?null:a.stateNode,a};var Zx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:W,findFiberByHostInstance:_s,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{hn=Vh.inject(Zx),ln=Vh}catch{}}return Ym.createRoot=function(a,u){if(!r(a))throw Error(i(299));var h=!1,y="",E=Ws,A=fb,I=Gs,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(G=u.unstable_transitionCallbacks)),u=cy(a,1,!1,null,null,h,y,E,A,I,G,null),a[Ts]=u.current,Am(a.nodeType===8?a.parentNode:a),new Gm(u)},Ym.hydrateRoot=function(a,u,h){if(!r(a))throw Error(i(299));var y=!1,E="",A=Ws,I=fb,G=Gs,ie=null,le=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ie=h.unstable_transitionCallbacks),h.formState!==void 0&&(le=h.formState)),u=cy(a,1,!0,u,h??null,y,E,A,I,G,ie,le),u.context=$n(null),h=u.current,y=qi(),E=Dr(y),E.callback=null,Bi(h,E,y),u.current.lanes=y,fa(u,y),Or(u),a[Ts]=u.current,Am(a),new $h(u)},Ym.version="19.0.0",Ym}var HR;function GI(){if(HR)return o1.exports;HR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o1.exports=WI(),o1.exports}var qI=GI();const YI={theme:"system",setTheme:()=>null},mA=x.createContext(YI);function XI({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...i}){const[r,s]=x.useState(()=>localStorage.getItem(n)||e);x.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),r==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(r)},[r]);const o={theme:r,setTheme:l=>{localStorage.setItem(n,l),s(l)}};return g.jsx(mA.Provider,{...i,value:o,children:t})}const ho=()=>{const t=x.useContext(mA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Yn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Yn(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var KI={value:()=>{}};function X0(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new e0(n)}function e0(t){this._=t}function JI(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}e0.prototype=X0.prototype={constructor:e0,on:function(t,e){var n=this._,i=JI(t+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=ZI(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(t=i[s]).type)n[r]=BR(n[r],t.name,e);else if(e==null)for(r in n)n[r]=BR(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new e0(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function ZI(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function BR(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=KI,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var pC="http://www.w3.org/1999/xhtml";const UR={svg:"http://www.w3.org/2000/svg",xhtml:pC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),UR.hasOwnProperty(e)?{space:UR[e],local:t}:t}function QI(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pC&&e.documentElement.namespaceURI===pC?e.createElement(t):e.createElementNS(n,t)}}function ez(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gA(t){var e=K0(t);return(e.local?ez:QI)(e)}function tz(){}function VE(t){return t==null?tz:function(){return this.querySelector(t)}}function nz(t){typeof t!="function"&&(t=VE(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new qr(i,this._parents)}function iz(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rz(){return[]}function vA(t){return t==null?rz:function(){return this.querySelectorAll(t)}}function sz(t){return function(){return iz(t.apply(this,arguments))}}function oz(t){typeof t=="function"?t=sz(t):t=vA(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o=e[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(i.push(t.call(c,c.__data__,d,o)),r.push(c));return new qr(i,r)}function bA(t){return function(){return this.matches(t)}}function yA(t){return function(e){return e.matches(t)}}var az=Array.prototype.find;function lz(t){return function(){return az.call(this.children,t)}}function uz(){return this.firstElementChild}function cz(t){return this.select(t==null?uz:lz(typeof t=="function"?t:yA(t)))}var dz=Array.prototype.filter;function hz(){return Array.from(this.children)}function fz(t){return function(){return dz.call(this.children,t)}}function pz(t){return this.selectAll(t==null?hz:fz(typeof t=="function"?t:yA(t)))}function mz(t){typeof t!="function"&&(t=bA(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new qr(i,this._parents)}function wA(t){return new Array(t.length)}function gz(){return new qr(this._enter||this._groups.map(wA),this._parents)}function h0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h0.prototype={constructor:h0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vz(t){return function(){return t}}function bz(t,e,n,i,r,s){for(var o=0,l,c=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],i[o]=l):n[o]=new h0(t,s[o]);for(;o<c;++o)(l=e[o])&&(r[o]=l)}function yz(t,e,n,i,r,s,o){var l,c,d=new Map,f=e.length,m=s.length,v=new Array(f),w;for(l=0;l<f;++l)(c=e[l])&&(v[l]=w=o.call(c,c.__data__,l,e)+"",d.has(w)?r[l]=c:d.set(w,c));for(l=0;l<m;++l)w=o.call(t,s[l],l,s)+"",(c=d.get(w))?(i[l]=c,c.__data__=s[l],d.delete(w)):n[l]=new h0(t,s[l]);for(l=0;l<f;++l)(c=e[l])&&d.get(v[l])===c&&(r[l]=c)}function wz(t){return t.__data__}function xz(t,e){if(!arguments.length)return Array.from(this,wz);var n=e?yz:bz,i=this._parents,r=this._groups;typeof t!="function"&&(t=vz(t));for(var s=r.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var f=i[d],m=r[d],v=m.length,w=Cz(t.call(f,f&&f.__data__,d,i)),C=w.length,S=l[d]=new Array(C),_=o[d]=new Array(C),R=c[d]=new Array(v);n(f,m,S,_,R,w,e);for(var M=0,k=0,D,P;M<C;++M)if(D=S[M]){for(M>=k&&(k=M+1);!(P=_[k])&&++k<C;);D._next=P||null}}return o=new qr(o,i),o._enter=l,o._exit=c,o}function Cz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ez(){return new qr(this._exit||this._groups.map(wA),this._parents)}function Sz(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Rz(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),l=new Array(r),c=0;c<o;++c)for(var d=n[c],f=i[c],m=d.length,v=l[c]=new Array(m),w,C=0;C<m;++C)(w=d[C]||f[C])&&(v[C]=w);for(;c<r;++c)l[c]=n[c];return new qr(l,this._parents)}function Tz(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function _z(t){t||(t=Az);function e(m,v){return m&&v?t(m.__data__,v.__data__):!m-!v}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],l=o.length,c=r[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(c[f]=d);c.sort(e)}return new qr(r,this._parents).order()}function Az(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kz(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mz(){return Array.from(this)}function Dz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function Nz(){let t=0;for(const e of this)++t;return t}function Lz(){return!this.node()}function Oz(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,o=r.length,l;s<o;++s)(l=r[s])&&t.call(l,l.__data__,s,r);return this}function Pz(t){return function(){this.removeAttribute(t)}}function jz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Iz(t,e){return function(){this.setAttribute(t,e)}}function zz(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Hz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bz(t,e){var n=K0(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?jz:Pz:typeof e=="function"?n.local?Hz:Fz:n.local?zz:Iz)(n,e))}function xA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Uz(t){return function(){this.style.removeProperty(t)}}function $z(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vz(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Wz(t,e,n){return arguments.length>1?this.each((e==null?Uz:typeof e=="function"?Vz:$z)(t,e,n??"")):bf(this.node(),t)}function bf(t,e){return t.style.getPropertyValue(e)||xA(t).getComputedStyle(t,null).getPropertyValue(e)}function Gz(t){return function(){delete this[t]}}function qz(t,e){return function(){this[t]=e}}function Yz(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xz(t,e){return arguments.length>1?this.each((e==null?Gz:typeof e=="function"?Yz:qz)(t,e)):this.node()[t]}function CA(t){return t.trim().split(/^|\s+/)}function WE(t){return t.classList||new EA(t)}function EA(t){this._node=t,this._names=CA(t.getAttribute("class")||"")}EA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function SA(t,e){for(var n=WE(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function RA(t,e){for(var n=WE(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Kz(t){return function(){SA(this,t)}}function Jz(t){return function(){RA(this,t)}}function Zz(t,e){return function(){(e.apply(this,arguments)?SA:RA)(this,t)}}function Qz(t,e){var n=CA(t+"");if(arguments.length<2){for(var i=WE(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Zz:e?Kz:Jz)(n,e))}function e4(){this.textContent=""}function t4(t){return function(){this.textContent=t}}function n4(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function i4(t){return arguments.length?this.each(t==null?e4:(typeof t=="function"?n4:t4)(t)):this.node().textContent}function r4(){this.innerHTML=""}function s4(t){return function(){this.innerHTML=t}}function o4(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function a4(t){return arguments.length?this.each(t==null?r4:(typeof t=="function"?o4:s4)(t)):this.node().innerHTML}function l4(){this.nextSibling&&this.parentNode.appendChild(this)}function u4(){return this.each(l4)}function c4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d4(){return this.each(c4)}function h4(t){var e=typeof t=="function"?t:gA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function f4(){return null}function p4(t,e){var n=typeof t=="function"?t:gA(t),i=e==null?f4:typeof e=="function"?e:VE(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function m4(){var t=this.parentNode;t&&t.removeChild(this)}function g4(){return this.each(m4)}function v4(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function b4(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y4(t){return this.select(t?b4:v4)}function w4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function x4(t){return function(e){t.call(this,e,this.__data__)}}function C4(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function E4(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function S4(t,e,n){return function(){var i=this.__on,r,s=x4(e);if(i){for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function R4(t,e,n){var i=C4(t+""),r,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(r=0,f=l[c];r<s;++r)if((o=i[r]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?S4:E4,r=0;r<s;++r)this.each(l(i[r],e,n));return this}function TA(t,e,n){var i=xA(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function T4(t,e){return function(){return TA(this,t,e)}}function _4(t,e){return function(){return TA(this,t,e.apply(this,arguments))}}function A4(t,e){return this.each((typeof e=="function"?_4:T4)(t,e))}function*k4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var _A=[null];function qr(t,e){this._groups=t,this._parents=e}function Xg(){return new qr([[document.documentElement]],_A)}function M4(){return this}qr.prototype=Xg.prototype={constructor:qr,select:nz,selectAll:oz,selectChild:cz,selectChildren:pz,filter:mz,data:xz,enter:gz,exit:Ez,join:Sz,merge:Rz,selection:M4,order:Tz,sort:_z,call:kz,nodes:Mz,node:Dz,size:Nz,empty:Lz,each:Oz,attr:Bz,style:Wz,property:Xz,classed:Qz,text:i4,html:a4,raise:u4,lower:d4,append:h4,insert:p4,remove:g4,clone:y4,datum:w4,on:R4,dispatch:A4,[Symbol.iterator]:k4};function Vr(t){return typeof t=="string"?new qr([[document.querySelector(t)]],[document.documentElement]):new qr([[t]],_A)}function D4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ro(t,e){if(t=D4(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const N4={passive:!1},Sg={capture:!0,passive:!1};function c1(t){t.stopImmediatePropagation()}function df(t){t.preventDefault(),t.stopImmediatePropagation()}function AA(t){var e=t.document.documentElement,n=Vr(t).on("dragstart.drag",df,Sg);"onselectstart"in e?n.on("selectstart.drag",df,Sg):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function kA(t,e){var n=t.document.documentElement,i=Vr(t).on("dragstart.drag",null);e&&(i.on("click.drag",df,Sg),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yy=t=>()=>t;function mC(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:s,x:o,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}mC.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function L4(t){return!t.ctrlKey&&!t.button}function O4(){return this.parentNode}function P4(t,e){return e??{x:t.x,y:t.y}}function j4(){return navigator.maxTouchPoints||"ontouchstart"in this}function MA(){var t=L4,e=O4,n=P4,i=j4,r={},s=X0("start","drag","end"),o=0,l,c,d,f,m=0;function v(D){D.on("mousedown.drag",w).filter(i).on("touchstart.drag",_).on("touchmove.drag",R,N4).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(D,P){if(!(f||!t.call(this,D,P))){var O=k(this,e.call(this,D,P),D,P,"mouse");O&&(Vr(D.view).on("mousemove.drag",C,Sg).on("mouseup.drag",S,Sg),AA(D.view),c1(D),d=!1,l=D.clientX,c=D.clientY,O("start",D))}}function C(D){if(df(D),!d){var P=D.clientX-l,O=D.clientY-c;d=P*P+O*O>m}r.mouse("drag",D)}function S(D){Vr(D.view).on("mousemove.drag mouseup.drag",null),kA(D.view,d),df(D),r.mouse("end",D)}function _(D,P){if(t.call(this,D,P)){var O=D.changedTouches,j=e.call(this,D,P),B=O.length,W,z;for(W=0;W<B;++W)(z=k(this,j,D,P,O[W].identifier,O[W]))&&(c1(D),z("start",D,O[W]))}}function R(D){var P=D.changedTouches,O=P.length,j,B;for(j=0;j<O;++j)(B=r[P[j].identifier])&&(df(D),B("drag",D,P[j]))}function M(D){var P=D.changedTouches,O=P.length,j,B;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),j=0;j<O;++j)(B=r[P[j].identifier])&&(c1(D),B("end",D,P[j]))}function k(D,P,O,j,B,W){var z=s.copy(),Q=ro(W||O,P),Z,ne,H;if((H=n.call(D,new mC("beforestart",{sourceEvent:O,target:v,identifier:B,active:o,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:z}),j))!=null)return Z=H.x-Q[0]||0,ne=H.y-Q[1]||0,function Y(U,J,X){var K=Q,L;switch(U){case"start":r[B]=Y,L=o++;break;case"end":delete r[B],--o;case"drag":Q=ro(X||J,P),L=o;break}z.call(U,D,new mC(U,{sourceEvent:J,subject:H,target:v,identifier:B,active:L,x:Q[0]+Z,y:Q[1]+ne,dx:Q[0]-K[0],dy:Q[1]-K[1],dispatch:z}),j)}}return v.filter=function(D){return arguments.length?(t=typeof D=="function"?D:yy(!!D),v):t},v.container=function(D){return arguments.length?(e=typeof D=="function"?D:yy(D),v):e},v.subject=function(D){return arguments.length?(n=typeof D=="function"?D:yy(D),v):n},v.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:yy(!!D),v):i},v.on=function(){var D=s.on.apply(s,arguments);return D===s?v:D},v.clickDistance=function(D){return arguments.length?(m=(D=+D)*D,v):Math.sqrt(m)},v}function GE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function DA(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Kg(){}var Rg=.7,f0=1/Rg,hf="\\s*([+-]?\\d+)\\s*",Tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I4=/^#([0-9a-f]{3,8})$/,z4=new RegExp(`^rgb\\(${hf},${hf},${hf}\\)$`),F4=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),H4=new RegExp(`^rgba\\(${hf},${hf},${hf},${Tg}\\)$`),B4=new RegExp(`^rgba\\(${sa},${sa},${sa},${Tg}\\)$`),U4=new RegExp(`^hsl\\(${Tg},${sa},${sa}\\)$`),$4=new RegExp(`^hsla\\(${Tg},${sa},${sa},${Tg}\\)$`),$R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GE(Kg,_g,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VR,formatHex:VR,formatHex8:V4,formatHsl:W4,formatRgb:WR,toString:WR});function VR(){return this.rgb().formatHex()}function V4(){return this.rgb().formatHex8()}function W4(){return NA(this).formatHsl()}function WR(){return this.rgb().formatRgb()}function _g(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=I4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GR(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=z4.exec(t))?new gr(e[1],e[2],e[3],1):(e=F4.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=H4.exec(t))?wy(e[1],e[2],e[3],e[4]):(e=B4.exec(t))?wy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=U4.exec(t))?XR(e[1],e[2]/100,e[3]/100,1):(e=$4.exec(t))?XR(e[1],e[2]/100,e[3]/100,e[4]):$R.hasOwnProperty(t)?GR($R[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function GR(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function wy(t,e,n,i){return i<=0&&(t=e=n=NaN),new gr(t,e,n,i)}function G4(t){return t instanceof Kg||(t=_g(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function gC(t,e,n,i){return arguments.length===1?G4(t):new gr(t,e,n,i??1)}function gr(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}GE(gr,gC,DA(Kg,{brighter(t){return t=t==null?f0:Math.pow(f0,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rg:Math.pow(Rg,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(Qc(this.r),Qc(this.g),Qc(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qR,formatHex:qR,formatHex8:q4,formatRgb:YR,toString:YR}));function qR(){return`#${Zc(this.r)}${Zc(this.g)}${Zc(this.b)}`}function q4(){return`#${Zc(this.r)}${Zc(this.g)}${Zc(this.b)}${Zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YR(){const t=p0(this.opacity);return`${t===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${t===1?")":`, ${t})`}`}function p0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zc(t){return t=Qc(t),(t<16?"0":"")+t.toString(16)}function XR(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new so(t,e,n,i)}function NA(t){if(t instanceof so)return new so(t.h,t.s,t.l,t.opacity);if(t instanceof Kg||(t=_g(t)),!t)return new so;if(t instanceof so)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,l=s-r,c=(s+r)/2;return l?(e===s?o=(n-i)/l+(n<i)*6:n===s?o=(i-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+r:2-s-r,o*=60):l=c>0&&c<1?0:o,new so(o,l,c,t.opacity)}function Y4(t,e,n,i){return arguments.length===1?NA(t):new so(t,e,n,i??1)}function so(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}GE(so,Y4,DA(Kg,{brighter(t){return t=t==null?f0:Math.pow(f0,t),new so(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rg:Math.pow(Rg,t),new so(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new gr(d1(t>=240?t-240:t+120,r,i),d1(t,r,i),d1(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new so(KR(this.h),xy(this.s),xy(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p0(this.opacity);return`${t===1?"hsl(":"hsla("}${KR(this.h)}, ${xy(this.s)*100}%, ${xy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KR(t){return t=(t||0)%360,t<0?t+360:t}function xy(t){return Math.max(0,Math.min(1,t||0))}function d1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LA=t=>()=>t;function X4(t,e){return function(n){return t+n*e}}function K4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function J4(t){return(t=+t)==1?OA:function(e,n){return n-e?K4(e,n,t):LA(isNaN(e)?n:e)}}function OA(t,e){var n=e-t;return n?X4(t,n):LA(isNaN(t)?e:t)}const JR=function t(e){var n=J4(e);function i(r,s){var o=n((r=gC(r)).r,(s=gC(s)).r),l=n(r.g,s.g),c=n(r.b,s.b),d=OA(r.opacity,s.opacity);return function(f){return r.r=o(f),r.g=l(f),r.b=c(f),r.opacity=d(f),r+""}}return i.gamma=t,i}(1);function mu(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var vC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h1=new RegExp(vC.source,"g");function Z4(t){return function(){return t}}function Q4(t){return function(e){return t(e)+""}}function eF(t,e){var n=vC.lastIndex=h1.lastIndex=0,i,r,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(i=vC.exec(t))&&(r=h1.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:mu(i,r)})),n=h1.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Q4(c[0].x):Z4(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}var ZR=180/Math.PI,bC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function PA(t,e,n,i,r,s){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),t*i<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*ZR,skewX:Math.atan(c)*ZR,scaleX:o,scaleY:l}}var Cy;function tF(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bC:PA(e.a,e.b,e.c,e.d,e.e,e.f)}function nF(t){return t==null||(Cy||(Cy=document.createElementNS("http://www.w3.org/2000/svg","g")),Cy.setAttribute("transform",t),!(t=Cy.transform.baseVal.consolidate()))?bC:(t=t.matrix,PA(t.a,t.b,t.c,t.d,t.e,t.f))}function jA(t,e,n,i){function r(d){return d.length?d.pop()+" ":""}function s(d,f,m,v,w,C){if(d!==m||f!==v){var S=w.push("translate(",null,e,null,n);C.push({i:S-4,x:mu(d,m)},{i:S-2,x:mu(f,v)})}else(m||v)&&w.push("translate("+m+e+v+n)}function o(d,f,m,v){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),v.push({i:m.push(r(m)+"rotate(",null,i)-2,x:mu(d,f)})):f&&m.push(r(m)+"rotate("+f+i)}function l(d,f,m,v){d!==f?v.push({i:m.push(r(m)+"skewX(",null,i)-2,x:mu(d,f)}):f&&m.push(r(m)+"skewX("+f+i)}function c(d,f,m,v,w,C){if(d!==m||f!==v){var S=w.push(r(w)+"scale(",null,",",null,")");C.push({i:S-4,x:mu(d,m)},{i:S-2,x:mu(f,v)})}else(m!==1||v!==1)&&w.push(r(w)+"scale("+m+","+v+")")}return function(d,f){var m=[],v=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,m,v),o(d.rotate,f.rotate,m,v),l(d.skewX,f.skewX,m,v),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,m,v),d=f=null,function(w){for(var C=-1,S=v.length,_;++C<S;)m[(_=v[C]).i]=_.x(w);return m.join("")}}}var iF=jA(tF,"px, ","px)","deg)"),rF=jA(nF,", ",")",")"),sF=1e-12;function QR(t){return((t=Math.exp(t))+1/t)/2}function oF(t){return((t=Math.exp(t))-1/t)/2}function aF(t){return((t=Math.exp(2*t))-1)/(t+1)}const lF=function t(e,n,i){function r(s,o){var l=s[0],c=s[1],d=s[2],f=o[0],m=o[1],v=o[2],w=f-l,C=m-c,S=w*w+C*C,_,R;if(S<sF)R=Math.log(v/d)/e,_=function(j){return[l+j*w,c+j*C,d*Math.exp(e*j*R)]};else{var M=Math.sqrt(S),k=(v*v-d*d+i*S)/(2*d*n*M),D=(v*v-d*d-i*S)/(2*v*n*M),P=Math.log(Math.sqrt(k*k+1)-k),O=Math.log(Math.sqrt(D*D+1)-D);R=(O-P)/e,_=function(j){var B=j*R,W=QR(P),z=d/(n*M)*(W*aF(e*B+P)-oF(P));return[l+z*w,c+z*C,d*W/QR(e*B+P)]}}return _.duration=R*1e3*e/Math.SQRT2,_}return r.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return t(o,l,c)},r}(Math.SQRT2,2,4);var yf=0,ng=0,Xm=0,IA=1e3,m0,ig,g0=0,id=0,J0=0,Ag=typeof performance=="object"&&performance.now?performance:Date,zA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qE(){return id||(zA(uF),id=Ag.now()+J0)}function uF(){id=0}function v0(){this._call=this._time=this._next=null}v0.prototype=FA.prototype={constructor:v0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qE():+n)+(e==null?0:+e),!this._next&&ig!==this&&(ig?ig._next=this:m0=this,ig=this),this._call=t,this._time=n,yC()},stop:function(){this._call&&(this._call=null,this._time=1/0,yC())}};function FA(t,e,n){var i=new v0;return i.restart(t,e,n),i}function cF(){qE(),++yf;for(var t=m0,e;t;)(e=id-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yf}function e2(){id=(g0=Ag.now())+J0,yf=ng=0;try{cF()}finally{yf=0,hF(),id=0}}function dF(){var t=Ag.now(),e=t-g0;e>IA&&(J0-=e,g0=t)}function hF(){for(var t,e=m0,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:m0=n);ig=t,yC(i)}function yC(t){if(!yf){ng&&(ng=clearTimeout(ng));var e=t-id;e>24?(t<1/0&&(ng=setTimeout(e2,t-Ag.now()-J0)),Xm&&(Xm=clearInterval(Xm))):(Xm||(g0=Ag.now(),Xm=setInterval(dF,IA)),yf=1,zA(e2))}}function t2(t,e,n){var i=new v0;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var fF=X0("start","end","cancel","interrupt"),pF=[],HA=0,n2=1,wC=2,t0=3,i2=4,xC=5,n0=6;function Z0(t,e,n,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;mF(t,n,{name:e,index:i,group:r,on:fF,tween:pF,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:HA})}function YE(t,e){var n=fo(t,e);if(n.state>HA)throw new Error("too late; already scheduled");return n}function ca(t,e){var n=fo(t,e);if(n.state>t0)throw new Error("too late; already running");return n}function fo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mF(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=FA(s,0,n.time);function s(d){n.state=n2,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,m,v,w;if(n.state!==n2)return c();for(f in i)if(w=i[f],w.name===n.name){if(w.state===t0)return t2(o);w.state===i2?(w.state=n0,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete i[f]):+f<e&&(w.state=n0,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete i[f])}if(t2(function(){n.state===t0&&(n.state=i2,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=wC,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wC){for(n.state=t0,r=new Array(v=n.tween.length),f=0,m=-1;f<v;++f)(w=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(r[++m]=w);r.length=m+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=xC,1),m=-1,v=r.length;++m<v;)r[m].call(t,f);n.state===xC&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=n0,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function i0(t,e){var n=t.__transition,i,r,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}r=i.state>wC&&i.state<xC,i.state=n0,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}s&&delete t.__transition}}function gF(t){return this.each(function(){i0(this,t)})}function vF(t,e){var n,i;return function(){var r=ca(this,t),s=r.tween;if(s!==n){i=n=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function bF(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=ca(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var l={name:e,value:n},c=0,d=r.length;c<d;++c)if(r[c].name===e){r[c]=l;break}c===d&&r.push(l)}s.tween=r}}function yF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=fo(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?vF:bF)(n,t,e))}function XE(t,e,n){var i=t._id;return t.each(function(){var r=ca(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return fo(r,i).value[e]}}function BA(t,e){var n;return(typeof e=="number"?mu:e instanceof _g?JR:(n=_g(e))?(e=n,JR):eF)(t,e)}function wF(t){return function(){this.removeAttribute(t)}}function xF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CF(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=e(i=o,n)}}function EF(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=e(i=o,n)}}function SF(t,e,n){var i,r,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,l)))}}function RF(t,e,n){var i,r,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,l)))}}function TF(t,e){var n=K0(t),i=n==="transform"?rF:BA;return this.attrTween(t,typeof e=="function"?(n.local?RF:SF)(n,i,XE(this,"attr."+t,e)):e==null?(n.local?xF:wF)(n):(n.local?EF:CF)(n,i,e))}function _F(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function AF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kF(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&AF(t,s)),n}return r._value=e,r}function MF(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&_F(t,s)),n}return r._value=e,r}function DF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=K0(t);return this.tween(n,(i.local?kF:MF)(i,e))}function NF(t,e){return function(){YE(this,t).delay=+e.apply(this,arguments)}}function LF(t,e){return e=+e,function(){YE(this,t).delay=e}}function OF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?NF:LF)(e,t)):fo(this.node(),e).delay}function PF(t,e){return function(){ca(this,t).duration=+e.apply(this,arguments)}}function jF(t,e){return e=+e,function(){ca(this,t).duration=e}}function IF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PF:jF)(e,t)):fo(this.node(),e).duration}function zF(t,e){if(typeof e!="function")throw new Error;return function(){ca(this,t).ease=e}}function FF(t){var e=this._id;return arguments.length?this.each(zF(e,t)):fo(this.node(),e).ease}function HF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ca(this,t).ease=n}}function BF(t){if(typeof t!="function")throw new Error;return this.each(HF(this._id,t))}function UF(t){typeof t!="function"&&(t=bA(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new Qa(i,this._parents,this._name,this._id)}function $F(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var c=e[l],d=n[l],f=c.length,m=o[l]=new Array(f),v,w=0;w<f;++w)(v=c[w]||d[w])&&(m[w]=v);for(;l<i;++l)o[l]=e[l];return new Qa(o,this._parents,this._name,this._id)}function VF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function WF(t,e,n){var i,r,s=VF(e)?YE:ca;return function(){var o=s(this,t),l=o.on;l!==i&&(r=(i=l).copy()).on(e,n),o.on=r}}function GF(t,e){var n=this._id;return arguments.length<2?fo(this.node(),n).on.on(t):this.each(WF(n,t,e))}function qF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function YF(){return this.on("end.remove",qF(this._id))}function XF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=VE(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var l=i[o],c=l.length,d=s[o]=new Array(c),f,m,v=0;v<c;++v)(f=l[v])&&(m=t.call(f,f.__data__,v,l))&&("__data__"in f&&(m.__data__=f.__data__),d[v]=m,Z0(d[v],e,n,v,d,fo(f,n)));return new Qa(s,this._parents,e,n)}function KF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vA(t));for(var i=this._groups,r=i.length,s=[],o=[],l=0;l<r;++l)for(var c=i[l],d=c.length,f,m=0;m<d;++m)if(f=c[m]){for(var v=t.call(f,f.__data__,m,c),w,C=fo(f,n),S=0,_=v.length;S<_;++S)(w=v[S])&&Z0(w,e,n,S,v,C);s.push(v),o.push(f)}return new Qa(s,o,e,n)}var JF=Xg.prototype.constructor;function ZF(){return new JF(this._groups,this._parents)}function QF(t,e){var n,i,r;return function(){var s=bf(this,t),o=(this.style.removeProperty(t),bf(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}function UA(t){return function(){this.style.removeProperty(t)}}function eH(t,e,n){var i,r=n+"",s;return function(){var o=bf(this,t);return o===r?null:o===i?s:s=e(i=o,n)}}function tH(t,e,n){var i,r,s;return function(){var o=bf(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),bf(this,t))),o===c?null:o===i&&c===r?s:(r=c,s=e(i=o,l))}}function nH(t,e){var n,i,r,s="style."+e,o="end."+s,l;return function(){var c=ca(this,t),d=c.on,f=c.value[s]==null?l||(l=UA(e)):void 0;(d!==n||r!==f)&&(i=(n=d).copy()).on(o,r=f),c.on=i}}function iH(t,e,n){var i=(t+="")=="transform"?iF:BA;return e==null?this.styleTween(t,QF(t,i)).on("end.style."+t,UA(t)):typeof e=="function"?this.styleTween(t,tH(t,i,XE(this,"style."+t,e))).each(nH(this._id,t)):this.styleTween(t,eH(t,i,e),n).on("end.style."+t,null)}function rH(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function sH(t,e,n){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&rH(t,o,n)),i}return s._value=e,s}function oH(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,sH(t,e,n??""))}function aH(t){return function(){this.textContent=t}}function lH(t){return function(){var e=t(this);this.textContent=e??""}}function uH(t){return this.tween("text",typeof t=="function"?lH(XE(this,"text",t)):aH(t==null?"":t+""))}function cH(t){return function(e){this.textContent=t.call(this,e)}}function dH(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&cH(r)),e}return i._value=t,i}function hH(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,dH(t))}function fH(){for(var t=this._name,e=this._id,n=$A(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var f=fo(c,e);Z0(c,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Qa(i,this._parents,t,n)}function pH(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--r===0&&s()}};n.each(function(){var d=ca(this,i),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),d.on=e}),r===0&&s()})}var mH=0;function Qa(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function $A(){return++mH}var $a=Xg.prototype;Qa.prototype={constructor:Qa,select:XF,selectAll:KF,selectChild:$a.selectChild,selectChildren:$a.selectChildren,filter:UF,merge:$F,selection:ZF,transition:fH,call:$a.call,nodes:$a.nodes,node:$a.node,size:$a.size,empty:$a.empty,each:$a.each,on:GF,attr:TF,attrTween:DF,style:iH,styleTween:oH,text:uH,textTween:hH,remove:YF,tween:yF,delay:OF,duration:IF,ease:FF,easeVarying:BF,end:pH,[Symbol.iterator]:$a[Symbol.iterator]};function gH(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var vH={time:null,delay:0,duration:250,ease:gH};function bH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function yH(t){var e,n;t instanceof Qa?(e=t._id,t=t._name):(e=$A(),(n=vH).time=qE(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&Z0(c,t,e,d,o,n||bH(c,e));return new Qa(i,this._parents,t,e)}Xg.prototype.interrupt=gF;Xg.prototype.transition=yH;const Ey=t=>()=>t;function wH(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Ka(t,e,n){this.k=t,this.x=e,this.y=n}Ka.prototype={constructor:Ka,scale:function(t){return t===1?this:new Ka(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ka(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Q0=new Ka(1,0,0);VA.prototype=Ka.prototype;function VA(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Q0;return t.__zoom}function f1(t){t.stopImmediatePropagation()}function Km(t){t.preventDefault(),t.stopImmediatePropagation()}function xH(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function CH(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function r2(){return this.__zoom||Q0}function EH(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function SH(){return navigator.maxTouchPoints||"ontouchstart"in this}function RH(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function WA(){var t=xH,e=CH,n=RH,i=EH,r=SH,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=lF,d=X0("start","zoom","end"),f,m,v,w=500,C=150,S=0,_=10;function R(H){H.property("__zoom",r2).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",z).filter(r).on("touchstart.zoom",Q).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(H,Y,U,J){var X=H.selection?H.selection():H;X.property("__zoom",r2),H!==X?P(H,Y,U,J):X.interrupt().each(function(){O(this,arguments).event(J).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},R.scaleBy=function(H,Y,U,J){R.scaleTo(H,function(){var X=this.__zoom.k,K=typeof Y=="function"?Y.apply(this,arguments):Y;return X*K},U,J)},R.scaleTo=function(H,Y,U,J){R.transform(H,function(){var X=e.apply(this,arguments),K=this.__zoom,L=U==null?D(X):typeof U=="function"?U.apply(this,arguments):U,ee=K.invert(L),ue=typeof Y=="function"?Y.apply(this,arguments):Y;return n(k(M(K,ue),L,ee),X,o)},U,J)},R.translateBy=function(H,Y,U,J){R.transform(H,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,J)},R.translateTo=function(H,Y,U,J,X){R.transform(H,function(){var K=e.apply(this,arguments),L=this.__zoom,ee=J==null?D(K):typeof J=="function"?J.apply(this,arguments):J;return n(Q0.translate(ee[0],ee[1]).scale(L.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof U=="function"?-U.apply(this,arguments):-U),K,o)},J,X)};function M(H,Y){return Y=Math.max(s[0],Math.min(s[1],Y)),Y===H.k?H:new Ka(Y,H.x,H.y)}function k(H,Y,U){var J=Y[0]-U[0]*H.k,X=Y[1]-U[1]*H.k;return J===H.x&&X===H.y?H:new Ka(H.k,J,X)}function D(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function P(H,Y,U,J){H.on("start.zoom",function(){O(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(J).end()}).tween("zoom",function(){var X=this,K=arguments,L=O(X,K).event(J),ee=e.apply(X,K),ue=U==null?D(ee):typeof U=="function"?U.apply(X,K):U,V=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),fe=X.__zoom,be=typeof Y=="function"?Y.apply(X,K):Y,ve=c(fe.invert(ue).concat(V/fe.k),be.invert(ue).concat(V/be.k));return function(Ce){if(Ce===1)Ce=be;else{var Ee=ve(Ce),ke=V/Ee[2];Ce=new Ka(ke,ue[0]-Ee[0]*ke,ue[1]-Ee[1]*ke)}L.zoom(null,Ce)}})}function O(H,Y,U){return!U&&H.__zooming||new j(H,Y)}function j(H,Y){this.that=H,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=e.apply(H,Y),this.taps=0}j.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,Y){return this.mouse&&H!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var Y=Vr(this.that).datum();d.call(H,this.that,new wH(H,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:d}),Y)}};function B(H,...Y){if(!t.apply(this,arguments))return;var U=O(this,Y).event(H),J=this.__zoom,X=Math.max(s[0],Math.min(s[1],J.k*Math.pow(2,i.apply(this,arguments)))),K=ro(H);if(U.wheel)(U.mouse[0][0]!==K[0]||U.mouse[0][1]!==K[1])&&(U.mouse[1]=J.invert(U.mouse[0]=K)),clearTimeout(U.wheel);else{if(J.k===X)return;U.mouse=[K,J.invert(K)],i0(this),U.start()}Km(H),U.wheel=setTimeout(L,C),U.zoom("mouse",n(k(M(J,X),U.mouse[0],U.mouse[1]),U.extent,o));function L(){U.wheel=null,U.end()}}function W(H,...Y){if(v||!t.apply(this,arguments))return;var U=H.currentTarget,J=O(this,Y,!0).event(H),X=Vr(H.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",V,!0),K=ro(H,U),L=H.clientX,ee=H.clientY;AA(H.view),f1(H),J.mouse=[K,this.__zoom.invert(K)],i0(this),J.start();function ue(fe){if(Km(fe),!J.moved){var be=fe.clientX-L,ve=fe.clientY-ee;J.moved=be*be+ve*ve>S}J.event(fe).zoom("mouse",n(k(J.that.__zoom,J.mouse[0]=ro(fe,U),J.mouse[1]),J.extent,o))}function V(fe){X.on("mousemove.zoom mouseup.zoom",null),kA(fe.view,J.moved),Km(fe),J.event(fe).end()}}function z(H,...Y){if(t.apply(this,arguments)){var U=this.__zoom,J=ro(H.changedTouches?H.changedTouches[0]:H,this),X=U.invert(J),K=U.k*(H.shiftKey?.5:2),L=n(k(M(U,K),J,X),e.apply(this,Y),o);Km(H),l>0?Vr(this).transition().duration(l).call(P,L,J,H):Vr(this).call(R.transform,L,J,H)}}function Q(H,...Y){if(t.apply(this,arguments)){var U=H.touches,J=U.length,X=O(this,Y,H.changedTouches.length===J).event(H),K,L,ee,ue;for(f1(H),L=0;L<J;++L)ee=U[L],ue=ro(ee,this),ue=[ue,this.__zoom.invert(ue),ee.identifier],X.touch0?!X.touch1&&X.touch0[2]!==ue[2]&&(X.touch1=ue,X.taps=0):(X.touch0=ue,K=!0,X.taps=1+!!f);f&&(f=clearTimeout(f)),K&&(X.taps<2&&(m=ue[0],f=setTimeout(function(){f=null},w)),i0(this),X.start())}}function Z(H,...Y){if(this.__zooming){var U=O(this,Y).event(H),J=H.changedTouches,X=J.length,K,L,ee,ue;for(Km(H),K=0;K<X;++K)L=J[K],ee=ro(L,this),U.touch0&&U.touch0[2]===L.identifier?U.touch0[0]=ee:U.touch1&&U.touch1[2]===L.identifier&&(U.touch1[0]=ee);if(L=U.that.__zoom,U.touch1){var V=U.touch0[0],fe=U.touch0[1],be=U.touch1[0],ve=U.touch1[1],Ce=(Ce=be[0]-V[0])*Ce+(Ce=be[1]-V[1])*Ce,Ee=(Ee=ve[0]-fe[0])*Ee+(Ee=ve[1]-fe[1])*Ee;L=M(L,Math.sqrt(Ce/Ee)),ee=[(V[0]+be[0])/2,(V[1]+be[1])/2],ue=[(fe[0]+ve[0])/2,(fe[1]+ve[1])/2]}else if(U.touch0)ee=U.touch0[0],ue=U.touch0[1];else return;U.zoom("touch",n(k(L,ee,ue),U.extent,o))}}function ne(H,...Y){if(this.__zooming){var U=O(this,Y).event(H),J=H.changedTouches,X=J.length,K,L;for(f1(H),v&&clearTimeout(v),v=setTimeout(function(){v=null},w),K=0;K<X;++K)L=J[K],U.touch0&&U.touch0[2]===L.identifier?delete U.touch0:U.touch1&&U.touch1[2]===L.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(L=ro(L,this),Math.hypot(m[0]-L[0],m[1]-L[1])<_)){var ee=Vr(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return R.wheelDelta=function(H){return arguments.length?(i=typeof H=="function"?H:Ey(+H),R):i},R.filter=function(H){return arguments.length?(t=typeof H=="function"?H:Ey(!!H),R):t},R.touchable=function(H){return arguments.length?(r=typeof H=="function"?H:Ey(!!H),R):r},R.extent=function(H){return arguments.length?(e=typeof H=="function"?H:Ey([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),R):e},R.scaleExtent=function(H){return arguments.length?(s[0]=+H[0],s[1]=+H[1],R):[s[0],s[1]]},R.translateExtent=function(H){return arguments.length?(o[0][0]=+H[0][0],o[1][0]=+H[1][0],o[0][1]=+H[0][1],o[1][1]=+H[1][1],R):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},R.constrain=function(H){return arguments.length?(n=H,R):n},R.duration=function(H){return arguments.length?(l=+H,R):l},R.interpolate=function(H){return arguments.length?(c=H,R):c},R.on=function(){var H=d.on.apply(d,arguments);return H===d?R:H},R.clickDistance=function(H){return arguments.length?(S=(H=+H)*H,R):Math.sqrt(S)},R.tapDistance=function(H){return arguments.length?(_=+H,R):_},R}const aa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},kg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],GA=["Enter"," ","Escape"];var wf;(function(t){t.Strict="strict",t.Loose="loose"})(wf||(wf={}));var ed;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ed||(ed={}));var Mg;(function(t){t.Partial="partial",t.Full="full"})(Mg||(Mg={}));const qA={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Cu;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Cu||(Cu={}));var Be;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Be||(Be={}));var te;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(te||(te={}));const s2={[te.Left]:te.Right,[te.Right]:te.Left,[te.Top]:te.Bottom,[te.Bottom]:te.Top};function YA(t){return t===null?null:t?"valid":"invalid"}const XA=t=>"id"in t&&"source"in t&&"target"in t,TH=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),KE=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Jg=(t,e=[0,0])=>{const{width:n,height:i}=ol(t),r=t.origin??e,s=n*r[0],o=i*r[1];return{x:t.position.x-s,y:t.position.y-o}},JE=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,r)=>{const s=typeof r=="string";let o=!e.nodeLookup&&!s?r:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(r):KE(r)?r:e.nodeLookup.get(r.id));const l=o?b0(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ew(i,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tw(n)},Zg=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const r=b0(i);n=ew(n,r)}}),tw(n)},KA=(t,e,[n,i,r]=[0,0,1],s=!1,o=!1)=>{const l={...Qg(e,[n,i,r]),width:e.width/r,height:e.height/r},c=[];for(const d of t.values()){const{measured:f,selectable:m=!0,hidden:v=!1}=d;if(o&&!m||v)continue;const w=f.width??d.width??d.initialWidth??null,C=f.height??d.height??d.initialHeight??null,S=Dg(l,Cf(d)),_=(w??0)*(C??0),R=s&&S>0;(!d.internals.handleBounds||R||S>=_||d.dragging)&&c.push(d)}return c},_H=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function AH(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(r=>r.id)):null;return t.forEach(r=>{r.measured.width&&r.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!r.hidden)&&(!i||i.has(r.id))&&n.set(r.id,r)}),n}async function kH({nodes:t,width:e,height:n,panZoom:i,minZoom:r,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const l=AH(t,o),c=Zg(l),d=ZE(c,e,n,(o==null?void 0:o.minZoom)??r,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await i.setViewport(d,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function JA({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:r,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??i;let m=r;if(o.extent==="parent"&&!o.expandParent)if(!l)s==null||s("005",aa.error005());else{const w=l.measured.width,C=l.measured.height;w&&C&&(m=[[c,d],[c+w,d+C]])}else l&&Ef(o.extent)&&(m=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const v=Ef(m)?rd(e,m,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",aa.error015())),{position:{x:v.x-c+(o.measured.width??0)*f[0],y:v.y-d+(o.measured.height??0)*f[1]},positionAbsolute:v}}async function MH({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:r}){const s=new Set(t.map(v=>v.id)),o=[];for(const v of n){if(v.deletable===!1)continue;const w=s.has(v.id),C=!w&&v.parentId&&o.find(S=>S.id===v.parentId);(w||C)&&o.push(v)}const l=new Set(e.map(v=>v.id)),c=i.filter(v=>v.deletable!==!1),f=_H(o,c);for(const v of c)l.has(v.id)&&!f.find(C=>C.id===v.id)&&f.push(v);if(!r)return{edges:f,nodes:o};const m=await r({nodes:o,edges:f});return typeof m=="boolean"?m?{edges:f,nodes:o}:{edges:[],nodes:[]}:m}const xf=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),rd=(t={x:0,y:0},e,n)=>({x:xf(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:xf(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function ZA(t,e,n){const{width:i,height:r}=ol(n),{x:s,y:o}=n.internals.positionAbsolute;return rd(t,[[s,o],[s+i,o+r]],e)}const o2=(t,e,n)=>t<e?xf(Math.abs(t-e),1,e)/e:t>n?-xf(Math.abs(t-n),1,e)/e:0,QA=(t,e,n=15,i=40)=>{const r=o2(t.x,i,e.width-i)*n,s=o2(t.y,i,e.height-i)*n;return[r,s]},ew=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),CC=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),tw=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Cf=(t,e=[0,0])=>{var r,s;const{x:n,y:i}=KE(t)?t.internals.positionAbsolute:Jg(t,e);return{x:n,y:i,width:((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},b0=(t,e=[0,0])=>{var r,s;const{x:n,y:i}=KE(t)?t.internals.positionAbsolute:Jg(t,e);return{x:n,y:i,x2:n+(((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},ek=(t,e)=>tw(ew(CC(t),CC(e))),Dg=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},a2=t=>oo(t.width)&&oo(t.height)&&oo(t.x)&&oo(t.y),oo=t=>!isNaN(t)&&isFinite(t),DH=(t,e)=>{},nw=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Qg=({x:t,y:e},[n,i,r],s=!1,o=[1,1])=>{const l={x:(t-n)/r,y:(e-i)/r};return s?nw(l,o):l},y0=({x:t,y:e},[n,i,r])=>({x:t*r+n,y:e*r+i});function Wh(t,e){if(typeof t=="number")return Math.floor(e-e/(1+t));if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function NH(t,e,n){if(typeof t=="string"||typeof t=="number"){const i=Wh(t,n),r=Wh(t,e);return{top:i,right:r,bottom:i,left:r,x:r*2,y:i*2}}if(typeof t=="object"){const i=Wh(t.top??t.y??0,n),r=Wh(t.bottom??t.y??0,n),s=Wh(t.left??t.x??0,e),o=Wh(t.right??t.x??0,e);return{top:i,right:o,bottom:r,left:s,x:s+o,y:i+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function LH(t,e,n,i,r,s){const{x:o,y:l}=y0(t,[e,n,i]),{x:c,y:d}=y0({x:t.x+t.width,y:t.y+t.height},[e,n,i]),f=r-c,m=s-d;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(m)}}const ZE=(t,e,n,i,r,s)=>{const o=NH(s,e,n),l=(e-o.x)/t.width,c=(n-o.y)/t.height,d=Math.min(l,c),f=xf(d,i,r),m=t.x+t.width/2,v=t.y+t.height/2,w=e/2-m*f,C=n/2-v*f,S=LH(t,w,C,f,e,n),_={left:Math.min(S.left-o.left,0),top:Math.min(S.top-o.top,0),right:Math.min(S.right-o.right,0),bottom:Math.min(S.bottom-o.bottom,0)};return{x:w-_.left+_.right,y:C-_.top+_.bottom,zoom:f}},w0=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Ef(t){return t!==void 0&&t!=="parent"}function ol(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function tk(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function nk(t,e={width:0,height:0},n,i,r){const s={...t},o=i.get(n);if(o){const l=o.origin||r;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function l2(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function cg(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:r}){const{x:s,y:o}=Ja(t),l=Qg({x:s-((r==null?void 0:r.left)??0),y:o-((r==null?void 0:r.top)??0)},i),{x:c,y:d}=n?nw(l,e):l;return{xSnapped:c,ySnapped:d,...l}}const QE=t=>({width:t.offsetWidth,height:t.offsetHeight}),ik=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},OH=["INPUT","SELECT","TEXTAREA"];function rk(t){var i,r;const e=((r=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:r[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:OH.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const sk=t=>"clientX"in t,Ja=(t,e)=>{var s,o;const n=sk(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,r=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:r-((e==null?void 0:e.top)??0)}},u2=(t,e,n,i,r)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:r,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...QE(o)}})};function ok({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:r,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=t*.125+r*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+i*.125,f=Math.abs(c-t),m=Math.abs(d-e);return[c,d,f,m]}function Sy(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function c2({pos:t,x1:e,y1:n,x2:i,y2:r,c:s}){switch(t){case te.Left:return[e-Sy(e-i,s),n];case te.Right:return[e+Sy(i-e,s),n];case te.Top:return[e,n-Sy(n-r,s)];case te.Bottom:return[e,n+Sy(r-n,s)]}}function ak({sourceX:t,sourceY:e,sourcePosition:n=te.Bottom,targetX:i,targetY:r,targetPosition:s=te.Top,curvature:o=.25}){const[l,c]=c2({pos:n,x1:t,y1:e,x2:i,y2:r,c:o}),[d,f]=c2({pos:s,x1:i,y1:r,x2:t,y2:e,c:o}),[m,v,w,C]=ok({sourceX:t,sourceY:e,targetX:i,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${c} ${d},${f} ${i},${r}`,m,v,w,C]}function lk({sourceX:t,sourceY:e,targetX:n,targetY:i}){const r=Math.abs(n-t)/2,s=n<t?n+r:n-r,o=Math.abs(i-e)/2,l=i<e?i+o:i-o;return[s,l,r,o]}function PH({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:r=!1}){if(!r)return i;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?o:0)}function jH({sourceNode:t,targetNode:e,width:n,height:i,transform:r}){const s=ew(b0(t),b0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:i/r[2]};return Dg(o,tw(s))>0}const IH=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,zH=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),uk=(t,e)=>{if(!t.source||!t.target)return e;let n;return XA(t)?n={...t}:n={...t,id:IH(t)},zH(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function ck({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[r,s,o,l]=lk({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,r,s,o,l]}const d2={[te.Left]:{x:-1,y:0},[te.Right]:{x:1,y:0},[te.Top]:{x:0,y:-1},[te.Bottom]:{x:0,y:1}},FH=({source:t,sourcePosition:e=te.Bottom,target:n})=>e===te.Left||e===te.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},h2=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function HH({source:t,sourcePosition:e=te.Bottom,target:n,targetPosition:i=te.Top,center:r,offset:s}){const o=d2[e],l=d2[i],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=FH({source:c,sourcePosition:e,target:d}),m=f.x!==0?"x":"y",v=f[m];let w=[],C,S;const _={x:0,y:0},R={x:0,y:0},[M,k,D,P]=lk({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[m]*l[m]===-1){C=r.x??M,S=r.y??k;const j=[{x:C,y:c.y},{x:C,y:d.y}],B=[{x:c.x,y:S},{x:d.x,y:S}];o[m]===v?w=m==="x"?j:B:w=m==="x"?B:j}else{const j=[{x:c.x,y:d.y}],B=[{x:d.x,y:c.y}];if(m==="x"?w=o.x===v?B:j:w=o.y===v?j:B,e===i){const ne=Math.abs(t[m]-n[m]);if(ne<=s){const H=Math.min(s-1,s-ne);o[m]===v?_[m]=(c[m]>t[m]?-1:1)*H:R[m]=(d[m]>n[m]?-1:1)*H}}if(e!==i){const ne=m==="x"?"y":"x",H=o[m]===l[ne],Y=c[ne]>d[ne],U=c[ne]<d[ne];(o[m]===1&&(!H&&Y||H&&U)||o[m]!==1&&(!H&&U||H&&Y))&&(w=m==="x"?j:B)}const W={x:c.x+_.x,y:c.y+_.y},z={x:d.x+R.x,y:d.y+R.y},Q=Math.max(Math.abs(W.x-w[0].x),Math.abs(z.x-w[0].x)),Z=Math.max(Math.abs(W.y-w[0].y),Math.abs(z.y-w[0].y));Q>=Z?(C=(W.x+z.x)/2,S=w[0].y):(C=w[0].x,S=(W.y+z.y)/2)}return[[t,{x:c.x+_.x,y:c.y+_.y},...w,{x:d.x+R.x,y:d.y+R.y},n],C,S,D,P]}function BH(t,e,n,i){const r=Math.min(h2(t,e)/2,h2(e,n)/2,i),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+r*d},${o}Q ${s},${o} ${s},${o+r*f}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+r*c}Q ${s},${o} ${s+r*l},${o}`}function x0({sourceX:t,sourceY:e,sourcePosition:n=te.Bottom,targetX:i,targetY:r,targetPosition:s=te.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20}){const[f,m,v,w,C]=HH({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:r},targetPosition:s,center:{x:l,y:c},offset:d});return[f.reduce((_,R,M)=>{let k="";return M>0&&M<f.length-1?k=BH(f[M-1],R,f[M+1],o):k=`${M===0?"M":"L"}${R.x} ${R.y}`,_+=k,_},""),m,v,w,C]}function f2(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function UH(t){var m;const{sourceNode:e,targetNode:n}=t;if(!f2(e)||!f2(n))return null;const i=e.internals.handleBounds||p2(e.handles),r=n.internals.handleBounds||p2(n.handles),s=m2((i==null?void 0:i.source)??[],t.sourceHandle),o=m2(t.connectionMode===wf.Strict?(r==null?void 0:r.target)??[]:((r==null?void 0:r.target)??[]).concat((r==null?void 0:r.source)??[]),t.targetHandle);if(!s||!o)return(m=t.onError)==null||m.call(t,"008",aa.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(s==null?void 0:s.position)||te.Bottom,c=(o==null?void 0:o.position)||te.Top,d=Ng(e,s,l),f=Ng(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function p2(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Ng(t,e,n=te.Left,i=!1){const r=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??ol(t);if(i)return{x:r+o/2,y:s+l/2};switch((e==null?void 0:e.position)??n){case te.Top:return{x:r+o/2,y:s};case te.Right:return{x:r+o,y:s+l/2};case te.Bottom:return{x:r+o/2,y:s+l};case te.Left:return{x:r,y:s+l/2}}}function m2(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function EC(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function $H(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:r}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||i,l.markerEnd||r].forEach(c=>{if(c&&typeof c=="object"){const d=EC(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const eS={nodeOrigin:[0,0],nodeExtent:kg,elevateNodesOnSelect:!0,defaults:{}},VH={...eS,checkEquality:!0};function tS(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function WH(t,e,n){const i=tS(eS,n);for(const r of t.values())if(r.parentId)nS(r,t,e,i);else{const s=Jg(r,i.nodeOrigin),o=Ef(r.extent)?r.extent:i.nodeExtent,l=rd(s,o,ol(r));r.internals.positionAbsolute=l}}function SC(t,e,n,i){var c,d;const r=tS(VH,i);let s=!0;const o=new Map(e),l=r!=null&&r.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const f of t){let m=o.get(f.id);if(r.checkEquality&&f===(m==null?void 0:m.internals.userNode))e.set(f.id,m);else{const v=Jg(f,r.nodeOrigin),w=Ef(f.extent)?f.extent:r.nodeExtent,C=rd(v,w,ol(f));m={...r.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:C,handleBounds:f.measured?m==null?void 0:m.internals.handleBounds:void 0,z:dk(f,l),userNode:f}},e.set(f.id,m)}(!m.measured||!m.measured.width||!m.measured.height)&&!m.hidden&&(s=!1),f.parentId&&nS(m,e,n,i)}return s}function GH(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function nS(t,e,n,i){const{elevateNodesOnSelect:r,nodeOrigin:s,nodeExtent:o}=tS(eS,i),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}GH(t,n);const d=r?1e3:0,{x:f,y:m,z:v}=qH(t,c,s,o,d),{positionAbsolute:w}=t.internals,C=f!==w.x||m!==w.y;(C||v!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:C?{x:f,y:m}:w,z:v}})}function dk(t,e){return(oo(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function qH(t,e,n,i,r){const{x:s,y:o}=e.internals.positionAbsolute,l=ol(t),c=Jg(t,n),d=Ef(t.extent)?rd(c,t.extent,l):c;let f=rd({x:s+d.x,y:o+d.y},i,l);t.extent==="parent"&&(f=ZA(f,l,e));const m=dk(t,r),v=e.internals.z??0;return{x:f.x,y:f.y,z:v>m?v:m}}function iS(t,e,n,i=[0,0]){var o;const r=[],s=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const d=((o=s.get(l.parentId))==null?void 0:o.expandedRect)??Cf(c),f=ek(d,l.rect);s.set(l.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},d)=>{var k;const f=c.internals.positionAbsolute,m=ol(c),v=c.origin??i,w=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,C=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,S=Math.max(m.width,Math.round(l.width)),_=Math.max(m.height,Math.round(l.height)),R=(S-m.width)*v[0],M=(_-m.height)*v[1];(w>0||C>0||R||M)&&(r.push({id:d,type:"position",position:{x:c.position.x-w+R,y:c.position.y-C+M}}),(k=n.get(d))==null||k.forEach(D=>{t.some(P=>P.id===D.id)||r.push({id:D.id,type:"position",position:{x:D.position.x+w,y:D.position.y+C}})})),(m.width<l.width||m.height<l.height||w||C)&&r.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:S+(w?v[0]*w-R:0),height:_+(C?v[1]*C-M:0)}})}),r}function YH(t,e,n,i,r,s){const o=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const v of t.values()){const w=e.get(v.id);if(!w)continue;if(w.hidden){e.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),l=!0;continue}const C=QE(v.nodeElement),S=w.measured.width!==C.width||w.measured.height!==C.height;if(!!(C.width&&C.height&&(S||!w.internals.handleBounds||v.force))){const R=v.nodeElement.getBoundingClientRect(),M=Ef(w.extent)?w.extent:s;let{positionAbsolute:k}=w.internals;w.parentId&&w.extent==="parent"?k=ZA(k,C,e.get(w.parentId)):M&&(k=rd(k,M,C));const D={...w,measured:C,internals:{...w.internals,positionAbsolute:k,handleBounds:{source:u2("source",v.nodeElement,R,f,w.id),target:u2("target",v.nodeElement,R,f,w.id)}}};e.set(w.id,D),w.parentId&&nS(D,e,n,{nodeOrigin:r}),l=!0,S&&(c.push({id:w.id,type:"dimensions",dimensions:C}),w.expandParent&&w.parentId&&m.push({id:w.id,parentId:w.parentId,rect:Cf(D,r)}))}}if(m.length>0){const v=iS(m,e,n,r);c.push(...v)}return{changes:c,updatedInternals:l}}async function XH({delta:t,panZoom:e,transform:n,translateExtent:i,width:r,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[r,s]],i),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function g2(t,e,n,i,r,s){let o=r;const l=i.get(o)||new Map;i.set(o,l.set(n,e)),o=`${r}-${t}`;const c=i.get(o)||new Map;if(i.set(o,c.set(n,e)),s){o=`${r}-${t}-${s}`;const d=i.get(o)||new Map;i.set(o,d.set(n,e))}}function hk(t,e,n){t.clear(),e.clear();for(const i of n){const{source:r,target:s,sourceHandle:o=null,targetHandle:l=null}=i,c={edgeId:i.id,source:r,target:s,sourceHandle:o,targetHandle:l},d=`${r}-${o}--${s}-${l}`,f=`${s}-${l}--${r}-${o}`;g2("source",c,f,t,r,o),g2("target",c,d,t,s,l),e.set(i.id,i)}}function fk(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:fk(n,e):!1}function v2(t,e,n){var r;let i=t;do{if((r=i==null?void 0:i.matches)!=null&&r.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function KH(t,e,n,i){const r=new Map;for(const[s,o]of t)if((o.selected||o.id===i)&&(!o.parentId||!fk(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&r.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return r}function p1({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var o,l,c;const r=[];for(const[d,f]of e){const m=(o=n.get(d))==null?void 0:o.internals.userNode;m&&r.push({...m,position:f.position,dragging:i})}if(!t)return[r[0],r];const s=(l=n.get(t))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=e.get(t))==null?void 0:c.position)||s.position,dragging:i}:r[0],r]}function JH({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:r}){let s={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},f=null,m=!1,v=null,w=!1;function C({noDragClassName:_,handleSelector:R,domNode:M,isSelectable:k,nodeId:D,nodeClickDistance:P=0}){v=Vr(M);function O({x:z,y:Q},Z){const{nodeLookup:ne,nodeExtent:H,snapGrid:Y,snapToGrid:U,nodeOrigin:J,onNodeDrag:X,onSelectionDrag:K,onError:L,updateNodePositions:ee}=e();s={x:z,y:Q};let ue=!1,V={x:0,y:0,x2:0,y2:0};if(l.size>1&&H){const fe=Zg(l);V=CC(fe)}for(const[fe,be]of l){if(!ne.has(fe))continue;let ve={x:z-be.distance.x,y:Q-be.distance.y};U&&(ve=nw(ve,Y));let Ce=[[H[0][0],H[0][1]],[H[1][0],H[1][1]]];if(l.size>1&&H&&!be.extent){const{positionAbsolute:je}=be.internals,Ne=je.x-V.x+H[0][0],ye=je.x+be.measured.width-V.x2+H[1][0],Oe=je.y-V.y+H[0][1],ze=je.y+be.measured.height-V.y2+H[1][1];Ce=[[Ne,Oe],[ye,ze]]}const{position:Ee,positionAbsolute:ke}=JA({nodeId:fe,nextPosition:ve,nodeLookup:ne,nodeExtent:Ce,nodeOrigin:J,onError:L});ue=ue||be.position.x!==Ee.x||be.position.y!==Ee.y,be.position=Ee,be.internals.positionAbsolute=ke}if(ue&&(ee(l,!0),Z&&(i||X||!D&&K))){const[fe,be]=p1({nodeId:D,dragItems:l,nodeLookup:ne});i==null||i(Z,l,fe,be),X==null||X(Z,fe,be),D||K==null||K(Z,be)}}async function j(){if(!f)return;const{transform:z,panBy:Q,autoPanSpeed:Z,autoPanOnNodeDrag:ne}=e();if(!ne){c=!1,cancelAnimationFrame(o);return}const[H,Y]=QA(d,f,Z);(H!==0||Y!==0)&&(s.x=(s.x??0)-H/z[2],s.y=(s.y??0)-Y/z[2],await Q({x:H,y:Y})&&O(s,null)),o=requestAnimationFrame(j)}function B(z){var ue;const{nodeLookup:Q,multiSelectionActive:Z,nodesDraggable:ne,transform:H,snapGrid:Y,snapToGrid:U,selectNodesOnDrag:J,onNodeDragStart:X,onSelectionDragStart:K,unselectNodesAndEdges:L}=e();m=!0,(!J||!k)&&!Z&&D&&((ue=Q.get(D))!=null&&ue.selected||L()),k&&J&&D&&(t==null||t(D));const ee=cg(z.sourceEvent,{transform:H,snapGrid:Y,snapToGrid:U,containerBounds:f});if(s=ee,l=KH(Q,ne,ee,D),l.size>0&&(n||X||!D&&K)){const[V,fe]=p1({nodeId:D,dragItems:l,nodeLookup:Q});n==null||n(z.sourceEvent,l,V,fe),X==null||X(z.sourceEvent,V,fe),D||K==null||K(z.sourceEvent,fe)}}const W=MA().clickDistance(P).on("start",z=>{const{domNode:Q,nodeDragThreshold:Z,transform:ne,snapGrid:H,snapToGrid:Y}=e();f=(Q==null?void 0:Q.getBoundingClientRect())||null,w=!1,Z===0&&B(z),s=cg(z.sourceEvent,{transform:ne,snapGrid:H,snapToGrid:Y,containerBounds:f}),d=Ja(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:Q,transform:Z,snapGrid:ne,snapToGrid:H,nodeDragThreshold:Y,nodeLookup:U}=e(),J=cg(z.sourceEvent,{transform:Z,snapGrid:ne,snapToGrid:H,containerBounds:f});if((z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||D&&!U.has(D))&&(w=!0),!w){if(!c&&Q&&m&&(c=!0,j()),!m){const X=J.xSnapped-(s.x??0),K=J.ySnapped-(s.y??0);Math.sqrt(X*X+K*K)>Y&&B(z)}(s.x!==J.xSnapped||s.y!==J.ySnapped)&&l&&m&&(d=Ja(z.sourceEvent,f),O(J,z.sourceEvent))}}).on("end",z=>{if(!(!m||w)&&(c=!1,m=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:Q,updateNodePositions:Z,onNodeDragStop:ne,onSelectionDragStop:H}=e();if(Z(l,!1),r||ne||!D&&H){const[Y,U]=p1({nodeId:D,dragItems:l,nodeLookup:Q,dragging:!1});r==null||r(z.sourceEvent,l,Y,U),ne==null||ne(z.sourceEvent,Y,U),D||H==null||H(z.sourceEvent,U)}}}).filter(z=>{const Q=z.target;return!z.button&&(!_||!v2(Q,`.${_}`,M))&&(!R||v2(Q,R,M))});v.call(W)}function S(){v==null||v.on(".drag",null)}return{update:C,destroy:S}}function ZH(t,e,n){const i=[],r={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Dg(r,Cf(s))>0&&i.push(s);return i}const QH=250;function e8(t,e,n,i){var l,c;let r=[],s=1/0;const o=ZH(t,n,e+QH);for(const d of o){const f=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((c=d.internals.handleBounds)==null?void 0:c.target)??[]];for(const m of f){if(i.nodeId===m.nodeId&&i.type===m.type&&i.id===m.id)continue;const{x:v,y:w}=Ng(d,m,m.position,!0),C=Math.sqrt(Math.pow(v-t.x,2)+Math.pow(w-t.y,2));C>e||(C<s?(r=[{...m,x:v,y:w}],s=C):C===s&&r.push({...m,x:v,y:w}))}}if(!r.length)return null;if(r.length>1){const d=i.type==="source"?"target":"source";return r.find(f=>f.type===d)??r[0]}return r[0]}function pk(t,e,n,i,r,s=!1){var d,f,m;const o=i.get(t);if(!o)return null;const l=r==="strict"?(d=o.internals.handleBounds)==null?void 0:d[e]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((m=o.internals.handleBounds)==null?void 0:m.target)??[]],c=(n?l==null?void 0:l.find(v=>v.id===n):l==null?void 0:l[0])??null;return c&&s?{...c,...Ng(o,c,c.position,!0)}:c}function mk(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function t8(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const gk=()=>!0;function n8(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:r,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:m,panBy:v,cancelConnection:w,onConnectStart:C,onConnect:S,onConnectEnd:_,isValidConnection:R=gk,onReconnectEnd:M,updateConnection:k,getTransform:D,getFromHandle:P,autoPanSpeed:O}){const j=ik(t.target);let B=0,W;const{x:z,y:Q}=Ja(t),Z=j==null?void 0:j.elementFromPoint(z,Q),ne=mk(s,Z),H=l==null?void 0:l.getBoundingClientRect();if(!H||!ne)return;const Y=pk(r,ne,i,c,e);if(!Y)return;let U=Ja(t,H),J=!1,X=null,K=!1,L=null;function ee(){if(!f||!H)return;const[ke,je]=QA(U,H,O);v({x:ke,y:je}),B=requestAnimationFrame(ee)}const ue={...Y,nodeId:r,type:ne,position:Y.position},V=c.get(r),be={inProgress:!0,isValid:null,from:Ng(V,ue,te.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:V,to:U,toHandle:null,toPosition:s2[ue.position],toNode:null};k(be);let ve=be;C==null||C(t,{nodeId:r,handleId:i,handleType:ne});function Ce(ke){if(!P()||!ue){Ee(ke);return}const je=D();U=Ja(ke,H),W=e8(Qg(U,je,!1,[1,1]),n,c,ue),J||(ee(),J=!0);const Ne=vk(ke,{handle:W,connectionMode:e,fromNodeId:r,fromHandleId:i,fromType:o?"target":"source",isValidConnection:R,doc:j,lib:d,flowId:m,nodeLookup:c});L=Ne.handleDomNode,X=Ne.connection,K=t8(!!W,Ne.isValid);const ye={...ve,isValid:K,to:W&&K?y0({x:W.x,y:W.y},je):U,toHandle:Ne.toHandle,toPosition:K&&Ne.toHandle?Ne.toHandle.position:s2[ue.position],toNode:Ne.toHandle?c.get(Ne.toHandle.nodeId):null};K&&W&&ve.toHandle&&ye.toHandle&&ve.toHandle.type===ye.toHandle.type&&ve.toHandle.nodeId===ye.toHandle.nodeId&&ve.toHandle.id===ye.toHandle.id&&ve.to.x===ye.to.x&&ve.to.y===ye.to.y||(k(ye),ve=ye)}function Ee(ke){(W||L)&&X&&K&&(S==null||S(X));const{inProgress:je,...Ne}=ve,ye={...Ne,toPosition:ve.toHandle?ve.toPosition:null};_==null||_(ke,ye),s&&(M==null||M(ke,ye)),w(),cancelAnimationFrame(B),J=!1,K=!1,X=null,L=null,j.removeEventListener("mousemove",Ce),j.removeEventListener("mouseup",Ee),j.removeEventListener("touchmove",Ce),j.removeEventListener("touchend",Ee)}j.addEventListener("mousemove",Ce),j.addEventListener("mouseup",Ee),j.addEventListener("touchmove",Ce),j.addEventListener("touchend",Ee)}function vk(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:r,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:d=gk,nodeLookup:f}){const m=s==="target",v=e?o.querySelector(`.${l}-flow__handle[data-id="${c}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:w,y:C}=Ja(t),S=o.elementFromPoint(w,C),_=S!=null&&S.classList.contains(`${l}-flow__handle`)?S:v,R={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const M=mk(void 0,_),k=_.getAttribute("data-nodeid"),D=_.getAttribute("data-handleid"),P=_.classList.contains("connectable"),O=_.classList.contains("connectableend");if(!k||!M)return R;const j={source:m?k:i,sourceHandle:m?D:r,target:m?i:k,targetHandle:m?r:D};R.connection=j;const W=P&&O&&(n===wf.Strict?m&&M==="source"||!m&&M==="target":k!==i||D!==r);R.isValid=W&&d(j),R.toHandle=pk(k,M,D,f,n,!1)}return R}const RC={onPointerDown:n8,isValid:vk};function i8({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const r=Vr(t);function s({translateExtent:l,width:c,height:d,zoomStep:f=10,pannable:m=!0,zoomable:v=!0,inversePan:w=!1}){const C=k=>{const D=n();if(k.sourceEvent.type!=="wheel"||!e)return;const P=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,O=D[2]*Math.pow(2,P);e.scaleTo(O)};let S=[0,0];const _=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(S=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},R=k=>{const D=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!e)return;const P=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],O=[P[0]-S[0],P[1]-S[1]];S=P;const j=i()*Math.max(D[2],Math.log(D[2]))*(w?-1:1),B={x:D[0]-O[0]*j,y:D[1]-O[1]*j},W=[[0,0],[c,d]];e.setViewportConstrained({x:B.x,y:B.y,zoom:D[2]},W,l)},M=WA().on("start",_).on("zoom",m?R:null).on("zoom.wheel",v?C:null);r.call(M,{})}function o(){r.on("zoom",null)}return{update:s,destroy:o,pointer:ro}}const r8=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,iw=t=>({x:t.x,y:t.y,zoom:t.k}),m1=({x:t,y:e,zoom:n})=>Q0.translate(t,e).scale(n),nf=(t,e)=>t.target.closest(`.${e}`),bk=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),g1=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},yk=t=>{const e=t.ctrlKey&&w0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function s8({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:r,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(nf(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(f.ctrlKey&&o){const _=ro(f),R=yk(f),M=m*Math.pow(2,R);i.scaleTo(n,M,_,f);return}const v=f.deltaMode===1?20:1;let w=r===ed.Vertical?0:f.deltaX*v,C=r===ed.Horizontal?0:f.deltaY*v;!w0()&&f.shiftKey&&r!==ed.Vertical&&(w=f.deltaY*v,C=0),i.translateBy(n,-(w/m)*s,-(C/m)*s,{internal:!0});const S=iw(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,S)),t.isPanScrolling&&(c==null||c(f,S),t.panScrollTimeout=setTimeout(()=>{d==null||d(f,S),t.isPanScrolling=!1},150))}}function o8({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,r){const s=i.type==="wheel",o=!e&&s&&!i.ctrlKey,l=nf(i,t);if(i.ctrlKey&&s&&l&&i.preventDefault(),o||l)return null;i.preventDefault(),n.call(this,i,r)}}function a8({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,o,l;if((s=i.sourceEvent)!=null&&s.internal)return;const r=iw(i.transform);t.mouseButton=((o=i.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=r,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,r))}}function l8({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:r}){return s=>{var o,l;t.usedRightMouseButton=!!(n&&bk(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||i([s.transform.x,s.transform.y,s.transform.k]),r&&!((l=s.sourceEvent)!=null&&l.internal)&&(r==null||r(s.sourceEvent,iw(s.transform)))}}function u8({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:r,onPaneContextMenu:s}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,s&&bk(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,i(!1),r&&r8(t.prevViewport,o.transform))){const c=iw(o.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{r==null||r(o.sourceEvent,c)},n?150:0)}}}function c8({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:r,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return f=>{var C;const m=t||e,v=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(nf(f,`${d}-flow__node`)||nf(f,`${d}-flow__edge`)))return!0;if(!i&&!m&&!r&&!s&&!n||o||nf(f,l)&&f.type==="wheel"||nf(f,c)&&(f.type!=="wheel"||r&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((C=f.touches)==null?void 0:C.length)>1)return f.preventDefault(),!1;if(!m&&!r&&!v&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const w=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&w}}function d8({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:r,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),v=WA().clickDistance(!oo(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(r),w=Vr(t).call(v);k({x:s.x,y:s.y,zoom:xf(s.zoom,e,n)},[[0,0],[m.width,m.height]],r);const C=w.on("wheel.zoom"),S=w.on("dblclick.zoom");v.wheelDelta(yk);function _(Z,ne){return w?new Promise(H=>{v==null||v.transform(g1(w,ne==null?void 0:ne.duration,()=>H(!0)),Z)}):Promise.resolve(!1)}function R({noWheelClassName:Z,noPanClassName:ne,onPaneContextMenu:H,userSelectionActive:Y,panOnScroll:U,panOnDrag:J,panOnScrollMode:X,panOnScrollSpeed:K,preventScrolling:L,zoomOnPinch:ee,zoomOnScroll:ue,zoomOnDoubleClick:V,zoomActivationKeyPressed:fe,lib:be,onTransformChange:ve}){Y&&!f.isZoomingOrPanning&&M();const Ee=U&&!fe&&!Y?s8({zoomPanValues:f,noWheelClassName:Z,d3Selection:w,d3Zoom:v,panOnScrollMode:X,panOnScrollSpeed:K,zoomOnPinch:ee,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):o8({noWheelClassName:Z,preventScrolling:L,d3ZoomHandler:C});if(w.on("wheel.zoom",Ee,{passive:!1}),!Y){const je=a8({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});v.on("start",je);const Ne=l8({zoomPanValues:f,panOnDrag:J,onPaneContextMenu:!!H,onPanZoom:o,onTransformChange:ve});v.on("zoom",Ne);const ye=u8({zoomPanValues:f,panOnDrag:J,panOnScroll:U,onPaneContextMenu:H,onPanZoomEnd:c,onDraggingChange:d});v.on("end",ye)}const ke=c8({zoomActivationKeyPressed:fe,panOnDrag:J,zoomOnScroll:ue,panOnScroll:U,zoomOnDoubleClick:V,zoomOnPinch:ee,userSelectionActive:Y,noPanClassName:ne,noWheelClassName:Z,lib:be});v.filter(ke),V?w.on("dblclick.zoom",S):w.on("dblclick.zoom",null)}function M(){v.on("zoom",null)}async function k(Z,ne,H){const Y=m1(Z),U=v==null?void 0:v.constrain()(Y,ne,H);return U&&await _(U),new Promise(J=>J(U))}async function D(Z,ne){const H=m1(Z);return await _(H,ne),new Promise(Y=>Y(H))}function P(Z){if(w){const ne=m1(Z),H=w.property("__zoom");(H.k!==Z.zoom||H.x!==Z.x||H.y!==Z.y)&&(v==null||v.transform(w,ne,null,{sync:!0}))}}function O(){const Z=w?VA(w.node()):{x:0,y:0,k:1};return{x:Z.x,y:Z.y,zoom:Z.k}}function j(Z,ne){return w?new Promise(H=>{v==null||v.scaleTo(g1(w,ne==null?void 0:ne.duration,()=>H(!0)),Z)}):Promise.resolve(!1)}function B(Z,ne){return w?new Promise(H=>{v==null||v.scaleBy(g1(w,ne==null?void 0:ne.duration,()=>H(!0)),Z)}):Promise.resolve(!1)}function W(Z){v==null||v.scaleExtent(Z)}function z(Z){v==null||v.translateExtent(Z)}function Q(Z){const ne=!oo(Z)||Z<0?0:Z;v==null||v.clickDistance(ne)}return{update:R,destroy:M,setViewport:D,setViewportConstrained:k,getViewport:O,scaleTo:j,scaleBy:B,setScaleExtent:W,setTranslateExtent:z,syncViewport:P,setClickDistance:Q}}var dg;(function(t){t.Line="line",t.Handle="handle"})(dg||(dg={}));function h8({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:r,affectsY:s}){const o=t-e,l=n-i,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&r&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function f8(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),r=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:r}}function iu(t,e){return Math.max(0,e-t)}function ru(t,e){return Math.max(0,t-e)}function Ry(t,e,n){return Math.max(0,e-t,t-n)}function b2(t,e){return t?!e:e}function p8(t,e,n,i,r,s,o,l){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:m}=e,v=f&&m,{xSnapped:w,ySnapped:C}=n,{minWidth:S,maxWidth:_,minHeight:R,maxHeight:M}=i,{x:k,y:D,width:P,height:O,aspectRatio:j}=t;let B=Math.floor(f?w-t.pointerX:0),W=Math.floor(m?C-t.pointerY:0);const z=P+(c?-B:B),Q=O+(d?-W:W),Z=-s[0]*P,ne=-s[1]*O;let H=Ry(z,S,_),Y=Ry(Q,R,M);if(o){let X=0,K=0;c&&B<0?X=iu(k+B+Z,o[0][0]):!c&&B>0&&(X=ru(k+z+Z,o[1][0])),d&&W<0?K=iu(D+W+ne,o[0][1]):!d&&W>0&&(K=ru(D+Q+ne,o[1][1])),H=Math.max(H,X),Y=Math.max(Y,K)}if(l){let X=0,K=0;c&&B>0?X=ru(k+B,l[0][0]):!c&&B<0&&(X=iu(k+z,l[1][0])),d&&W>0?K=ru(D+W,l[0][1]):!d&&W<0&&(K=iu(D+Q,l[1][1])),H=Math.max(H,X),Y=Math.max(Y,K)}if(r){if(f){const X=Ry(z/j,R,M)*j;if(H=Math.max(H,X),o){let K=0;!c&&!d||c&&!d&&v?K=ru(D+ne+z/j,o[1][1])*j:K=iu(D+ne+(c?B:-B)/j,o[0][1])*j,H=Math.max(H,K)}if(l){let K=0;!c&&!d||c&&!d&&v?K=iu(D+z/j,l[1][1])*j:K=ru(D+(c?B:-B)/j,l[0][1])*j,H=Math.max(H,K)}}if(m){const X=Ry(Q*j,S,_)/j;if(Y=Math.max(Y,X),o){let K=0;!c&&!d||d&&!c&&v?K=ru(k+Q*j+Z,o[1][0])/j:K=iu(k+(d?W:-W)*j+Z,o[0][0])/j,Y=Math.max(Y,K)}if(l){let K=0;!c&&!d||d&&!c&&v?K=iu(k+Q*j,l[1][0])/j:K=ru(k+(d?W:-W)*j,l[0][0])/j,Y=Math.max(Y,K)}}}W=W+(W<0?Y:-Y),B=B+(B<0?H:-H),r&&(v?z>Q*j?W=(b2(c,d)?-B:B)/j:B=(b2(c,d)?-W:W)*j:f?(W=B/j,d=c):(B=W*j,c=d));const U=c?k+B:k,J=d?D+W:D;return{width:P+(c?-B:B),height:O+(d?-W:W),x:s[0]*B*(c?-1:1)+U,y:s[1]*W*(d?-1:1)+J}}const wk={width:0,height:0,x:0,y:0},m8={...wk,pointerX:0,pointerY:0,aspectRatio:1};function g8(t){return[[0,0],[t.measured.width,t.measured.height]]}function v8(t,e,n){const i=e.position.x+t.position.x,r=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,c=n[1]*o;return[[i-l,r-c],[i+s-l,r+o-c]]}function b8({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:r}){const s=Vr(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:m,onResize:v,onResizeEnd:w,shouldResize:C}){let S={...wk},_={...m8};const R=f8(c);let M,k=null,D=[],P,O,j;const B=MA().on("start",W=>{const{nodeLookup:z,transform:Q,snapGrid:Z,snapToGrid:ne,nodeOrigin:H,paneDomNode:Y}=n();if(M=z.get(e),!M)return;k=(Y==null?void 0:Y.getBoundingClientRect())??null;const{xSnapped:U,ySnapped:J}=cg(W.sourceEvent,{transform:Q,snapGrid:Z,snapToGrid:ne,containerBounds:k});S={width:M.measured.width??0,height:M.measured.height??0,x:M.position.x??0,y:M.position.y??0},_={...S,pointerX:U,pointerY:J,aspectRatio:S.width/S.height},P=void 0,M.parentId&&(M.extent==="parent"||M.expandParent)&&(P=z.get(M.parentId),O=P&&M.extent==="parent"?g8(P):void 0),D=[],j=void 0;for(const[X,K]of z)if(K.parentId===e&&(D.push({id:X,position:{...K.position},extent:K.extent}),K.extent==="parent"||K.expandParent)){const L=v8(K,M,K.origin??H);j?j=[[Math.min(L[0][0],j[0][0]),Math.min(L[0][1],j[0][1])],[Math.max(L[1][0],j[1][0]),Math.max(L[1][1],j[1][1])]]:j=L}m==null||m(W,{...S})}).on("drag",W=>{const{transform:z,snapGrid:Q,snapToGrid:Z,nodeOrigin:ne}=n(),H=cg(W.sourceEvent,{transform:z,snapGrid:Q,snapToGrid:Z,containerBounds:k}),Y=[];if(!M)return;const{x:U,y:J,width:X,height:K}=S,L={},ee=M.origin??ne,{width:ue,height:V,x:fe,y:be}=p8(_,R,H,d,f,ee,O,j),ve=ue!==X,Ce=V!==K,Ee=fe!==U&&ve,ke=be!==J&&Ce;if(!Ee&&!ke&&!ve&&!Ce)return;if((Ee||ke||ee[0]===1||ee[1]===1)&&(L.x=Ee?fe:S.x,L.y=ke?be:S.y,S.x=L.x,S.y=L.y,D.length>0)){const Oe=fe-U,ze=be-J;for(const Qe of D)Qe.position={x:Qe.position.x-Oe+ee[0]*(ue-X),y:Qe.position.y-ze+ee[1]*(V-K)},Y.push(Qe)}if((ve||Ce)&&(L.width=ve?ue:S.width,L.height=Ce?V:S.height,S.width=L.width,S.height=L.height),P&&M.expandParent){const Oe=ee[0]*(L.width??0);L.x&&L.x<Oe&&(S.x=Oe,_.x=_.x-(L.x-Oe));const ze=ee[1]*(L.height??0);L.y&&L.y<ze&&(S.y=ze,_.y=_.y-(L.y-ze))}const je=h8({width:S.width,prevWidth:X,height:S.height,prevHeight:K,affectsX:R.affectsX,affectsY:R.affectsY}),Ne={...S,direction:je};(C==null?void 0:C(W,Ne))!==!1&&(v==null||v(W,Ne),i(L,Y))}).on("end",W=>{w==null||w(W,{...S}),r==null||r({...S})});s.call(B)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}var v1={exports:{}},b1={},y1={exports:{}},w1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function y8(){if(y2)return w1;y2=1;var t=Yg();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(m,v){var w=v(),C=i({inst:{value:w,getSnapshot:v}}),S=C[0].inst,_=C[1];return s(function(){S.value=w,S.getSnapshot=v,c(S)&&_({inst:S})},[m,w,v]),r(function(){return c(S)&&_({inst:S}),m(function(){c(S)&&_({inst:S})})},[m]),o(w),w}function c(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!n(m,w)}catch{return!0}}function d(m,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return w1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,w1}var w2;function w8(){return w2||(w2=1,y1.exports=y8()),y1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function x8(){if(x2)return b1;x2=1;var t=Yg(),e=w8();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return b1.useSyncExternalStoreWithSelector=function(d,f,m,v,w){var C=s(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=l(function(){function R(O){if(!M){if(M=!0,k=O,O=v(O),w!==void 0&&S.hasValue){var j=S.value;if(w(j,O))return D=j}return D=O}if(j=D,i(k,O))return j;var B=v(O);return w!==void 0&&w(j,B)?(k=O,j):(k=O,D=B)}var M=!1,k,D,P=m===void 0?null:m;return[function(){return R(f())},P===null?void 0:function(){return R(P())}]},[f,m,v,w]);var _=r(d,C[0],C[1]);return o(function(){S.hasValue=!0,S.value=_},[_]),c(_),_},b1}var C2;function C8(){return C2||(C2=1,v1.exports=x8()),v1.exports}var E8=C8();const S8=qg(E8),R8={},E2=t=>{let e;const n=new Set,i=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(C=>C(e,w))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(R8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(i,r,c);return c},T8=t=>t?E2(t):E2,{useDebugValue:_8}=jt,{useSyncExternalStoreWithSelector:A8}=S8,k8=t=>t;function xk(t,e=k8,n){const i=A8(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return _8(i),i}const S2=(t,e)=>{const n=T8(t),i=(r,s=e)=>xk(n,r,s);return Object.assign(i,n),i},M8=(t,e)=>t?S2(t,e):S2;function In(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,r]of t)if(!Object.is(r,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(e,i)||!Object.is(t[i],e[i]))return!1;return!0}var Df=pA();const rw=qg(Df),sw=x.createContext(null),D8=sw.Provider,Ck=aa.error001();function Vt(t,e){const n=x.useContext(sw);if(n===null)throw new Error(Ck);return xk(n,t,e)}function An(){const t=x.useContext(sw);if(t===null)throw new Error(Ck);return x.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const R2={display:"none"},N8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ek="react-flow__node-desc",Sk="react-flow__edge-desc",L8="react-flow__aria-live",O8=t=>t.ariaLiveMessage;function P8({rfId:t}){const e=Vt(O8);return g.jsx("div",{id:`${L8}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:N8,children:e})}function j8({rfId:t,disableKeyboardA11y:e}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{id:`${Ek}-${t}`,style:R2,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),g.jsx("div",{id:`${Sk}-${t}`,style:R2,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&g.jsx(P8,{rfId:t})]})}const I8=t=>t.userSelectionActive?"none":"all",ow=x.forwardRef(({position:t="top-left",children:e,className:n,style:i,...r},s)=>{const o=Vt(I8),l=`${t}`.split("-");return g.jsx("div",{className:Yn(["react-flow__panel",n,...l]),style:{...i,pointerEvents:o},ref:s,...r,children:e})});ow.displayName="Panel";function z8({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:g.jsx(ow,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const F8=t=>{const e=[],n=[];for(const[,i]of t.nodeLookup)i.selected&&e.push(i.internals.userNode);for(const[,i]of t.edgeLookup)i.selected&&n.push(i);return{selectedNodes:e,selectedEdges:n}},Ty=t=>t.id;function H8(t,e){return In(t.selectedNodes.map(Ty),e.selectedNodes.map(Ty))&&In(t.selectedEdges.map(Ty),e.selectedEdges.map(Ty))}function B8({onSelectionChange:t}){const e=An(),{selectedNodes:n,selectedEdges:i}=Vt(F8,H8);return x.useEffect(()=>{const r={nodes:n,edges:i};t==null||t(r),e.getState().onSelectionChangeHandlers.forEach(s=>s(r))},[n,i,t]),null}const U8=t=>!!t.onSelectionChangeHandlers;function $8({onSelectionChange:t}){const e=Vt(U8);return t||e?g.jsx(B8,{onSelectionChange:t}):null}const Rk=[0,0],V8={x:0,y:0,zoom:1},W8=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],T2=[...W8,"rfId"],G8=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),_2={translateExtent:kg,nodeOrigin:Rk,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function q8(t){const{setNodes:e,setEdges:n,setMinZoom:i,setMaxZoom:r,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=Vt(G8,In),f=An();x.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{m.current=_2,l()}),[]);const m=x.useRef(_2);return x.useEffect(()=>{for(const v of T2){const w=t[v],C=m.current[v];w!==C&&(typeof t[v]>"u"||(v==="nodes"?e(w):v==="edges"?n(w):v==="minZoom"?i(w):v==="maxZoom"?r(w):v==="translateExtent"?s(w):v==="nodeExtent"?o(w):v==="paneClickDistance"?d(w):v==="fitView"?f.setState({fitViewQueued:w}):v==="fitViewOptions"?f.setState({fitViewOptions:w}):f.setState({[v]:w})))}m.current=t},T2.map(v=>t[v])),null}function A2(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Y8(t){var i;const[e,n]=x.useState(t==="system"?null:t);return x.useEffect(()=>{if(t!=="system"){n(t);return}const r=A2(),s=()=>n(r!=null&&r.matches?"dark":"light");return s(),r==null||r.addEventListener("change",s),()=>{r==null||r.removeEventListener("change",s)}},[t]),e!==null?e:(i=A2())!=null&&i.matches?"dark":"light"}const k2=typeof document<"u"?document:null;function Lg(t=null,e={target:k2,actInsideInputWithModifier:!0}){const[n,i]=x.useState(!1),r=x.useRef(!1),s=x.useRef(new Set([])),[o,l]=x.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((m,v)=>m.concat(...v),[]);return[d,f]}return[[],[]]},[t]);return x.useEffect(()=>{const c=(e==null?void 0:e.target)||k2;if(t!==null){const d=v=>{var S,_;if(r.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!r.current||r.current&&!e.actInsideInputWithModifier)&&rk(v))return!1;const C=D2(v.code,l);if(s.current.add(v[C]),M2(o,s.current,!1)){const R=((_=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:_[0])||v.target,M=(R==null?void 0:R.nodeName)==="BUTTON"||(R==null?void 0:R.nodeName)==="A";e.preventDefault!==!1&&(r.current||!M)&&v.preventDefault(),i(!0)}},f=v=>{const w=D2(v.code,l);M2(o,s.current,!0)?(i(!1),s.current.clear()):s.current.delete(v[w]),v.key==="Meta"&&s.current.clear(),r.current=!1},m=()=>{s.current.clear(),i(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,i]),n}function M2(t,e,n){return t.filter(i=>n||i.length===e.size).some(i=>i.every(r=>e.has(r)))}function D2(t,e){return e.includes(t)?"code":"key"}const X8=()=>{const t=An();return x.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:i}=t.getState();return i?i.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[i,r,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??i,y:e.y??r,zoom:e.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,i]=t.getState().transform;return{x:e,y:n,zoom:i}},setCenter:async(e,n,i)=>{const{width:r,height:s,maxZoom:o,panZoom:l}=t.getState(),c=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:o,d=r/2-e*c,f=s/2-n*c;return l?(await l.setViewport({x:d,y:f,zoom:c},{duration:i==null?void 0:i.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:i,height:r,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),c=ZE(e,i,r,s,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:i,snapGrid:r,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:l,y:c}=o.getBoundingClientRect(),d={x:e.x-l,y:e.y-c},f=n.snapGrid??r,m=n.snapToGrid??s;return Qg(d,i,m,f)},flowToScreenPosition:e=>{const{transform:n,domNode:i}=t.getState();if(!i)return e;const{x:r,y:s}=i.getBoundingClientRect(),o=y0(e,n);return{x:o.x+r,y:o.y+s}}}),[])};function Tk(t,e){const n=[],i=new Map,r=[];for(const s of t)if(s.type==="add"){r.push(s);continue}else if(s.type==="remove"||s.type==="replace")i.set(s.id,[s]);else{const o=i.get(s.id);o?o.push(s):i.set(s.id,[s])}for(const s of e){const o=i.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const c of o)K8(c,l);n.push(l)}return r.length&&r.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function K8(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function _k(t,e){return Tk(t,e)}function Ak(t,e){return Tk(t,e)}function Gc(t,e){return{id:t,type:"select",selected:e}}function rf(t,e=new Set,n=!1){const i=[];for(const[r,s]of t){const o=e.has(r);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),i.push(Gc(s.id,o)))}return i}function N2({items:t=[],lookup:e}){var r;const n=[],i=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const l=e.get(o.id),c=((r=l==null?void 0:l.internals)==null?void 0:r.userNode)??l;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)i.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function L2(t){return{id:t.id,type:"remove"}}const O2=t=>TH(t),J8=t=>XA(t);function kk(t){return x.forwardRef(t)}const Z8=typeof window<"u"?x.useLayoutEffect:x.useEffect;function P2(t){const[e,n]=x.useState(BigInt(0)),[i]=x.useState(()=>Q8(()=>n(r=>r+BigInt(1))));return Z8(()=>{const r=i.get();r.length&&(t(r),i.reset())},[e]),i}function Q8(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const Mk=x.createContext(null);function e5({children:t}){const e=An(),n=x.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:m,nodeLookup:v,fitViewQueued:w}=e.getState();let C=c;for(const S of l)C=typeof S=="function"?S(C):S;if(f)d(C);else{const S=N2({items:C,lookup:v});S.length>0?m==null||m(S):w&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:R,setNodes:M}=e.getState();_&&M(R)})}},[]),i=P2(n),r=x.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:m,edgeLookup:v}=e.getState();let w=c;for(const C of l)w=typeof C=="function"?C(w):C;f?d(w):m&&m(N2({items:w,lookup:v}))},[]),s=P2(r),o=x.useMemo(()=>({nodeQueue:i,edgeQueue:s}),[]);return g.jsx(Mk.Provider,{value:o,children:t})}function t5(){const t=x.useContext(Mk);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const n5=t=>!!t.panZoom;function dd(){const t=X8(),e=An(),n=t5(),i=Vt(n5),r=x.useMemo(()=>{const s=m=>e.getState().nodeLookup.get(m),o=m=>{n.nodeQueue.push(m)},l=m=>{n.edgeQueue.push(m)},c=m=>{var R,M;const{nodeLookup:v,nodeOrigin:w}=e.getState(),C=O2(m)?m:v.get(m.id),S=C.parentId?nk(C.position,C.measured,C.parentId,v,w):C.position,_={...C,position:S,width:((R=C.measured)==null?void 0:R.width)??C.width,height:((M=C.measured)==null?void 0:M.height)??C.height};return Cf(_)},d=(m,v,w={replace:!1})=>{o(C=>C.map(S=>{if(S.id===m){const _=typeof v=="function"?v(S):v;return w.replace&&O2(_)?_:{...S,..._}}return S}))},f=(m,v,w={replace:!1})=>{l(C=>C.map(S=>{if(S.id===m){const _=typeof v=="function"?v(S):v;return w.replace&&J8(_)?_:{...S,..._}}return S}))};return{getNodes:()=>e.getState().nodes.map(m=>({...m})),getNode:m=>{var v;return(v=s(m))==null?void 0:v.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:m=[]}=e.getState();return m.map(v=>({...v}))},getEdge:m=>e.getState().edgeLookup.get(m),setNodes:o,setEdges:l,addNodes:m=>{const v=Array.isArray(m)?m:[m];n.nodeQueue.push(w=>[...w,...v])},addEdges:m=>{const v=Array.isArray(m)?m:[m];n.edgeQueue.push(w=>[...w,...v])},toObject:()=>{const{nodes:m=[],edges:v=[],transform:w}=e.getState(),[C,S,_]=w;return{nodes:m.map(R=>({...R})),edges:v.map(R=>({...R})),viewport:{x:C,y:S,zoom:_}}},deleteElements:async({nodes:m=[],edges:v=[]})=>{const{nodes:w,edges:C,onNodesDelete:S,onEdgesDelete:_,triggerNodeChanges:R,triggerEdgeChanges:M,onDelete:k,onBeforeDelete:D}=e.getState(),{nodes:P,edges:O}=await MH({nodesToRemove:m,edgesToRemove:v,nodes:w,edges:C,onBeforeDelete:D}),j=O.length>0,B=P.length>0;if(j){const W=O.map(L2);_==null||_(O),M(W)}if(B){const W=P.map(L2);S==null||S(P),R(W)}return(B||j)&&(k==null||k({nodes:P,edges:O})),{deletedNodes:P,deletedEdges:O}},getIntersectingNodes:(m,v=!0,w)=>{const C=a2(m),S=C?m:c(m),_=w!==void 0;return S?(w||e.getState().nodes).filter(R=>{const M=e.getState().nodeLookup.get(R.id);if(M&&!C&&(R.id===m.id||!M.internals.positionAbsolute))return!1;const k=Cf(_?R:M),D=Dg(k,S);return v&&D>0||D>=S.width*S.height}):[]},isNodeIntersecting:(m,v,w=!0)=>{const S=a2(m)?m:c(m);if(!S)return!1;const _=Dg(S,v);return w&&_>0||_>=S.width*S.height},updateNode:d,updateNodeData:(m,v,w={replace:!1})=>{d(m,C=>{const S=typeof v=="function"?v(C):v;return w.replace?{...C,data:S}:{...C,data:{...C.data,...S}}},w)},updateEdge:f,updateEdgeData:(m,v,w={replace:!1})=>{f(m,C=>{const S=typeof v=="function"?v(C):v;return w.replace?{...C,data:S}:{...C,data:{...C.data,...S}}},w)},getNodesBounds:m=>{const{nodeLookup:v,nodeOrigin:w}=e.getState();return JE(m,{nodeLookup:v,nodeOrigin:w})},getHandleConnections:({type:m,id:v,nodeId:w})=>{var C;return Array.from(((C=e.getState().connectionLookup.get(`${w}-${m}${v?`-${v}`:""}`))==null?void 0:C.values())??[])},getNodeConnections:({type:m,handleId:v,nodeId:w})=>{var C;return Array.from(((C=e.getState().connectionLookup.get(`${w}${m?v?`-${m}-${v}`:`-${m}`:""}`))==null?void 0:C.values())??[])},fitView:async m=>{const v=e.getState().fitViewResolver??Promise.withResolvers();return e.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:v}),n.nodeQueue.push(w=>[...w]),v.promise}}},[]);return x.useMemo(()=>({...r,...t,viewportInitialized:i}),[i])}const j2=t=>t.selected,i5={actInsideInputWithModifier:!1},r5=typeof window<"u"?window:void 0;function s5({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=An(),{deleteElements:i}=dd(),r=Lg(t,i5),s=Lg(e,{target:r5});x.useEffect(()=>{if(r){const{edges:o,nodes:l}=n.getState();i({nodes:l.filter(j2),edges:o.filter(j2)}),n.setState({nodesSelectionActive:!1})}},[r]),x.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function o5(t){const e=An();x.useEffect(()=>{const n=()=>{var r,s;if(!t.current)return!1;const i=QE(t.current);(i.height===0||i.width===0)&&((s=(r=e.getState()).onError)==null||s.call(r,"004",aa.error004())),e.setState({width:i.width||500,height:i.height||500})};if(t.current){n(),window.addEventListener("resize",n);const i=new ResizeObserver(()=>n());return i.observe(t.current),()=>{window.removeEventListener("resize",n),i&&t.current&&i.unobserve(t.current)}}},[])}const aw={position:"absolute",width:"100%",height:"100%",top:0,left:0},a5=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function l5({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:i=!1,panOnScrollSpeed:r=.5,panOnScrollMode:s=ed.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:m,zoomActivationKeyCode:v,preventScrolling:w=!0,children:C,noWheelClassName:S,noPanClassName:_,onViewportChange:R,isControlledViewport:M,paneClickDistance:k}){const D=An(),P=x.useRef(null),{userSelectionActive:O,lib:j}=Vt(a5,In),B=Lg(v),W=x.useRef();o5(P);const z=x.useCallback(Q=>{R==null||R({x:Q[0],y:Q[1],zoom:Q[2]}),M||D.setState({transform:Q})},[R,M]);return x.useEffect(()=>{if(P.current){W.current=d8({domNode:P.current,minZoom:f,maxZoom:m,translateExtent:d,viewport:c,paneClickDistance:k,onDraggingChange:H=>D.setState({paneDragging:H}),onPanZoomStart:(H,Y)=>{const{onViewportChangeStart:U,onMoveStart:J}=D.getState();J==null||J(H,Y),U==null||U(Y)},onPanZoom:(H,Y)=>{const{onViewportChange:U,onMove:J}=D.getState();J==null||J(H,Y),U==null||U(Y)},onPanZoomEnd:(H,Y)=>{const{onViewportChangeEnd:U,onMoveEnd:J}=D.getState();J==null||J(H,Y),U==null||U(Y)}});const{x:Q,y:Z,zoom:ne}=W.current.getViewport();return D.setState({panZoom:W.current,transform:[Q,Z,ne],domNode:P.current.closest(".react-flow")}),()=>{var H;(H=W.current)==null||H.destroy()}}},[]),x.useEffect(()=>{var Q;(Q=W.current)==null||Q.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:i,panOnScrollSpeed:r,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:B,preventScrolling:w,noPanClassName:_,userSelectionActive:O,noWheelClassName:S,lib:j,onTransformChange:z})},[t,e,n,i,r,s,o,l,B,w,_,O,S,j,z]),g.jsx("div",{className:"react-flow__renderer",ref:P,style:aw,children:C})}const u5=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function c5(){const{userSelectionActive:t,userSelectionRect:e}=Vt(u5,In);return t&&e?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const x1=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},d5=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function h5({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Mg.Full,panOnDrag:i,selectionOnDrag:r,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:v,children:w}){const C=An(),{userSelectionActive:S,elementsSelectable:_,dragging:R,connectionInProgress:M}=Vt(d5,In),k=_&&(t||S),D=x.useRef(null),P=x.useRef(),O=x.useRef(new Set),j=x.useRef(new Set),B=x.useRef(!1),W=x.useRef(!1),z=J=>{if(B.current||M){B.current=!1;return}l==null||l(J),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},Q=J=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){J.preventDefault();return}c==null||c(J)},Z=d?J=>d(J):void 0,ne=J=>{var ue,V;const{resetSelectedElements:X,domNode:K}=C.getState();if(P.current=K==null?void 0:K.getBoundingClientRect(),!_||!t||J.button!==0||J.target!==D.current||!P.current)return;(V=(ue=J.target)==null?void 0:ue.setPointerCapture)==null||V.call(ue,J.pointerId),W.current=!0,B.current=!1;const{x:L,y:ee}=Ja(J.nativeEvent,P.current);X(),C.setState({userSelectionRect:{width:0,height:0,startX:L,startY:ee,x:L,y:ee}}),s==null||s(J)},H=J=>{const{userSelectionRect:X,transform:K,nodeLookup:L,edgeLookup:ee,connectionLookup:ue,triggerNodeChanges:V,triggerEdgeChanges:fe,defaultEdgeOptions:be}=C.getState();if(!P.current||!X)return;B.current=!0;const{x:ve,y:Ce}=Ja(J.nativeEvent,P.current),{startX:Ee,startY:ke}=X,je={startX:Ee,startY:ke,x:ve<Ee?ve:Ee,y:Ce<ke?Ce:ke,width:Math.abs(ve-Ee),height:Math.abs(Ce-ke)},Ne=O.current,ye=j.current;O.current=new Set(KA(L,je,K,n===Mg.Partial,!0).map(ze=>ze.id)),j.current=new Set;const Oe=(be==null?void 0:be.selectable)??!0;for(const ze of O.current){const Qe=ue.get(ze);if(Qe)for(const{edgeId:gt}of Qe.values()){const bt=ee.get(gt);bt&&(bt.selectable??Oe)&&j.current.add(gt)}}if(!l2(Ne,O.current)){const ze=rf(L,O.current,!0);V(ze)}if(!l2(ye,j.current)){const ze=rf(ee,j.current);fe(ze)}C.setState({userSelectionRect:je,userSelectionActive:!0,nodesSelectionActive:!1})},Y=J=>{var K,L;if(J.button!==0||!W.current)return;(L=(K=J.target)==null?void 0:K.releasePointerCapture)==null||L.call(K,J.pointerId);const{userSelectionRect:X}=C.getState();!S&&X&&J.target===D.current&&(z==null||z(J)),C.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:O.current.size>0}),o==null||o(J),(e||r)&&(B.current=!1),W.current=!1},U=i===!0||Array.isArray(i)&&i.includes(0);return g.jsxs("div",{className:Yn(["react-flow__pane",{draggable:U,dragging:R,selection:t}]),onClick:k?void 0:x1(z,D),onContextMenu:x1(Q,D),onWheel:x1(Z,D),onPointerEnter:k?void 0:f,onPointerDown:k?ne:m,onPointerMove:k?H:m,onPointerUp:k?Y:void 0,onPointerLeave:v,ref:D,style:aw,children:[w,g.jsx(c5,{})]})}function TC({id:t,store:e,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:r,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=e.getState(),d=l.get(t);if(!d){c==null||c("012",aa.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=i==null?void 0:i.current)==null?void 0:f.blur()})):r([t])}function Dk({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:i,nodeId:r,isSelectable:s,nodeClickDistance:o}){const l=An(),[c,d]=x.useState(!1),f=x.useRef();return x.useEffect(()=>{f.current=JH({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{TC({id:m,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),x.useEffect(()=>{var m,v;if(e)(m=f.current)==null||m.destroy();else if(t.current)return(v=f.current)==null||v.update({noDragClassName:n,handleSelector:i,domNode:t.current,isSelectable:s,nodeId:r,nodeClickDistance:o}),()=>{var w;(w=f.current)==null||w.destroy()}},[n,i,e,s,t,r]),c}const f5=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function Nk(){const t=An();return x.useCallback(n=>{const{nodeExtent:i,snapToGrid:r,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=t.getState(),m=new Map,v=f5(o),w=r?s[0]:5,C=r?s[1]:5,S=n.direction.x*w*n.factor,_=n.direction.y*C*n.factor;for(const[,R]of d){if(!v(R))continue;let M={x:R.internals.positionAbsolute.x+S,y:R.internals.positionAbsolute.y+_};r&&(M=nw(M,s));const{position:k,positionAbsolute:D}=JA({nodeId:R.id,nextPosition:M,nodeLookup:d,nodeExtent:i,nodeOrigin:f,onError:l});R.position=k,R.internals.positionAbsolute=D,m.set(R.id,R)}c(m)},[])}const rS=x.createContext(null),p5=rS.Provider;rS.Consumer;const Lk=()=>x.useContext(rS),m5=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),g5=(t,e,n)=>i=>{const{connectionClickStartHandle:r,connectionMode:s,connection:o}=i,{fromHandle:l,toHandle:c,isValid:d}=o,f=(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.id)===e&&(c==null?void 0:c.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(r==null?void 0:r.nodeId)===t&&(r==null?void 0:r.id)===e&&(r==null?void 0:r.type)===n,isPossibleEndHandle:s===wf.Strict?(l==null?void 0:l.type)!==n:t!==(l==null?void 0:l.nodeId)||e!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!r,valid:f&&d}};function v5({type:t="source",position:e=te.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:r=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:m,...v},w){var Y,U;const C=o||null,S=t==="target",_=An(),R=Lk(),{connectOnClick:M,noPanClassName:k,rfId:D}=Vt(m5,In),{connectingFrom:P,connectingTo:O,clickConnecting:j,isPossibleEndHandle:B,connectionInProcess:W,clickConnectionInProcess:z,valid:Q}=Vt(g5(R,C,t),In);R||(U=(Y=_.getState()).onError)==null||U.call(Y,"010",aa.error010());const Z=J=>{const{defaultEdgeOptions:X,onConnect:K,hasDefaultEdges:L}=_.getState(),ee={...X,...J};if(L){const{edges:ue,setEdges:V}=_.getState();V(uk(ee,ue))}K==null||K(ee),l==null||l(ee)},ne=J=>{if(!R)return;const X=sk(J.nativeEvent);if(r&&(X&&J.button===0||!X)){const K=_.getState();RC.onPointerDown(J.nativeEvent,{autoPanOnConnect:K.autoPanOnConnect,connectionMode:K.connectionMode,connectionRadius:K.connectionRadius,domNode:K.domNode,nodeLookup:K.nodeLookup,lib:K.lib,isTarget:S,handleId:C,nodeId:R,flowId:K.rfId,panBy:K.panBy,cancelConnection:K.cancelConnection,onConnectStart:K.onConnectStart,onConnectEnd:K.onConnectEnd,updateConnection:K.updateConnection,onConnect:Z,isValidConnection:n||K.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:K.autoPanSpeed})}X?f==null||f(J):m==null||m(J)},H=J=>{const{onClickConnectStart:X,onClickConnectEnd:K,connectionClickStartHandle:L,connectionMode:ee,isValidConnection:ue,lib:V,rfId:fe,nodeLookup:be,connection:ve}=_.getState();if(!R||!L&&!r)return;if(!L){X==null||X(J.nativeEvent,{nodeId:R,handleId:C,handleType:t}),_.setState({connectionClickStartHandle:{nodeId:R,type:t,id:C}});return}const Ce=ik(J.target),Ee=n||ue,{connection:ke,isValid:je}=RC.isValid(J.nativeEvent,{handle:{nodeId:R,id:C,type:t},connectionMode:ee,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:Ee,flowId:fe,doc:Ce,lib:V,nodeLookup:be});je&&ke&&Z(ke);const Ne=structuredClone(ve);delete Ne.inProgress,Ne.toPosition=Ne.toHandle?Ne.toHandle.position:null,K==null||K(J,Ne),_.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":C,"data-nodeid":R,"data-handlepos":e,"data-id":`${D}-${R}-${C}-${t}`,className:Yn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",k,d,{source:!S,target:S,connectable:i,connectablestart:r,connectableend:s,clickconnecting:j,connectingfrom:P,connectingto:O,valid:Q,connectionindicator:i&&(!W||B)&&(W||z?s:r)}]),onMouseDown:ne,onTouchStart:ne,onClick:M?H:void 0,ref:w,...v,children:c})}const oe=x.memo(kk(v5));function b5({data:t,isConnectable:e,sourcePosition:n=te.Bottom}){return g.jsxs(g.Fragment,{children:[t==null?void 0:t.label,g.jsx(oe,{type:"source",position:n,isConnectable:e})]})}function y5({data:t,isConnectable:e,targetPosition:n=te.Top,sourcePosition:i=te.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(oe,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,g.jsx(oe,{type:"source",position:i,isConnectable:e})]})}function w5(){return null}function x5({data:t,isConnectable:e,targetPosition:n=te.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(oe,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const C0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},I2={input:b5,default:y5,output:x5,group:w5};function C5(t){var e,n,i,r;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((i=t.style)==null?void 0:i.width),height:t.height??((r=t.style)==null?void 0:r.height)}}const E5=t=>{const{width:e,height:n,x:i,y:r}=Zg(t.nodeLookup,{filter:s=>!!s.selected});return{width:oo(e)?e:null,height:oo(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${i}px,${r}px)`}};function S5({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const i=An(),{width:r,height:s,transformString:o,userSelectionActive:l}=Vt(E5,In),c=Nk(),d=x.useRef(null);if(x.useEffect(()=>{var v;n||(v=d.current)==null||v.focus({preventScroll:!0})},[n]),Dk({nodeRef:d}),l||!r||!s)return null;const f=t?v=>{const w=i.getState().nodes.filter(C=>C.selected);t(v,w)}:void 0,m=v=>{Object.prototype.hasOwnProperty.call(C0,v.key)&&(v.preventDefault(),c({direction:C0[v.key],factor:v.shiftKey?4:1}))};return g.jsx("div",{className:Yn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:g.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:r,height:s}})})}const z2=typeof window<"u"?window:void 0,R5=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Ok({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:C,panActivationKeyCode:S,zoomActivationKeyCode:_,elementsSelectable:R,zoomOnScroll:M,zoomOnPinch:k,panOnScroll:D,panOnScrollSpeed:P,panOnScrollMode:O,zoomOnDoubleClick:j,panOnDrag:B,defaultViewport:W,translateExtent:z,minZoom:Q,maxZoom:Z,preventScrolling:ne,onSelectionContextMenu:H,noWheelClassName:Y,noPanClassName:U,disableKeyboardA11y:J,onViewportChange:X,isControlledViewport:K}){const{nodesSelectionActive:L,userSelectionActive:ee}=Vt(R5),ue=Lg(d,{target:z2}),V=Lg(S,{target:z2}),fe=V||B,be=V||D,ve=f&&fe!==!0,Ce=ue||ee||ve;return s5({deleteKeyCode:c,multiSelectionKeyCode:C}),g.jsx(l5,{onPaneContextMenu:s,elementsSelectable:R,zoomOnScroll:M,zoomOnPinch:k,panOnScroll:be,panOnScrollSpeed:P,panOnScrollMode:O,zoomOnDoubleClick:j,panOnDrag:!ue&&fe,defaultViewport:W,translateExtent:z,minZoom:Q,maxZoom:Z,zoomActivationKeyCode:_,preventScrolling:ne,noWheelClassName:Y,noPanClassName:U,onViewportChange:X,isControlledViewport:K,paneClickDistance:l,children:g.jsxs(h5,{onSelectionStart:v,onSelectionEnd:w,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:fe,isSelecting:!!Ce,selectionMode:m,selectionKeyPressed:ue,selectionOnDrag:ve,children:[t,L&&g.jsx(S5,{onSelectionContextMenu:H,noPanClassName:U,disableKeyboardA11y:J})]})})}Ok.displayName="FlowRenderer";const T5=x.memo(Ok),_5=t=>e=>t?KA(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function A5(t){return Vt(x.useCallback(_5(t),[t]),In)}const k5=t=>t.updateNodeInternals;function M5(){const t=Vt(k5),[e]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const i=new Map;n.forEach(r=>{const s=r.target.getAttribute("data-id");i.set(s,{id:s,nodeElement:r.target,force:!0})}),t(i)}));return x.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function D5({node:t,nodeType:e,hasDimensions:n,resizeObserver:i}){const r=An(),s=x.useRef(null),o=x.useRef(null),l=x.useRef(t.sourcePosition),c=x.useRef(t.targetPosition),d=x.useRef(e),f=n&&!!t.internals.handleBounds;return x.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&(i==null||i.unobserve(o.current)),i==null||i.observe(s.current),o.current=s.current)},[f,t.hidden]),x.useEffect(()=>()=>{o.current&&(i==null||i.unobserve(o.current),o.current=null)},[]),x.useEffect(()=>{if(s.current){const m=d.current!==e,v=l.current!==t.sourcePosition,w=c.current!==t.targetPosition;(m||v||w)&&(d.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,r.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function N5({id:t,onClick:e,onMouseEnter:n,onMouseMove:i,onMouseLeave:r,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:m,noDragClassName:v,noPanClassName:w,disableKeyboardA11y:C,rfId:S,nodeTypes:_,nodeClickDistance:R,onError:M}){const{node:k,internals:D,isParent:P}=Vt(Ce=>{const Ee=Ce.nodeLookup.get(t),ke=Ce.parentLookup.has(t);return{node:Ee,internals:Ee.internals,isParent:ke}},In);let O=k.type||"default",j=(_==null?void 0:_[O])||I2[O];j===void 0&&(M==null||M("003",aa.error003(O)),O="default",j=I2.default);const B=!!(k.draggable||l&&typeof k.draggable>"u"),W=!!(k.selectable||c&&typeof k.selectable>"u"),z=!!(k.connectable||d&&typeof k.connectable>"u"),Q=!!(k.focusable||f&&typeof k.focusable>"u"),Z=An(),ne=tk(k),H=D5({node:k,nodeType:O,hasDimensions:ne,resizeObserver:m}),Y=Dk({nodeRef:H,disabled:k.hidden||!B,noDragClassName:v,handleSelector:k.dragHandle,nodeId:t,isSelectable:W,nodeClickDistance:R}),U=Nk();if(k.hidden)return null;const J=ol(k),X=C5(k),K=W||B||e||n||i||r,L=n?Ce=>n(Ce,{...D.userNode}):void 0,ee=i?Ce=>i(Ce,{...D.userNode}):void 0,ue=r?Ce=>r(Ce,{...D.userNode}):void 0,V=s?Ce=>s(Ce,{...D.userNode}):void 0,fe=o?Ce=>o(Ce,{...D.userNode}):void 0,be=Ce=>{const{selectNodesOnDrag:Ee,nodeDragThreshold:ke}=Z.getState();W&&(!Ee||!B||ke>0)&&TC({id:t,store:Z,nodeRef:H}),e&&e(Ce,{...D.userNode})},ve=Ce=>{if(!(rk(Ce.nativeEvent)||C))if(GA.includes(Ce.key)&&W){const Ee=Ce.key==="Escape";TC({id:t,store:Z,unselect:Ee,nodeRef:H})}else B&&k.selected&&Object.prototype.hasOwnProperty.call(C0,Ce.key)&&(Ce.preventDefault(),Z.setState({ariaLiveMessage:`Moved selected node ${Ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),U({direction:C0[Ce.key],factor:Ce.shiftKey?4:1}))};return g.jsx("div",{className:Yn(["react-flow__node",`react-flow__node-${O}`,{[w]:B},k.className,{selected:k.selected,selectable:W,parent:P,draggable:B,dragging:Y}]),ref:H,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:ne?"visible":"hidden",...k.style,...X},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:L,onMouseMove:ee,onMouseLeave:ue,onContextMenu:V,onClick:be,onDoubleClick:fe,onKeyDown:Q?ve:void 0,tabIndex:Q?0:void 0,role:Q?"button":void 0,"aria-describedby":C?void 0:`${Ek}-${S}`,"aria-label":k.ariaLabel,children:g.jsx(p5,{value:t,children:g.jsx(j,{id:t,data:k.data,type:O,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:k.selected??!1,selectable:W,draggable:B,deletable:k.deletable??!0,isConnectable:z,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:Y,dragHandle:k.dragHandle,zIndex:D.z,parentId:k.parentId,...J})})})}const L5=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Pk(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:i,elementsSelectable:r,onError:s}=Vt(L5,In),o=A5(t.onlyRenderVisibleElements),l=M5();return g.jsx("div",{className:"react-flow__nodes",style:aw,children:o.map(c=>g.jsx(N5,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:i,elementsSelectable:r,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}Pk.displayName="NodeRenderer";const O5=x.memo(Pk);function P5(t){return Vt(x.useCallback(n=>{if(!t)return n.edges.map(r=>r.id);const i=[];if(n.width&&n.height)for(const r of n.edges){const s=n.nodeLookup.get(r.source),o=n.nodeLookup.get(r.target);s&&o&&jH({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&i.push(r.id)}return i},[t]),In)}const j5=({color:t="none",strokeWidth:e=1})=>g.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),I5=({color:t="none",strokeWidth:e=1})=>g.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),F2={[Be.Arrow]:j5,[Be.ArrowClosed]:I5};function z5(t){const e=An();return x.useMemo(()=>{var r,s;return Object.prototype.hasOwnProperty.call(F2,t)?F2[t]:((s=(r=e.getState()).onError)==null||s.call(r,"009",aa.error009(t)),null)},[t])}const F5=({id:t,type:e,color:n,width:i=12.5,height:r=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=z5(e);return c?g.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:g.jsx(c,{color:n,strokeWidth:o})}):null},jk=({defaultColor:t,rfId:e})=>{const n=Vt(s=>s.edges),i=Vt(s=>s.defaultEdgeOptions),r=x.useMemo(()=>$H(n,{id:e,defaultColor:t,defaultMarkerStart:i==null?void 0:i.markerStart,defaultMarkerEnd:i==null?void 0:i.markerEnd}),[n,i,e,t]);return r.length?g.jsx("svg",{className:"react-flow__marker",children:g.jsx("defs",{children:r.map(s=>g.jsx(F5,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};jk.displayName="MarkerDefinitions";var H5=x.memo(jk);function Ik({x:t,y:e,label:n,labelStyle:i,labelShowBg:r=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[m,v]=x.useState({x:1,y:0,width:0,height:0}),w=Yn(["react-flow__edge-textwrapper",d]),C=x.useRef(null);return x.useEffect(()=>{if(C.current){const S=C.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?g.jsxs("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:w,visibility:m.width?"visible":"hidden",...f,children:[r&&g.jsx("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),g.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:C,style:i,children:n}),c]}):null}Ik.displayName="EdgeText";const B5=x.memo(Ik);function ev({path:t,labelX:e,labelY:n,label:i,labelStyle:r,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...f,d:t,fill:"none",className:Yn(["react-flow__edge-path",f.className])}),d&&g.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),i&&oo(e)&&oo(n)?g.jsx(B5,{x:e,y:n,label:i,labelStyle:r,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function H2({pos:t,x1:e,y1:n,x2:i,y2:r}){return t===te.Left||t===te.Right?[.5*(e+i),n]:[e,.5*(n+r)]}function zk({sourceX:t,sourceY:e,sourcePosition:n=te.Bottom,targetX:i,targetY:r,targetPosition:s=te.Top}){const[o,l]=H2({pos:n,x1:t,y1:e,x2:i,y2:r}),[c,d]=H2({pos:s,x1:i,y1:r,x2:t,y2:e}),[f,m,v,w]=ok({sourceX:t,sourceY:e,targetX:i,targetY:r,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${i},${r}`,f,m,v,w]}function Fk(t){return x.memo(({id:e,sourceX:n,sourceY:i,targetX:r,targetY:s,sourcePosition:o=te.Bottom,targetPosition:l=te.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:C,markerEnd:S,markerStart:_,interactionWidth:R})=>{const[M,k,D]=zk({sourceX:n,sourceY:i,sourcePosition:o,targetX:r,targetY:s,targetPosition:l}),P=t.isInternal?void 0:e;return g.jsx(ev,{id:P,path:M,labelX:k,labelY:D,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:C,markerEnd:S,markerStart:_,interactionWidth:R})})}const U5=Fk({isInternal:!1}),Hk=Fk({isInternal:!0});U5.displayName="SimpleBezierEdge";Hk.displayName="SimpleBezierEdgeInternal";function Bk(t){return x.memo(({id:e,sourceX:n,sourceY:i,targetX:r,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:v,sourcePosition:w=te.Bottom,targetPosition:C=te.Top,markerEnd:S,markerStart:_,pathOptions:R,interactionWidth:M})=>{const[k,D,P]=x0({sourceX:n,sourceY:i,sourcePosition:w,targetX:r,targetY:s,targetPosition:C,borderRadius:R==null?void 0:R.borderRadius,offset:R==null?void 0:R.offset}),O=t.isInternal?void 0:e;return g.jsx(ev,{id:O,path:k,labelX:D,labelY:P,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:v,markerEnd:S,markerStart:_,interactionWidth:M})})}const Uk=Bk({isInternal:!1}),$k=Bk({isInternal:!0});Uk.displayName="SmoothStepEdge";$k.displayName="SmoothStepEdgeInternal";function Vk(t){return x.memo(({id:e,...n})=>{var r;const i=t.isInternal?void 0:e;return g.jsx(Uk,{...n,id:i,pathOptions:x.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(r=n.pathOptions)==null?void 0:r.offset])})})}const $5=Vk({isInternal:!1}),Wk=Vk({isInternal:!0});$5.displayName="StepEdge";Wk.displayName="StepEdgeInternal";function Gk(t){return x.memo(({id:e,sourceX:n,sourceY:i,targetX:r,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:v,markerEnd:w,markerStart:C,interactionWidth:S})=>{const[_,R,M]=ck({sourceX:n,sourceY:i,targetX:r,targetY:s}),k=t.isInternal?void 0:e;return g.jsx(ev,{id:k,path:_,labelX:R,labelY:M,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:v,markerEnd:w,markerStart:C,interactionWidth:S})})}const V5=Gk({isInternal:!1}),qk=Gk({isInternal:!0});V5.displayName="StraightEdge";qk.displayName="StraightEdgeInternal";function Yk(t){return x.memo(({id:e,sourceX:n,sourceY:i,targetX:r,targetY:s,sourcePosition:o=te.Bottom,targetPosition:l=te.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:C,markerEnd:S,markerStart:_,pathOptions:R,interactionWidth:M})=>{const[k,D,P]=ak({sourceX:n,sourceY:i,sourcePosition:o,targetX:r,targetY:s,targetPosition:l,curvature:R==null?void 0:R.curvature}),O=t.isInternal?void 0:e;return g.jsx(ev,{id:O,path:k,labelX:D,labelY:P,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:C,markerEnd:S,markerStart:_,interactionWidth:M})})}const W5=Yk({isInternal:!1}),Xk=Yk({isInternal:!0});W5.displayName="BezierEdge";Xk.displayName="BezierEdgeInternal";const B2={default:Xk,straight:qk,step:Wk,smoothstep:$k,simplebezier:Hk},U2={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},G5=(t,e,n)=>n===te.Left?t-e:n===te.Right?t+e:t,q5=(t,e,n)=>n===te.Top?t-e:n===te.Bottom?t+e:t,$2="react-flow__edgeupdater";function V2({position:t,centerX:e,centerY:n,radius:i=10,onMouseDown:r,onMouseEnter:s,onMouseOut:o,type:l}){return g.jsx("circle",{onMouseDown:r,onMouseEnter:s,onMouseOut:o,className:Yn([$2,`${$2}-${l}`]),cx:G5(e,i,t),cy:q5(n,i,t),r:i,stroke:"transparent",fill:"transparent"})}function Y5({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:i,sourceY:r,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:m,setReconnecting:v,setUpdateHover:w}){const C=An(),S=(D,P)=>{if(D.button!==0)return;const{autoPanOnConnect:O,domNode:j,isValidConnection:B,connectionMode:W,connectionRadius:z,lib:Q,onConnectStart:Z,onConnectEnd:ne,cancelConnection:H,nodeLookup:Y,rfId:U,panBy:J,updateConnection:X}=C.getState(),K=P.type==="target";v(!0),f==null||f(D,n,P.type);const L=(ue,V)=>{v(!1),m==null||m(ue,n,P.type,V)},ee=ue=>d==null?void 0:d(n,ue);RC.onPointerDown(D.nativeEvent,{autoPanOnConnect:O,connectionMode:W,connectionRadius:z,domNode:j,handleId:P.id,nodeId:P.nodeId,nodeLookup:Y,isTarget:K,edgeUpdaterType:P.type,lib:Q,flowId:U,cancelConnection:H,panBy:J,isValidConnection:B,onConnect:ee,onConnectStart:Z,onConnectEnd:ne,onReconnectEnd:L,updateConnection:X,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle})},_=D=>S(D,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),R=D=>S(D,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),M=()=>w(!0),k=()=>w(!1);return g.jsxs(g.Fragment,{children:[(t===!0||t==="source")&&g.jsx(V2,{position:l,centerX:i,centerY:r,radius:e,onMouseDown:_,onMouseEnter:M,onMouseOut:k,type:"source"}),(t===!0||t==="target")&&g.jsx(V2,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:R,onMouseEnter:M,onMouseOut:k,type:"target"})]})}function X5({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:i,onClick:r,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:m,onReconnectStart:v,onReconnectEnd:w,rfId:C,edgeTypes:S,noPanClassName:_,onError:R,disableKeyboardA11y:M}){let k=Vt(ye=>ye.edgeLookup.get(t));const D=Vt(ye=>ye.defaultEdgeOptions);k=D?{...D,...k}:k;let P=k.type||"default",O=(S==null?void 0:S[P])||B2[P];O===void 0&&(R==null||R("011",aa.error011(P)),P="default",O=B2.default);const j=!!(k.focusable||e&&typeof k.focusable>"u"),B=typeof m<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),W=!!(k.selectable||i&&typeof k.selectable>"u"),z=x.useRef(null),[Q,Z]=x.useState(!1),[ne,H]=x.useState(!1),Y=An(),{zIndex:U,sourceX:J,sourceY:X,targetX:K,targetY:L,sourcePosition:ee,targetPosition:ue}=Vt(x.useCallback(ye=>{const Oe=ye.nodeLookup.get(k.source),ze=ye.nodeLookup.get(k.target);if(!Oe||!ze)return{zIndex:k.zIndex,...U2};const Qe=UH({id:t,sourceNode:Oe,targetNode:ze,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:ye.connectionMode,onError:R});return{zIndex:PH({selected:k.selected,zIndex:k.zIndex,sourceNode:Oe,targetNode:ze,elevateOnSelect:ye.elevateEdgesOnSelect}),...Qe||U2}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),In),V=x.useMemo(()=>k.markerStart?`url('#${EC(k.markerStart,C)}')`:void 0,[k.markerStart,C]),fe=x.useMemo(()=>k.markerEnd?`url('#${EC(k.markerEnd,C)}')`:void 0,[k.markerEnd,C]);if(k.hidden||J===null||X===null||K===null||L===null)return null;const be=ye=>{var gt;const{addSelectedEdges:Oe,unselectNodesAndEdges:ze,multiSelectionActive:Qe}=Y.getState();W&&(Y.setState({nodesSelectionActive:!1}),k.selected&&Qe?(ze({nodes:[],edges:[k]}),(gt=z.current)==null||gt.blur()):Oe([t])),r&&r(ye,k)},ve=s?ye=>{s(ye,{...k})}:void 0,Ce=o?ye=>{o(ye,{...k})}:void 0,Ee=l?ye=>{l(ye,{...k})}:void 0,ke=c?ye=>{c(ye,{...k})}:void 0,je=d?ye=>{d(ye,{...k})}:void 0,Ne=ye=>{var Oe;if(!M&&GA.includes(ye.key)&&W){const{unselectNodesAndEdges:ze,addSelectedEdges:Qe}=Y.getState();ye.key==="Escape"?((Oe=z.current)==null||Oe.blur(),ze({edges:[k]})):Qe([t])}};return g.jsx("svg",{style:{zIndex:U},children:g.jsxs("g",{className:Yn(["react-flow__edge",`react-flow__edge-${P}`,k.className,_,{selected:k.selected,animated:k.animated,inactive:!W&&!r,updating:Q,selectable:W}]),onClick:be,onDoubleClick:ve,onContextMenu:Ce,onMouseEnter:Ee,onMouseMove:ke,onMouseLeave:je,onKeyDown:j?Ne:void 0,tabIndex:j?0:void 0,role:j?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":j?`${Sk}-${C}`:void 0,ref:z,children:[!ne&&g.jsx(O,{id:t,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:W,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:J,sourceY:X,targetX:K,targetY:L,sourcePosition:ee,targetPosition:ue,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:V,markerEnd:fe,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),B&&g.jsx(Y5,{edge:k,isReconnectable:B,reconnectRadius:f,onReconnect:m,onReconnectStart:v,onReconnectEnd:w,sourceX:J,sourceY:X,targetX:K,targetY:L,sourcePosition:ee,targetPosition:ue,setUpdateHover:Z,setReconnecting:H})]})})}const K5=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Kk({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:i,noPanClassName:r,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:m,onEdgeDoubleClick:v,onReconnectStart:w,onReconnectEnd:C,disableKeyboardA11y:S}){const{edgesFocusable:_,edgesReconnectable:R,elementsSelectable:M,onError:k}=Vt(K5,In),D=P5(e);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(H5,{defaultColor:t,rfId:n}),D.map(P=>g.jsx(X5,{id:P,edgesFocusable:_,edgesReconnectable:R,elementsSelectable:M,noPanClassName:r,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:m,onDoubleClick:v,onReconnectStart:w,onReconnectEnd:C,rfId:n,onError:k,edgeTypes:i,disableKeyboardA11y:S},P))]})}Kk.displayName="EdgeRenderer";const J5=x.memo(Kk),Z5=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Q5({children:t}){const e=Vt(Z5);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function eB(t){const e=dd(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const tB=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function nB(t){const e=Vt(tB),n=An();return x.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function iB(t){return t.connection.inProgress?{...t.connection,to:Qg(t.connection.to,t.transform)}:{...t.connection}}function rB(t){return iB}function sB(t){const e=rB();return Vt(e,In)}const oB=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function aB({containerStyle:t,style:e,type:n,component:i}){const{nodesConnectable:r,width:s,height:o,isValid:l,inProgress:c}=Vt(oB,In);return!(s&&r&&c)?null:g.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Yn(["react-flow__connection",YA(l)]),children:g.jsx(Jk,{style:e,type:n,CustomComponent:i,isValid:l})})})}const Jk=({style:t,type:e=Cu.Bezier,CustomComponent:n,isValid:i})=>{const{inProgress:r,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:m,toPosition:v}=sB();if(!r)return;if(n)return g.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:v,connectionStatus:YA(i),toNode:f,toHandle:m});let w="";const C={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:v};switch(e){case Cu.Bezier:[w]=ak(C);break;case Cu.SimpleBezier:[w]=zk(C);break;case Cu.Step:[w]=x0({...C,borderRadius:0});break;case Cu.SmoothStep:[w]=x0(C);break;default:[w]=ck(C)}return g.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:t})};Jk.displayName="ConnectionLine";const lB={};function W2(t=lB){x.useRef(t),An(),x.useEffect(()=>{},[t])}function uB(){An(),x.useRef(!1),x.useEffect(()=>{},[])}function Zk({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:i,onEdgeClick:r,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:m,onSelectionStart:v,onSelectionEnd:w,connectionLineType:C,connectionLineStyle:S,connectionLineComponent:_,connectionLineContainerStyle:R,selectionKeyCode:M,selectionOnDrag:k,selectionMode:D,multiSelectionKeyCode:P,panActivationKeyCode:O,zoomActivationKeyCode:j,deleteKeyCode:B,onlyRenderVisibleElements:W,elementsSelectable:z,defaultViewport:Q,translateExtent:Z,minZoom:ne,maxZoom:H,preventScrolling:Y,defaultMarkerColor:U,zoomOnScroll:J,zoomOnPinch:X,panOnScroll:K,panOnScrollSpeed:L,panOnScrollMode:ee,zoomOnDoubleClick:ue,panOnDrag:V,onPaneClick:fe,onPaneMouseEnter:be,onPaneMouseMove:ve,onPaneMouseLeave:Ce,onPaneScroll:Ee,onPaneContextMenu:ke,paneClickDistance:je,nodeClickDistance:Ne,onEdgeContextMenu:ye,onEdgeMouseEnter:Oe,onEdgeMouseMove:ze,onEdgeMouseLeave:Qe,reconnectRadius:gt,onReconnect:bt,onReconnectStart:tn,onReconnectEnd:yt,noDragClassName:dn,noWheelClassName:an,noPanClassName:Xn,disableKeyboardA11y:ti,nodeExtent:Fn,rfId:ni,viewport:we,onViewportChange:Le}){return W2(t),W2(e),uB(),eB(n),nB(we),g.jsx(T5,{onPaneClick:fe,onPaneMouseEnter:be,onPaneMouseMove:ve,onPaneMouseLeave:Ce,onPaneContextMenu:ke,onPaneScroll:Ee,paneClickDistance:je,deleteKeyCode:B,selectionKeyCode:M,selectionOnDrag:k,selectionMode:D,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:P,panActivationKeyCode:O,zoomActivationKeyCode:j,elementsSelectable:z,zoomOnScroll:J,zoomOnPinch:X,zoomOnDoubleClick:ue,panOnScroll:K,panOnScrollSpeed:L,panOnScrollMode:ee,panOnDrag:V,defaultViewport:Q,translateExtent:Z,minZoom:ne,maxZoom:H,onSelectionContextMenu:m,preventScrolling:Y,noDragClassName:dn,noWheelClassName:an,noPanClassName:Xn,disableKeyboardA11y:ti,onViewportChange:Le,isControlledViewport:!!we,children:g.jsxs(Q5,{children:[g.jsx(J5,{edgeTypes:e,onEdgeClick:r,onEdgeDoubleClick:o,onReconnect:bt,onReconnectStart:tn,onReconnectEnd:yt,onlyRenderVisibleElements:W,onEdgeContextMenu:ye,onEdgeMouseEnter:Oe,onEdgeMouseMove:ze,onEdgeMouseLeave:Qe,reconnectRadius:gt,defaultMarkerColor:U,noPanClassName:Xn,disableKeyboardA11y:ti,rfId:ni}),g.jsx(aB,{style:S,type:C,component:_,containerStyle:R}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(O5,{nodeTypes:t,onNodeClick:i,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Ne,onlyRenderVisibleElements:W,noPanClassName:Xn,noDragClassName:dn,disableKeyboardA11y:ti,nodeExtent:Fn,rfId:ni}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}Zk.displayName="GraphView";const cB=x.memo(Zk),G2=({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,width:r,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}={})=>{const d=new Map,f=new Map,m=new Map,v=new Map,w=i??e??[],C=n??t??[],S=l??[0,0],_=c??kg;hk(m,v,w),SC(C,d,f,{nodeOrigin:S,nodeExtent:_,elevateNodesOnSelect:!1});let R=[0,0,1];if(o&&r&&s){const M=Zg(d,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:k,y:D,zoom:P}=ZE(M,r,s,.5,2,.1);R=[k,D,P]}return{rfId:"1",width:0,height:0,transform:R,nodes:C,nodeLookup:d,parentLookup:f,edges:w,edgeLookup:v,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:kg,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:wf.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:void 0,fitViewResolver:null,connection:{...qA},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:DH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},dB=({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,width:r,height:s,fitView:o,nodeOrigin:l,nodeExtent:c})=>M8((d,f)=>{async function m(){const{nodeLookup:v,panZoom:w,fitViewOptions:C,fitViewResolver:S,width:_,height:R,minZoom:M,maxZoom:k}=f();w&&(await kH({nodes:v,width:_,height:R,panZoom:w,minZoom:M,maxZoom:k},C),S==null||S.resolve(!0),d({fitViewResolver:null}))}return{...G2({nodes:t,edges:e,width:r,height:s,fitView:o,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:i}),setNodes:v=>{const{nodeLookup:w,parentLookup:C,nodeOrigin:S,elevateNodesOnSelect:_,fitViewQueued:R}=f(),M=SC(v,w,C,{nodeOrigin:S,nodeExtent:c,elevateNodesOnSelect:_,checkEquality:!0});R&&M?(m(),d({nodes:v,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:v})},setEdges:v=>{const{connectionLookup:w,edgeLookup:C}=f();hk(w,C,v),d({edges:v})},setDefaultNodesAndEdges:(v,w)=>{if(v){const{setNodes:C}=f();C(v),d({hasDefaultNodes:!0})}if(w){const{setEdges:C}=f();C(w),d({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:w,nodeLookup:C,parentLookup:S,domNode:_,nodeOrigin:R,nodeExtent:M,debug:k,fitViewQueued:D}=f(),{changes:P,updatedInternals:O}=YH(v,C,S,_,R,M);O&&(WH(C,S,{nodeOrigin:R,nodeExtent:M}),D?(m(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(P==null?void 0:P.length)>0&&(k&&console.log("React Flow: trigger node changes",P),w==null||w(P)))},updateNodePositions:(v,w=!1)=>{const C=[],S=[],{nodeLookup:_,triggerNodeChanges:R}=f();for(const[M,k]of v){const D=_.get(M),P=!!(D!=null&&D.expandParent&&(D!=null&&D.parentId)&&(k!=null&&k.position)),O={id:M,type:"position",position:P?{x:Math.max(0,k.position.x),y:Math.max(0,k.position.y)}:k.position,dragging:w};P&&D.parentId&&C.push({id:M,parentId:D.parentId,rect:{...k.internals.positionAbsolute,width:k.measured.width??0,height:k.measured.height??0}}),S.push(O)}if(C.length>0){const{parentLookup:M,nodeOrigin:k}=f(),D=iS(C,_,M,k);S.push(...D)}R(S)},triggerNodeChanges:v=>{const{onNodesChange:w,setNodes:C,nodes:S,hasDefaultNodes:_,debug:R}=f();if(v!=null&&v.length){if(_){const M=_k(v,S);C(M)}R&&console.log("React Flow: trigger node changes",v),w==null||w(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:w,setEdges:C,edges:S,hasDefaultEdges:_,debug:R}=f();if(v!=null&&v.length){if(_){const M=Ak(v,S);C(M)}R&&console.log("React Flow: trigger edge changes",v),w==null||w(v)}},addSelectedNodes:v=>{const{multiSelectionActive:w,edgeLookup:C,nodeLookup:S,triggerNodeChanges:_,triggerEdgeChanges:R}=f();if(w){const M=v.map(k=>Gc(k,!0));_(M);return}_(rf(S,new Set([...v]),!0)),R(rf(C))},addSelectedEdges:v=>{const{multiSelectionActive:w,edgeLookup:C,nodeLookup:S,triggerNodeChanges:_,triggerEdgeChanges:R}=f();if(w){const M=v.map(k=>Gc(k,!0));R(M);return}R(rf(C,new Set([...v]))),_(rf(S,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:w}={})=>{const{edges:C,nodes:S,nodeLookup:_,triggerNodeChanges:R,triggerEdgeChanges:M}=f(),k=v||S,D=w||C,P=k.map(j=>{const B=_.get(j.id);return B&&(B.selected=!1),Gc(j.id,!1)}),O=D.map(j=>Gc(j.id,!1));R(P),M(O)},setMinZoom:v=>{const{panZoom:w,maxZoom:C}=f();w==null||w.setScaleExtent([v,C]),d({minZoom:v})},setMaxZoom:v=>{const{panZoom:w,minZoom:C}=f();w==null||w.setScaleExtent([C,v]),d({maxZoom:v})},setTranslateExtent:v=>{var w;(w=f().panZoom)==null||w.setTranslateExtent(v),d({translateExtent:v})},setPaneClickDistance:v=>{var w;(w=f().panZoom)==null||w.setClickDistance(v)},resetSelectedElements:()=>{const{edges:v,nodes:w,triggerNodeChanges:C,triggerEdgeChanges:S}=f(),_=w.reduce((M,k)=>k.selected?[...M,Gc(k.id,!1)]:M,[]),R=v.reduce((M,k)=>k.selected?[...M,Gc(k.id,!1)]:M,[]);C(_),S(R)},setNodeExtent:v=>{const{nodes:w,nodeLookup:C,parentLookup:S,nodeOrigin:_,elevateNodesOnSelect:R,nodeExtent:M}=f();v[0][0]===M[0][0]&&v[0][1]===M[0][1]&&v[1][0]===M[1][0]&&v[1][1]===M[1][1]||(SC(w,C,S,{nodeOrigin:_,nodeExtent:v,elevateNodesOnSelect:R,checkEquality:!1}),d({nodeExtent:v}))},panBy:v=>{const{transform:w,width:C,height:S,panZoom:_,translateExtent:R}=f();return XH({delta:v,panZoom:_,transform:w,translateExtent:R,width:C,height:S})},cancelConnection:()=>{d({connection:{...qA}})},updateConnection:v=>{d({connection:v})},reset:()=>d({...G2()})}},Object.is);function Qk({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:i,initialWidth:r,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:c,children:d}){const[f]=x.useState(()=>dB({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,width:r,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}));return g.jsx(D8,{value:f,children:g.jsx(e5,{children:d})})}function hB({children:t,nodes:e,edges:n,defaultNodes:i,defaultEdges:r,width:s,height:o,fitView:l,nodeOrigin:c,nodeExtent:d}){return x.useContext(sw)?g.jsx(g.Fragment,{children:t}):g.jsx(Qk,{initialNodes:e,initialEdges:n,defaultNodes:i,defaultEdges:r,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:c,nodeExtent:d,children:t})}const fB={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function pB({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,className:r,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:m,onMoveEnd:v,onConnect:w,onConnectStart:C,onConnectEnd:S,onClickConnectStart:_,onClickConnectEnd:R,onNodeMouseEnter:M,onNodeMouseMove:k,onNodeMouseLeave:D,onNodeContextMenu:P,onNodeDoubleClick:O,onNodeDragStart:j,onNodeDrag:B,onNodeDragStop:W,onNodesDelete:z,onEdgesDelete:Q,onDelete:Z,onSelectionChange:ne,onSelectionDragStart:H,onSelectionDrag:Y,onSelectionDragStop:U,onSelectionContextMenu:J,onSelectionStart:X,onSelectionEnd:K,onBeforeDelete:L,connectionMode:ee,connectionLineType:ue=Cu.Bezier,connectionLineStyle:V,connectionLineComponent:fe,connectionLineContainerStyle:be,deleteKeyCode:ve="Backspace",selectionKeyCode:Ce="Shift",selectionOnDrag:Ee=!1,selectionMode:ke=Mg.Full,panActivationKeyCode:je="Space",multiSelectionKeyCode:Ne=w0()?"Meta":"Control",zoomActivationKeyCode:ye=w0()?"Meta":"Control",snapToGrid:Oe,snapGrid:ze,onlyRenderVisibleElements:Qe=!1,selectNodesOnDrag:gt,nodesDraggable:bt,nodesConnectable:tn,nodesFocusable:yt,nodeOrigin:dn=Rk,edgesFocusable:an,edgesReconnectable:Xn,elementsSelectable:ti=!0,defaultViewport:Fn=V8,minZoom:ni=.5,maxZoom:we=2,translateExtent:Le=kg,preventScrolling:Xe=!0,nodeExtent:st,defaultMarkerColor:ft="#b1b1b7",zoomOnScroll:kn=!0,zoomOnPinch:Kn=!0,panOnScroll:hn=!1,panOnScrollSpeed:ln=.5,panOnScrollMode:Oi=ed.Free,zoomOnDoubleClick:Xt=!0,panOnDrag:rn=!0,onPaneClick:hi,onPaneMouseEnter:cl,onPaneMouseMove:Iu,onPaneMouseLeave:Qr,onPaneScroll:es,onPaneContextMenu:Qi,paneClickDistance:Rs=0,nodeClickDistance:ts=0,children:zu,onReconnect:Fu,onReconnectStart:bd,onReconnectEnd:Hu,onEdgeContextMenu:fa,onEdgeDoubleClick:Bu,onEdgeMouseEnter:yd,onEdgeMouseMove:dl,onEdgeMouseLeave:wd,reconnectRadius:xd=10,onNodesChange:Gf,onEdgesChange:ns,noDragClassName:Gn="nodrag",noWheelClassName:ii="nowheel",noPanClassName:Ts="nopan",fitView:hl,fitViewOptions:Cd,connectOnClick:qf,attributionPosition:Ed,proOptions:pa,defaultEdgeOptions:Uu,elevateNodesOnSelect:_s,elevateEdgesOnSelect:go,disableKeyboardA11y:wr=!1,autoPanOnConnect:vo,autoPanOnNodeDrag:bn,autoPanSpeed:Sd,connectionRadius:Rd,isValidConnection:As,onError:ks,style:er,id:$u,nodeDragThreshold:Td,viewport:_d,onViewportChange:Yf,width:fl,height:ma,colorMode:tr="light",debug:fi,onScroll:Ms,...Xf},ga){const Ds=$u||"1",va=Y8(tr),Kf=x.useCallback(ri=>{ri.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ms==null||Ms(ri)},[Ms]);return g.jsx("div",{"data-testid":"rf__wrapper",...Xf,onScroll:Kf,style:{...er,...fB},ref:ga,className:Yn(["react-flow",r,va]),id:$u,children:g.jsxs(hB,{nodes:t,edges:e,width:fl,height:ma,fitView:hl,nodeOrigin:dn,nodeExtent:st,children:[g.jsx(cB,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:M,onNodeMouseMove:k,onNodeMouseLeave:D,onNodeContextMenu:P,onNodeDoubleClick:O,nodeTypes:s,edgeTypes:o,connectionLineType:ue,connectionLineStyle:V,connectionLineComponent:fe,connectionLineContainerStyle:be,selectionKeyCode:Ce,selectionOnDrag:Ee,selectionMode:ke,deleteKeyCode:ve,multiSelectionKeyCode:Ne,panActivationKeyCode:je,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Qe,defaultViewport:Fn,translateExtent:Le,minZoom:ni,maxZoom:we,preventScrolling:Xe,zoomOnScroll:kn,zoomOnPinch:Kn,zoomOnDoubleClick:Xt,panOnScroll:hn,panOnScrollSpeed:ln,panOnScrollMode:Oi,panOnDrag:rn,onPaneClick:hi,onPaneMouseEnter:cl,onPaneMouseMove:Iu,onPaneMouseLeave:Qr,onPaneScroll:es,onPaneContextMenu:Qi,paneClickDistance:Rs,nodeClickDistance:ts,onSelectionContextMenu:J,onSelectionStart:X,onSelectionEnd:K,onReconnect:Fu,onReconnectStart:bd,onReconnectEnd:Hu,onEdgeContextMenu:fa,onEdgeDoubleClick:Bu,onEdgeMouseEnter:yd,onEdgeMouseMove:dl,onEdgeMouseLeave:wd,reconnectRadius:xd,defaultMarkerColor:ft,noDragClassName:Gn,noWheelClassName:ii,noPanClassName:Ts,rfId:Ds,disableKeyboardA11y:wr,nodeExtent:st,viewport:_d,onViewportChange:Yf}),g.jsx(q8,{nodes:t,edges:e,defaultNodes:n,defaultEdges:i,onConnect:w,onConnectStart:C,onConnectEnd:S,onClickConnectStart:_,onClickConnectEnd:R,nodesDraggable:bt,nodesConnectable:tn,nodesFocusable:yt,edgesFocusable:an,edgesReconnectable:Xn,elementsSelectable:ti,elevateNodesOnSelect:_s,elevateEdgesOnSelect:go,minZoom:ni,maxZoom:we,nodeExtent:st,onNodesChange:Gf,onEdgesChange:ns,snapToGrid:Oe,snapGrid:ze,connectionMode:ee,translateExtent:Le,connectOnClick:qf,defaultEdgeOptions:Uu,fitView:hl,fitViewOptions:Cd,onNodesDelete:z,onEdgesDelete:Q,onDelete:Z,onNodeDragStart:j,onNodeDrag:B,onNodeDragStop:W,onSelectionDrag:Y,onSelectionDragStart:H,onSelectionDragStop:U,onMove:f,onMoveStart:m,onMoveEnd:v,noPanClassName:Ts,nodeOrigin:dn,rfId:Ds,autoPanOnConnect:vo,autoPanOnNodeDrag:bn,autoPanSpeed:Sd,onError:ks,connectionRadius:Rd,isValidConnection:As,selectNodesOnDrag:gt,nodeDragThreshold:Td,onBeforeDelete:L,paneClickDistance:Rs,debug:fi}),g.jsx($8,{onSelectionChange:ne}),zu,g.jsx(z8,{proOptions:pa,position:Ed}),g.jsx(j8,{rfId:Ds,disableKeyboardA11y:wr})]})})}var eM=kk(pB);function mB(t){const[e,n]=x.useState(t),i=x.useCallback(r=>n(s=>_k(r,s)),[]);return[e,n,i]}function gB(t){const[e,n]=x.useState(t),i=x.useCallback(r=>n(s=>Ak(r,s)),[]);return[e,n,i]}function vB({dimensions:t,lineWidth:e,variant:n,className:i}){return g.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Yn(["react-flow__background-pattern",n,i])})}function bB({radius:t,className:e}){return g.jsx("circle",{cx:t,cy:t,r:t,className:Yn(["react-flow__background-pattern","dots",e])})}var Eu;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Eu||(Eu={}));const yB={[Eu.Dots]:1,[Eu.Lines]:1,[Eu.Cross]:6},wB=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function tM({id:t,variant:e=Eu.Dots,gap:n=20,size:i,lineWidth:r=1,offset:s=0,color:o,bgColor:l,style:c,className:d,patternClassName:f}){const m=x.useRef(null),{transform:v,patternId:w}=Vt(wB,In),C=i||yB[e],S=e===Eu.Dots,_=e===Eu.Cross,R=Array.isArray(n)?n:[n,n],M=[R[0]*v[2]||1,R[1]*v[2]||1],k=C*v[2],D=Array.isArray(s)?s:[s,s],P=_?[k,k]:M,O=[D[0]*v[2]||1+P[0]/2,D[1]*v[2]||1+P[1]/2],j=`${w}${t||""}`;return g.jsxs("svg",{className:Yn(["react-flow__background",d]),style:{...c,...aw,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:m,"data-testid":"rf__background",children:[g.jsx("pattern",{id:j,x:v[0]%M[0],y:v[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:S?g.jsx(bB,{radius:k/2,className:f}):g.jsx(vB,{dimensions:P,lineWidth:r,variant:e,className:f})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${j})`})]})}tM.displayName="Background";const nM=x.memo(tM);function xB(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function CB(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function EB(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function SB(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function RB(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function _y({children:t,className:e,...n}){return g.jsx("button",{type:"button",className:Yn(["react-flow__controls-button",e]),...n,children:t})}const TB=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function iM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:r,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:f,position:m="bottom-left",orientation:v="vertical","aria-label":w="React Flow controls"}){const C=An(),{isInteractive:S,minZoomReached:_,maxZoomReached:R}=Vt(TB,In),{zoomIn:M,zoomOut:k,fitView:D}=dd(),P=()=>{M(),s==null||s()},O=()=>{k(),o==null||o()},j=()=>{D(r),l==null||l()},B=()=>{C.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),c==null||c(!S)},W=v==="horizontal"?"horizontal":"vertical";return g.jsxs(ow,{className:Yn(["react-flow__controls",W,d]),position:m,style:t,"data-testid":"rf__controls","aria-label":w,children:[e&&g.jsxs(g.Fragment,{children:[g.jsx(_y,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:R,children:g.jsx(xB,{})}),g.jsx(_y,{onClick:O,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_,children:g.jsx(CB,{})})]}),n&&g.jsx(_y,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view",children:g.jsx(EB,{})}),i&&g.jsx(_y,{className:"react-flow__controls-interactive",onClick:B,title:"toggle interactivity","aria-label":"toggle interactivity",children:S?g.jsx(RB,{}):g.jsx(SB,{})}),f]})}iM.displayName="Controls";const _B=x.memo(iM);function AB({id:t,x:e,y:n,width:i,height:r,style:s,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:m,selected:v,onClick:w}){const{background:C,backgroundColor:S}=s||{},_=o||C||S;return g.jsx("rect",{className:Yn(["react-flow__minimap-node",{selected:v},d]),x:e,y:n,rx:f,ry:f,width:i,height:r,style:{fill:_,stroke:l,strokeWidth:c},shapeRendering:m,onClick:w?R=>w(R,t):void 0})}const kB=x.memo(AB),MB=t=>t.nodes.map(e=>e.id),C1=t=>t instanceof Function?t:()=>t;function DB({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:r,nodeComponent:s=kB,onClick:o}){const l=Vt(MB,In),c=C1(e),d=C1(t),f=C1(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:l.map(v=>g.jsx(LB,{id:v,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:i,nodeStrokeWidth:r,NodeComponent:s,onClick:o,shapeRendering:m},v))})}function NB({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:i,nodeBorderRadius:r,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:f,y:m,width:v,height:w}=Vt(C=>{const{internals:S}=C.nodeLookup.get(t),_=S.userNode,{x:R,y:M}=S.positionAbsolute,{width:k,height:D}=ol(_);return{node:_,x:R,y:M,width:k,height:D}},In);return!d||d.hidden||!tk(d)?null:g.jsx(l,{x:f,y:m,width:v,height:w,style:d.style,selected:!!d.selected,className:i(d),color:e(d),borderRadius:r,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const LB=x.memo(NB);var OB=x.memo(DB);const PB=200,jB=150,IB=t=>!t.hidden,zB=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?ek(Zg(t.nodeLookup,{filter:IB}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},FB="react-flow__minimap-desc";function rM({style:t,className:e,nodeStrokeColor:n,nodeColor:i,nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:m,position:v="bottom-right",onClick:w,onNodeClick:C,pannable:S=!1,zoomable:_=!1,ariaLabel:R="React Flow mini map",inversePan:M,zoomStep:k=10,offsetScale:D=5}){const P=An(),O=x.useRef(null),{boundingRect:j,viewBB:B,rfId:W,panZoom:z,translateExtent:Q,flowWidth:Z,flowHeight:ne}=Vt(zB,In),H=(t==null?void 0:t.width)??PB,Y=(t==null?void 0:t.height)??jB,U=j.width/H,J=j.height/Y,X=Math.max(U,J),K=X*H,L=X*Y,ee=D*X,ue=j.x-(K-j.width)/2-ee,V=j.y-(L-j.height)/2-ee,fe=K+ee*2,be=L+ee*2,ve=`${FB}-${W}`,Ce=x.useRef(0),Ee=x.useRef();Ce.current=X,x.useEffect(()=>{if(O.current&&z)return Ee.current=i8({domNode:O.current,panZoom:z,getTransform:()=>P.getState().transform,getViewScale:()=>Ce.current}),()=>{var Ne;(Ne=Ee.current)==null||Ne.destroy()}},[z]),x.useEffect(()=>{var Ne;(Ne=Ee.current)==null||Ne.update({translateExtent:Q,width:Z,height:ne,inversePan:M,pannable:S,zoomStep:k,zoomable:_})},[S,_,M,k,Q,Z,ne]);const ke=w?Ne=>{var ze;const[ye,Oe]=((ze=Ee.current)==null?void 0:ze.pointer(Ne))||[0,0];w(Ne,{x:ye,y:Oe})}:void 0,je=C?x.useCallback((Ne,ye)=>{const Oe=P.getState().nodeLookup.get(ye).internals.userNode;C(Ne,Oe)},[]):void 0;return g.jsx(ow,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*X:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Yn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:H,height:Y,viewBox:`${ue} ${V} ${fe} ${be}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ve,ref:O,onClick:ke,children:[R&&g.jsx("title",{id:ve,children:R}),g.jsx(OB,{onClick:je,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:r,nodeStrokeWidth:o,nodeComponent:l}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${ue-ee},${V-ee}h${fe+ee*2}v${be+ee*2}h${-fe-ee*2}z
        M${B.x},${B.y}h${B.width}v${B.height}h${-B.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}rM.displayName="MiniMap";const sM=x.memo(rM);function HB({nodeId:t,position:e,variant:n=dg.Handle,className:i,style:r={},children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:v,onResizeStart:w,onResize:C,onResizeEnd:S}){const _=Lk(),R=typeof t=="string"?t:_,M=An(),k=x.useRef(null),D=n===dg.Line?"right":"bottom-right",P=e??D,O=x.useRef(null);x.useEffect(()=>{if(!(!k.current||!R))return O.current||(O.current=b8({domNode:k.current,nodeId:R,getStoreItems:()=>{const{nodeLookup:z,transform:Q,snapGrid:Z,snapToGrid:ne,nodeOrigin:H,domNode:Y}=M.getState();return{nodeLookup:z,transform:Q,snapGrid:Z,snapToGrid:ne,nodeOrigin:H,paneDomNode:Y}},onChange:(z,Q)=>{const{triggerNodeChanges:Z,nodeLookup:ne,parentLookup:H,nodeOrigin:Y}=M.getState(),U=[],J={x:z.x,y:z.y},X=ne.get(R);if(X&&X.expandParent&&X.parentId){const K=X.origin??Y,L=z.width??X.measured.width??0,ee=z.height??X.measured.height??0,ue={id:X.id,parentId:X.parentId,rect:{width:L,height:ee,...nk({x:z.x??X.position.x,y:z.y??X.position.y},{width:L,height:ee},X.parentId,ne,K)}},V=iS([ue],ne,H,Y);U.push(...V),J.x=z.x?Math.max(K[0]*L,z.x):void 0,J.y=z.y?Math.max(K[1]*ee,z.y):void 0}if(J.x!==void 0&&J.y!==void 0){const K={id:R,type:"position",position:{...J}};U.push(K)}if(z.width!==void 0&&z.height!==void 0){const K={id:R,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:z.width,height:z.height}};U.push(K)}for(const K of Q){const L={...K,type:"position"};U.push(L)}Z(U)},onEnd:({width:z,height:Q})=>{const Z={id:R,type:"dimensions",resizing:!1,dimensions:{width:z,height:Q}};M.getState().triggerNodeChanges([Z])}})),O.current.update({controlPosition:P,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:m,onResizeStart:w,onResize:C,onResizeEnd:S,shouldResize:v}),()=>{var z;(z=O.current)==null||z.destroy()}},[P,l,c,d,f,m,w,C,S,v]);const j=P.split("-"),B=n===dg.Line?"borderColor":"backgroundColor",W=o?{...r,[B]:o}:r;return g.jsx("div",{className:Yn(["react-flow__resize-control","nodrag",...j,n,i]),ref:k,style:W,children:s})}x.memo(HB);const oM=x.createContext({currentInst:{type:"",opcode:"",asm:"",encoding:{hexEncoding:"",binEncoding:"",funct3:"",funct7:"",rs1:"",rs2:"",rd:""},rs1:{regenc:""},rs2:{regenc:""},instruction:"",currentPc:0,pseudoasm:""},setCurrentInst:()=>{},currentType:"",setCurrentType:()=>{},currentResult:{alu:{a:"",b:"",operation:"",result:""},alua:{signal:""},alub:{signal:""},ru:{rs1:"",rs2:"",dataWrite:"",writeSignal:""},imm:{output:"",signal:""},bu:{a:"",b:"",operation:"",result:""},dm:{address:"",dataRd:"",dataWr:"",controlSignal:"",writeSignal:""},buMux:{result:"",signal:""},wb:{signal:""}},setCurrentResult:()=>{}}),It=()=>x.useContext(oM),BB=({children:t})=>{const[e,n]=x.useState({type:"",opcode:"",asm:"",encoding:{hexEncoding:"",binEncoding:"",funct3:"",funct7:"",rs1:"",rs2:"",rd:""},rs1:{regenc:""},rs2:{regenc:""},instruction:"",currentPc:0,pseudoasm:""}),[i,r]=x.useState(""),[s,o]=x.useState({alu:{a:"",b:"",operation:"",result:""},alua:{signal:""},alub:{signal:""},ru:{rs1:"",rs2:"",dataWrite:"",writeSignal:""},imm:{output:"",signal:""},bu:{a:"",b:"",operation:"",result:""},dm:{address:"",dataRd:"",dataWr:"",controlSignal:"",writeSignal:""},buMux:{result:"",signal:""},wb:{signal:""}});return g.jsx(oM.Provider,{value:{currentInst:e,setCurrentInst:n,currentType:i,setCurrentType:r,currentResult:s,setCurrentResult:o},children:t})},aM=x.createContext(void 0),UB=({children:t})=>{const[e,n]=x.useState(!1),[i,r]=x.useState(void 0),[s,o]=x.useState(0),[l,c]=x.useState(""),[d,f]=x.useState([]),[m,v]=x.useState(""),[w,C]=x.useState(!0),[S,_]=x.useState({address:0,value:"",_length:0}),[R,M]=x.useState({address:0,value:"-1",_length:0}),[k,D]=x.useState(!1),[P,O]=x.useState(!1);return g.jsx(aM.Provider,{value:{isCreatedMemoryTable:e,setIsCreatedMemoryTable:n,dataMemoryTable:i,setDataMemoryTable:r,sizeMemory:s,setSizeMemory:o,sp:l,setSp:c,importMemory:d,setImportMemory:f,searchInMemory:m,setSearchInMemory:v,showHex:w,setShowHex:C,writeInMemory:S,setWriteInMemory:_,readInMemory:R,setReadInMemory:M,locatePc:k,setLocatePc:D,showProgramTable:P,setShowProgramTable:O},children:t})},Kr=()=>{const t=x.useContext(aM);if(!t)throw new Error("useMemoryTable debe usarse dentro de un MemoryTableProvider");return t},lM=x.createContext(void 0),$B=({children:t})=>{const[e,n]=x.useState({registerName:"",value:""}),[i,r]=x.useState([]),[s,o]=x.useState("");return g.jsx(lM.Provider,{value:{writeInRegister:e,setWriteInRegister:n,importRegister:i,setImportRegister:r,searchInRegisters:s,setSearchInRegisters:o},children:t})},Nf=()=>{const t=x.useContext(lM);if(!t)throw new Error("useRegistersTable debe usarse dentro de un RoutesProvider");return t},uM=x.createContext(void 0),VB=({children:t})=>{const[e,n]=x.useState(Array(32).fill("0".repeat(32)));return g.jsx(uM.Provider,{value:{registerData:e,setRegisterData:n},children:t})},cM=()=>{const t=x.useContext(uM);if(!t)throw new Error("useRegisterData debe usarse dentro de un RegisterDataProvider");return t},dM=x.createContext(void 0),WB=({children:t})=>{const[e,n]=x.useState(void 0);return g.jsx(dM.Provider,{value:{dialog:e,setDialog:n},children:t})},Lf=()=>{const t=x.useContext(dM);if(!t)throw new Error("useDialog debe usarse dentro de un DialogProvider");return t},hM=x.createContext(void 0),GB=({children:t})=>{const[e,n]=x.useState(-1),[i,r]=x.useState(-1),[s,o]=x.useState(-1);return g.jsx(hM.Provider,{value:{lineDecorationNumber:e,setLineDecorationNumber:n,clickInEditorLine:i,setClickInEditorLine:r,clickAddressInMemoryTable:s,setClickAddressInMemoryTable:o},children:t})},tv=()=>{const t=x.useContext(hM);if(!t)throw new Error("useLines debe usarse dentro de un LinesProvider");return t},fM=x.createContext({overlayDecodeActive:!1,setOverlayDecodeActive:()=>{},overlayExecuteActive:!1,setOverlayExecuteActive:()=>{},overlayMemoryActive:!1,setOverlayMemoryActive:()=>{},overlayWBActive:!1,setOverlayWBActive:()=>{}}),Ci=()=>x.useContext(fM),qB=({children:t})=>{const[e,n]=x.useState(!1),[i,r]=x.useState(!1),[s,o]=x.useState(!1),[l,c]=x.useState(!1);return g.jsx(fM.Provider,{value:{overlayDecodeActive:e,setOverlayDecodeActive:n,overlayExecuteActive:i,setOverlayExecuteActive:r,overlayMemoryActive:s,setOverlayMemoryActive:o,overlayWBActive:l,setOverlayWBActive:c},children:t})},pM=x.createContext(void 0),YB=({children:t})=>{const[e,n]=x.useState("monocycle"),[i,r]=x.useState("text"),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,f]=x.useState(!1),[m,v]=x.useState("convert"),[w,C]=x.useState(0),[S,_]=x.useState(!1),[R,M]=x.useState(!1),[k,D]=x.useState(!1);return g.jsx(pM.Provider,{value:{typeSimulator:e,setTypeSimulator:n,modeSimulator:i,setModeSimulator:r,textProgram:s,setTextProgram:o,operation:l,setOperation:c,isFirstStep:d,setIsFirstStep:f,section:m,setSection:v,newPc:w,setNewPc:C,simulateAuto:S,setSimulateAuto:_,isEbreak:R,setIsEbreak:M,showTuto:k,setShowTuto:D},children:t})},lt=()=>{const t=x.useContext(pM);if(!t)throw new Error("useSimulator debe usarse dentro de un SimulatorProvider");return t},XB=()=>{const{setDataMemoryTable:t,setWriteInMemory:e,setSizeMemory:n,setReadInMemory:i,setIsCreatedMemoryTable:r}=Kr(),{setTypeSimulator:s,modeSimulator:o,setModeSimulator:l,setTextProgram:c,setOperation:d,isFirstStep:f,setIsFirstStep:m,setSection:v,setNewPc:w,setIsEbreak:C}=lt(),{setWriteInRegister:S}=Nf(),{setCurrentInst:_,setCurrentResult:R}=It(),{setLineDecorationNumber:M,setClickInEditorLine:k}=tv(),{setDialog:D}=Lf(),P=x.useRef(o);x.useEffect(()=>{P.current=o},[o]),x.useEffect(()=>{const O=j=>{var W;const B=j.data;if((B==null?void 0:B.from)==="UIManager")switch(B.operation){case"simulatorType":l(B.simulatorType);break;case"textProgram":c(B.textProgram);break;case"uploadMemory":D({title:"Configuration Info",description:"Before executing the first instruction, you can change the simulation settings.",stop:!1,chooseTypeSimulator:B.typeSimulator==="monocycle"}),s(B.typeSimulator),v("settings"),r(!1),t(B.payload),n(B.payload.memory.length),m(!1),d("uploadMemory"),M(B.initialLine);break;case"step":w(B.newPc),_(B.currentInst),((W=B.currentInst.asm)==null?void 0:W.toLowerCase())==="ebreak"&&C(!0),R(B.result),B.lineDecorationNumber!==void 0?M(B.lineDecorationNumber):M(-1),f||(v("search"),d("step"),m(!0));break;case"clickInLine":k(B.lineNumber);break;case"setRegister":S({registerName:B.register,value:B.value});break;case"writeMemory":e({address:B.address,value:B.value,_length:B._length});break;case"readMemory":i({address:B.address,value:"1",_length:B._length});break;case"stop":D({title:"Info",description:"The program has ended.",stop:!0,descerror:B.descerror});break}};return window.addEventListener("message",O),()=>window.removeEventListener("message",O)},[d,t,n,w,e,i,S,v,f,m,D,r])},KB=()=>(XB(),null);function JB(t,e){const n=x.createContext(e),i=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:c,children:o})};i.displayName=t+"Provider";function r(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[i,r]}function Lu(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,ZB(r,...e)]}function ZB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function q2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mM(...t){return e=>{let n=!1;const i=t.map(r=>{const s=q2(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():q2(t[r],null)}}}}function xi(...t){return x.useCallback(mM(...t),t)}function En(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}var sd=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},QB=ua.useId||(()=>{}),e6=0;function hg(t){const[e,n]=x.useState(QB());return sd(()=>{n(i=>i??String(e6++))},[t]),t||(e?`radix-${e}`:"")}function el(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function lw({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=t6({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:i,l=el(n),c=x.useCallback(d=>{if(s){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else r(d)},[s,t,r,l]);return[o,c]}function t6({defaultProp:t,onChange:e}){const n=x.useState(t),[i]=n,r=x.useRef(i),s=el(e);return x.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}var Sf=x.forwardRef((t,e)=>{const{children:n,...i}=t,r=x.Children.toArray(n),s=r.find(n6);if(s){const o=s.props.children,l=r.map(c=>c===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:c);return g.jsx(_C,{...i,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,l):null})}return g.jsx(_C,{...i,ref:e,children:n})});Sf.displayName="Slot";var _C=x.forwardRef((t,e)=>{const{children:n,...i}=t;if(x.isValidElement(n)){const r=r6(n),s=i6(i,n.props);return n.type!==x.Fragment&&(s.ref=e?mM(e,r):r),x.cloneElement(n,s)}return x.Children.count(n)>1?x.Children.only(null):null});_C.displayName="SlotClone";var sS=({children:t})=>g.jsx(g.Fragment,{children:t});function n6(t){return x.isValidElement(t)&&t.type===sS}function i6(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{s(...l),r(...l)}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function r6(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var s6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zn=s6.reduce((t,e)=>{const n=x.forwardRef((i,r)=>{const{asChild:s,...o}=i,l=s?Sf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function o6(t,e){t&&Df.flushSync(()=>t.dispatchEvent(e))}function a6(t,e=globalThis==null?void 0:globalThis.document){const n=el(t);x.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var l6="DismissableLayer",AC="dismissableLayer.update",u6="dismissableLayer.pointerDownOutside",c6="dismissableLayer.focusOutside",Y2,gM=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oS=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(gM),[f,m]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),C=xi(e,j=>m(j)),S=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(_),M=f?S.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,D=M>=R,P=f6(j=>{const B=j.target,W=[...d.branches].some(z=>z.contains(B));!D||W||(r==null||r(j),o==null||o(j),j.defaultPrevented||l==null||l())},v),O=p6(j=>{const B=j.target;[...d.branches].some(z=>z.contains(B))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},v);return a6(j=>{M===d.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},v),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Y2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),X2(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Y2)}},[f,v,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),X2())},[f,d]),x.useEffect(()=>{const j=()=>w({});return document.addEventListener(AC,j),()=>document.removeEventListener(AC,j)},[]),g.jsx(zn.div,{...c,ref:C,style:{pointerEvents:k?D?"auto":"none":void 0,...t.style},onFocusCapture:En(t.onFocusCapture,O.onFocusCapture),onBlurCapture:En(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:En(t.onPointerDownCapture,P.onPointerDownCapture)})});oS.displayName=l6;var d6="DismissableLayerBranch",h6=x.forwardRef((t,e)=>{const n=x.useContext(gM),i=x.useRef(null),r=xi(e,i);return x.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(zn.div,{...t,ref:r})});h6.displayName=d6;function f6(t,e=globalThis==null?void 0:globalThis.document){const n=el(t),i=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let c=function(){vM(u6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function p6(t,e=globalThis==null?void 0:globalThis.document){const n=el(t),i=x.useRef(!1);return x.useEffect(()=>{const r=s=>{s.target&&!i.current&&vM(c6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function X2(){const t=new CustomEvent(AC);document.dispatchEvent(t)}function vM(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?o6(r,s):r.dispatchEvent(s)}var E1="focusScope.autoFocusOnMount",S1="focusScope.autoFocusOnUnmount",K2={bubbles:!1,cancelable:!0},m6="FocusScope",bM=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[l,c]=x.useState(null),d=el(r),f=el(s),m=x.useRef(null),v=xi(e,S=>c(S)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let S=function(k){if(w.paused||!l)return;const D=k.target;l.contains(D)?m.current=D:au(m.current,{select:!0})},_=function(k){if(w.paused||!l)return;const D=k.relatedTarget;D!==null&&(l.contains(D)||au(m.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&au(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const M=new MutationObserver(R);return l&&M.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),M.disconnect()}}},[i,l,w.paused]),x.useEffect(()=>{if(l){Z2.add(w);const S=document.activeElement;if(!l.contains(S)){const R=new CustomEvent(E1,K2);l.addEventListener(E1,d),l.dispatchEvent(R),R.defaultPrevented||(g6(x6(yM(l)),{select:!0}),document.activeElement===S&&au(l))}return()=>{l.removeEventListener(E1,d),setTimeout(()=>{const R=new CustomEvent(S1,K2);l.addEventListener(S1,f),l.dispatchEvent(R),R.defaultPrevented||au(S??document.body,{select:!0}),l.removeEventListener(S1,f),Z2.remove(w)},0)}}},[l,d,f,w]);const C=x.useCallback(S=>{if(!n&&!i||w.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(_&&R){const M=S.currentTarget,[k,D]=v6(M);k&&D?!S.shiftKey&&R===D?(S.preventDefault(),n&&au(k,{select:!0})):S.shiftKey&&R===k&&(S.preventDefault(),n&&au(D,{select:!0})):R===M&&S.preventDefault()}},[n,i,w.paused]);return g.jsx(zn.div,{tabIndex:-1,...o,ref:v,onKeyDown:C})});bM.displayName=m6;function g6(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(au(i,{select:e}),document.activeElement!==n)return}function v6(t){const e=yM(t),n=J2(e,t),i=J2(e.reverse(),t);return[n,i]}function yM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function J2(t,e){for(const n of t)if(!b6(n,{upTo:e}))return n}function b6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y6(t){return t instanceof HTMLInputElement&&"select"in t}function au(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y6(t)&&e&&t.select()}}var Z2=w6();function w6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Q2(t,e),t.unshift(e)},remove(e){var n;t=Q2(t,e),(n=t[0])==null||n.resume()}}}function Q2(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function x6(t){return t.filter(e=>e.tagName!=="A")}var C6="Portal",wM=x.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=x.useState(!1);sd(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rw.createPortal(g.jsx(zn.div,{...i,ref:e}),o):null});wM.displayName=C6;function E6(t,e){return x.useReducer((n,i)=>e[n][i]??n,t)}var Of=t=>{const{present:e,children:n}=t,i=S6(e),r=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),s=xi(i.ref,R6(r));return typeof n=="function"||i.isPresent?x.cloneElement(r,{ref:s}):null};Of.displayName="Presence";function S6(t){const[e,n]=x.useState(),i=x.useRef({}),r=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=E6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Ay(i.current);s.current=l==="mounted"?d:"none"},[l]),sd(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,w=Ay(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),sd(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const S=Ay(i.current).includes(w.animationName);if(w.target===e&&S&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(s.current=Ay(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function Ay(t){return(t==null?void 0:t.animationName)||"none"}function R6(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var R1=0;function T6(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eT()),document.body.insertAdjacentElement("beforeend",t[1]??eT()),R1++,()=>{R1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),R1--}},[])}function eT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ra=function(){return ra=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ra.apply(this,arguments)};function xM(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function _6(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var r0="right-scroll-bar-position",s0="width-before-scroll-bar",A6="with-scroll-bars-hidden",k6="--removed-body-scroll-bar-size";function T1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function M6(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var D6=typeof window<"u"?x.useLayoutEffect:x.useEffect,tT=new WeakMap;function N6(t,e){var n=M6(null,function(i){return t.forEach(function(r){return T1(r,i)})});return D6(function(){var i=tT.get(n);if(i){var r=new Set(i),s=new Set(t),o=n.current;r.forEach(function(l){s.has(l)||T1(l,null)}),s.forEach(function(l){r.has(l)||T1(l,o)})}tT.set(n,t)},[t]),n}function L6(t){return t}function O6(t,e){e===void 0&&(e=L6);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(i=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return r}function P6(t){t===void 0&&(t={});var e=O6(null);return e.options=ra({async:!0,ssr:!1},t),e}var CM=function(t){var e=t.sideCar,n=xM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,ra({},n))};CM.isSideCarExport=!0;function j6(t,e){return t.useMedium(e),CM}var EM=P6(),_1=function(){},uw=x.forwardRef(function(t,e){var n=x.useRef(null),i=x.useState({onScrollCapture:_1,onWheelCapture:_1,onTouchMoveCapture:_1}),r=i[0],s=i[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,v=t.sideCar,w=t.noIsolation,C=t.inert,S=t.allowPinchZoom,_=t.as,R=_===void 0?"div":_,M=t.gapMode,k=xM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,P=N6([n,e]),O=ra(ra({},k),r);return x.createElement(x.Fragment,null,f&&x.createElement(D,{sideCar:EM,removeScrollBar:d,shards:m,noIsolation:w,inert:C,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:M}),o?x.cloneElement(x.Children.only(l),ra(ra({},O),{ref:P})):x.createElement(R,ra({},O,{className:c,ref:P}),l))});uw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uw.classNames={fullWidth:s0,zeroRight:r0};var I6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I6();return e&&t.setAttribute("nonce",e),t}function F6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function H6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=z6())&&(F6(e,n),H6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U6=function(){var t=B6();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SM=function(){var t=U6(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},$6={left:0,top:0,right:0,gap:0},A1=function(t){return parseInt(t||"",10)||0},V6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[A1(n),A1(i),A1(r)]},W6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $6;var e=V6(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},G6=SM(),ff="data-scroll-locked",q6=function(t,e,n,i){var r=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(A6,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(ff,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r0,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(s0,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(r0," .").concat(r0,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(s0," .").concat(s0,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ff,`] {
    `).concat(k6,": ").concat(l,`px;
  }
`)},nT=function(){var t=parseInt(document.body.getAttribute(ff)||"0",10);return isFinite(t)?t:0},Y6=function(){x.useEffect(function(){return document.body.setAttribute(ff,(nT()+1).toString()),function(){var t=nT()-1;t<=0?document.body.removeAttribute(ff):document.body.setAttribute(ff,t.toString())}},[])},X6=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;Y6();var s=x.useMemo(function(){return W6(r)},[r]);return x.createElement(G6,{styles:q6(s,!e,r,n?"":"!important")})},kC=!1;if(typeof window<"u")try{var ky=Object.defineProperty({},"passive",{get:function(){return kC=!0,!0}});window.addEventListener("test",ky,ky),window.removeEventListener("test",ky,ky)}catch{kC=!1}var Gh=kC?{passive:!1}:!1,K6=function(t){return t.tagName==="TEXTAREA"},RM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!K6(t)&&n[e]==="visible")},J6=function(t){return RM(t,"overflowY")},Z6=function(t){return RM(t,"overflowX")},iT=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=TM(t,i);if(r){var s=_M(t,i),o=s[1],l=s[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},Q6=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},eU=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},TM=function(t,e){return t==="v"?J6(e):Z6(e)},_M=function(t,e){return t==="v"?Q6(e):eU(e)},tU=function(t,e){return t==="h"&&e==="rtl"?-1:1},nU=function(t,e,n,i,r){var s=tU(t,window.getComputedStyle(e).direction),o=s*i,l=n.target,c=e.contains(l),d=!1,f=o>0,m=0,v=0;do{var w=_M(t,l),C=w[0],S=w[1],_=w[2],R=S-_-s*C;(C||R)&&TM(t,l)&&(m+=R,v+=C),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(m)<1||!f&&Math.abs(v)<1)&&(d=!0),d},My=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rT=function(t){return[t.deltaX,t.deltaY]},sT=function(t){return t&&"current"in t?t.current:t},iU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sU=0,qh=[];function oU(t){var e=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),r=x.useState(sU++)[0],s=x.useState(SM)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var S=_6([t.lockRef.current],(t.shards||[]).map(sT),!0).filter(Boolean);return S.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),S.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(S,_){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var R=My(S),M=n.current,k="deltaX"in S?S.deltaX:M[0]-R[0],D="deltaY"in S?S.deltaY:M[1]-R[1],P,O=S.target,j=Math.abs(k)>Math.abs(D)?"h":"v";if("touches"in S&&j==="h"&&O.type==="range")return!1;var B=iT(j,O);if(!B)return!0;if(B?P=j:(P=j==="v"?"h":"v",B=iT(j,O)),!B)return!1;if(!i.current&&"changedTouches"in S&&(k||D)&&(i.current=P),!P)return!0;var W=i.current||P;return nU(W,_,S,W==="h"?k:D)},[]),c=x.useCallback(function(S){var _=S;if(!(!qh.length||qh[qh.length-1]!==s)){var R="deltaY"in _?rT(_):My(_),M=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&iU(P.delta,R)})[0];if(M&&M.should){_.cancelable&&_.preventDefault();return}if(!M){var k=(o.current.shards||[]).map(sT).filter(Boolean).filter(function(P){return P.contains(_.target)}),D=k.length>0?l(_,k[0]):!o.current.noIsolation;D&&_.cancelable&&_.preventDefault()}}},[]),d=x.useCallback(function(S,_,R,M){var k={name:S,delta:_,target:R,should:M,shadowParent:aU(R)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(D){return D!==k})},1)},[]),f=x.useCallback(function(S){n.current=My(S),i.current=void 0},[]),m=x.useCallback(function(S){d(S.type,rT(S),S.target,l(S,t.lockRef.current))},[]),v=x.useCallback(function(S){d(S.type,My(S),S.target,l(S,t.lockRef.current))},[]);x.useEffect(function(){return qh.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Gh),document.addEventListener("touchmove",c,Gh),document.addEventListener("touchstart",f,Gh),function(){qh=qh.filter(function(S){return S!==s}),document.removeEventListener("wheel",c,Gh),document.removeEventListener("touchmove",c,Gh),document.removeEventListener("touchstart",f,Gh)}},[]);var w=t.removeScrollBar,C=t.inert;return x.createElement(x.Fragment,null,C?x.createElement(s,{styles:rU(r)}):null,w?x.createElement(X6,{gapMode:t.gapMode}):null)}function aU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lU=j6(EM,oU);var cw=x.forwardRef(function(t,e){return x.createElement(uw,ra({},t,{ref:e,sideCar:lU}))});cw.classNames=uw.classNames;var uU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yh=new WeakMap,Dy=new WeakMap,Ny={},k1=0,AM=function(t){return t&&(t.host||AM(t.parentNode))},cU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=AM(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dU=function(t,e,n,i){var r=cU(e,Array.isArray(t)?t:[t]);Ny[n]||(Ny[n]=new WeakMap);var s=Ny[n],o=[],l=new Set,c=new Set(r),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};r.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))f(v);else try{var w=v.getAttribute(i),C=w!==null&&w!=="false",S=(Yh.get(v)||0)+1,_=(s.get(v)||0)+1;Yh.set(v,S),s.set(v,_),o.push(v),S===1&&C&&Dy.set(v,!0),_===1&&v.setAttribute(n,"true"),C||v.setAttribute(i,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return f(e),l.clear(),k1++,function(){o.forEach(function(m){var v=Yh.get(m)-1,w=s.get(m)-1;Yh.set(m,v),s.set(m,w),v||(Dy.has(m)||m.removeAttribute(i),Dy.delete(m)),w||m.removeAttribute(n)}),k1--,k1||(Yh=new WeakMap,Yh=new WeakMap,Dy=new WeakMap,Ny={})}},aS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=uU(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),dU(i,r,n,"aria-hidden")):function(){return null}},lS="Dialog",[kM,MM]=Lu(lS),[hU,po]=kM(lS),DM=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[d=!1,f]=lw({prop:i,defaultProp:r,onChange:s});return g.jsx(hU,{scope:e,triggerRef:l,contentRef:c,contentId:hg(),titleId:hg(),descriptionId:hg(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};DM.displayName=lS;var NM="DialogTrigger",LM=x.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=po(NM,n),s=xi(e,r.triggerRef);return g.jsx(zn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":dS(r.open),...i,ref:s,onClick:En(t.onClick,r.onOpenToggle)})});LM.displayName=NM;var uS="DialogPortal",[fU,OM]=kM(uS,{forceMount:void 0}),PM=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:r}=t,s=po(uS,e);return g.jsx(fU,{scope:e,forceMount:n,children:x.Children.map(i,o=>g.jsx(Of,{present:n||s.open,children:g.jsx(wM,{asChild:!0,container:r,children:o})}))})};PM.displayName=uS;var E0="DialogOverlay",jM=x.forwardRef((t,e)=>{const n=OM(E0,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=po(E0,t.__scopeDialog);return s.modal?g.jsx(Of,{present:i||s.open,children:g.jsx(pU,{...r,ref:e})}):null});jM.displayName=E0;var pU=x.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=po(E0,n);return g.jsx(cw,{as:Sf,allowPinchZoom:!0,shards:[r.contentRef],children:g.jsx(zn.div,{"data-state":dS(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),od="DialogContent",IM=x.forwardRef((t,e)=>{const n=OM(od,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=po(od,t.__scopeDialog);return g.jsx(Of,{present:i||s.open,children:s.modal?g.jsx(mU,{...r,ref:e}):g.jsx(gU,{...r,ref:e})})});IM.displayName=od;var mU=x.forwardRef((t,e)=>{const n=po(od,t.__scopeDialog),i=x.useRef(null),r=xi(e,n.contentRef,i);return x.useEffect(()=>{const s=i.current;if(s)return aS(s)},[]),g.jsx(zM,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:En(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:En(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:En(t.onFocusOutside,s=>s.preventDefault())})}),gU=x.forwardRef((t,e)=>{const n=po(od,t.__scopeDialog),i=x.useRef(!1),r=x.useRef(!1);return g.jsx(zM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),zM=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=t,l=po(od,n),c=x.useRef(null),d=xi(e,c);return T6(),g.jsxs(g.Fragment,{children:[g.jsx(bM,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:g.jsx(oS,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dS(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(bU,{titleId:l.titleId}),g.jsx(wU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cS="DialogTitle",FM=x.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=po(cS,n);return g.jsx(zn.h2,{id:r.titleId,...i,ref:e})});FM.displayName=cS;var HM="DialogDescription",BM=x.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=po(HM,n);return g.jsx(zn.p,{id:r.descriptionId,...i,ref:e})});BM.displayName=HM;var UM="DialogClose",$M=x.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=po(UM,n);return g.jsx(zn.button,{type:"button",...i,ref:e,onClick:En(t.onClick,()=>r.onOpenChange(!1))})});$M.displayName=UM;function dS(t){return t?"open":"closed"}var VM="DialogTitleWarning",[vU,WM]=JB(VM,{contentName:od,titleName:cS,docsSlug:"dialog"}),bU=({titleId:t})=>{const e=WM(VM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},yU="DialogDescriptionWarning",wU=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WM(yU).contentName}}.`;return x.useEffect(()=>{var s;const r=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},xU=DM,CU=LM,EU=PM,SU=jM,RU=IM,TU=FM,_U=BM,GM=$M,qM="AlertDialog",[AU,jme]=Lu(qM,[MM]),al=MM(),YM=t=>{const{__scopeAlertDialog:e,...n}=t,i=al(e);return g.jsx(xU,{...i,...n,modal:!0})};YM.displayName=qM;var kU="AlertDialogTrigger",MU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,r=al(n);return g.jsx(CU,{...r,...i,ref:e})});MU.displayName=kU;var DU="AlertDialogPortal",XM=t=>{const{__scopeAlertDialog:e,...n}=t,i=al(e);return g.jsx(EU,{...i,...n})};XM.displayName=DU;var NU="AlertDialogOverlay",KM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,r=al(n);return g.jsx(SU,{...r,...i,ref:e})});KM.displayName=NU;var pf="AlertDialogContent",[LU,OU]=AU(pf),JM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:i,...r}=t,s=al(n),o=x.useRef(null),l=xi(e,o),c=x.useRef(null);return g.jsx(vU,{contentName:pf,titleName:ZM,docsSlug:"alert-dialog",children:g.jsx(LU,{scope:n,cancelRef:c,children:g.jsxs(RU,{role:"alertdialog",...s,...r,ref:l,onOpenAutoFocus:En(r.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[g.jsx(sS,{children:i}),g.jsx(IU,{contentRef:o})]})})})});JM.displayName=pf;var ZM="AlertDialogTitle",QM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,r=al(n);return g.jsx(TU,{...r,...i,ref:e})});QM.displayName=ZM;var eD="AlertDialogDescription",tD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,r=al(n);return g.jsx(_U,{...r,...i,ref:e})});tD.displayName=eD;var PU="AlertDialogAction",nD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,r=al(n);return g.jsx(GM,{...r,...i,ref:e})});nD.displayName=PU;var iD="AlertDialogCancel",jU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...i}=t,{cancelRef:r}=OU(iD,n),s=al(n),o=xi(e,r);return g.jsx(GM,{...s,...i,ref:o})});jU.displayName=iD;var IU=({contentRef:t})=>{const e=`\`${pf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pf}\` by passing a \`${eD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var i;document.getElementById((i=t.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},zU=YM,FU=XM,HU=KM,BU=JM,UU=nD,$U=QM,VU=tD;function rD(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=rD(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function sD(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=rD(t))&&(i&&(i+=" "),i+=e);return i}const hS="-",WU=t=>{const e=qU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const l=o.split(hS);return l[0]===""&&l.length!==1&&l.shift(),oD(l,e)||GU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},oD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?oD(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(hS);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},oT=/^\[(.+)\]$/,GU=t=>{if(oT.test(t)){const e=oT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qU=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const r in n)MC(n[r],i,r,e);return i},MC=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:aT(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(YU(r)){MC(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{MC(o,aT(e,s),n,i)})})},aT=(t,e)=>{let n=t;return e.split(hS).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},YU=t=>t.isThemeGetter,XU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},DC="!",NC=":",KU=NC.length,JU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=r=>{const s=[];let o=0,l=0,c=0,d;for(let C=0;C<r.length;C++){let S=r[C];if(o===0&&l===0){if(S===NC){s.push(r.slice(c,C)),c=C+KU;continue}if(S==="/"){d=C;continue}}S==="["?o++:S==="]"?o--:S==="("?l++:S===")"&&l--}const f=s.length===0?r:r.substring(c),m=ZU(f),v=m!==f,w=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const r=e+NC,s=i;i=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},ZU=t=>t.endsWith(DC)?t.substring(0,t.length-1):t.startsWith(DC)?t.substring(1):t,QU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(o=>{o[0]==="["||e[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},e$=t=>({cache:XU(t.cacheSize),parseClassName:JU(t),sortModifiers:QU(t),...WU(t)}),t$=/\s+/,n$=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],l=t.trim().split(t$);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:v,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:S}=n(f);if(m){c=f+(c.length>0?" "+c:c);continue}let _=!!S,R=i(_?C.substring(0,S):C);if(!R){if(!_){c=f+(c.length>0?" "+c:c);continue}if(R=i(C),!R){c=f+(c.length>0?" "+c:c);continue}_=!1}const M=s(v).join(":"),k=w?M+DC:M,D=k+R;if(o.includes(D))continue;o.push(D);const P=r(R,_);for(let O=0;O<P.length;++O){const j=P[O];o.push(k+j)}c=f+(c.length>0?" "+c:c)}return c};function i$(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aD(e))&&(i&&(i+=" "),i+=n);return i}const aD=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=aD(t[i]))&&(n&&(n+=" "),n+=e);return n};function r$(t,...e){let n,i,r,s=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return n=e$(d),i=n.cache.get,r=n.cache.set,s=l,l(c)}function l(c){const d=i(c);if(d)return d;const f=n$(c,n);return r(c,f),f}return function(){return s(i$.apply(null,arguments))}}const ci=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,s$=/^\d+\/\d+$/,o$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xh=t=>s$.test(t),Pt=t=>!!t&&!Number.isNaN(Number(t)),$c=t=>!!t&&Number.isInteger(Number(t)),lT=t=>t.endsWith("%")&&Pt(t.slice(0,-1)),su=t=>o$.test(t),d$=()=>!0,h$=t=>a$.test(t)&&!l$.test(t),fS=()=>!1,f$=t=>u$.test(t),p$=t=>c$.test(t),m$=t=>!We(t)&&!Ge(t),g$=t=>Pf(t,hD,fS),We=t=>lD.test(t),Vc=t=>Pf(t,fD,h$),M1=t=>Pf(t,_$,Pt),v$=t=>Pf(t,cD,fS),b$=t=>Pf(t,dD,p$),y$=t=>Pf(t,fS,f$),Ge=t=>uD.test(t),Ly=t=>jf(t,fD),w$=t=>jf(t,A$),x$=t=>jf(t,cD),C$=t=>jf(t,hD),E$=t=>jf(t,dD),S$=t=>jf(t,k$,!0),Pf=(t,e,n)=>{const i=lD.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},jf=(t,e,n=!1)=>{const i=uD.exec(t);return i?i[1]?e(i[1]):n:!1},cD=t=>t==="position",R$=new Set(["image","url"]),dD=t=>R$.has(t),T$=new Set(["length","size","percentage"]),hD=t=>T$.has(t),fD=t=>t==="length",_$=t=>t==="number",A$=t=>t==="family-name",k$=t=>t==="shadow",M$=()=>{const t=ci("color"),e=ci("font"),n=ci("text"),i=ci("font-weight"),r=ci("tracking"),s=ci("leading"),o=ci("breakpoint"),l=ci("container"),c=ci("spacing"),d=ci("radius"),f=ci("shadow"),m=ci("inset-shadow"),v=ci("drop-shadow"),w=ci("blur"),C=ci("perspective"),S=ci("aspect"),_=ci("ease"),R=ci("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[Ge,We,c],j=()=>[Xh,"full","auto",...O()],B=()=>[$c,"none","subgrid",Ge,We],W=()=>["auto",{span:["full",$c,Ge,We]},Ge,We],z=()=>[$c,"auto",Ge,We],Q=()=>["auto","min","max","fr",Ge,We],Z=()=>["start","end","center","between","around","evenly","stretch","baseline"],ne=()=>["start","end","center","stretch"],H=()=>["auto",...O()],Y=()=>[Xh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],U=()=>[t,Ge,We],J=()=>[lT,Vc],X=()=>["","none","full",d,Ge,We],K=()=>["",Pt,Ly,Vc],L=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["","none",w,Ge,We],V=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge,We],fe=()=>["none",Pt,Ge,We],be=()=>["none",Pt,Ge,We],ve=()=>[Pt,Ge,We],Ce=()=>[Xh,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[su],breakpoint:[su],color:[d$],container:[su],"drop-shadow":[su],ease:["in","out","in-out"],font:[m$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[su],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[su],shadow:[su],spacing:["px",Pt],text:[su],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xh,We,Ge,S]}],container:["container"],columns:[{columns:[Pt,We,Ge,l]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),We,Ge]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[$c,"auto",Ge,We]}],basis:[{basis:[Xh,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Xh,"auto","initial","none",We]}],grow:[{grow:["",Pt,Ge,We]}],shrink:[{shrink:["",Pt,Ge,We]}],order:[{order:[$c,"first","last","none",Ge,We]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ne(),"baseline"]}],"align-self":[{self:["auto",...ne(),"baseline"]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[l,"screen",...Y()]}],"min-w":[{"min-w":[l,"screen","none",...Y()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",n,Ly,Vc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ge,M1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lT,We]}],"font-family":[{font:[w$,We,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ge,We]}],"line-clamp":[{"line-clamp":[Pt,"none",Ge,M1]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Ge,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ge,Vc]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ge,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),x$,v$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",C$,g$]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$c,Ge,We],radial:["",Ge,We],conic:[$c,Ge,We]},E$,b$]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ge,We]}],"outline-w":[{outline:["",Pt,Ly,Vc]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",f,S$,y$]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",Ge,We,m]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Pt,Vc]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[Pt,Ge,We]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none",Ge,We]}],blur:[{blur:ue()}],brightness:[{brightness:[Pt,Ge,We]}],contrast:[{contrast:[Pt,Ge,We]}],"drop-shadow":[{"drop-shadow":["","none",v,Ge,We]}],grayscale:[{grayscale:["",Pt,Ge,We]}],"hue-rotate":[{"hue-rotate":[Pt,Ge,We]}],invert:[{invert:["",Pt,Ge,We]}],saturate:[{saturate:[Pt,Ge,We]}],sepia:[{sepia:["",Pt,Ge,We]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,We]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ge,We]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ge,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ge,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ge,We]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ge,We]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ge,We]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ge,We]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ge,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ge,We]}],ease:[{ease:["linear","initial",_,Ge,We]}],delay:[{delay:[Pt,Ge,We]}],animate:[{animate:["none",R,Ge,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ge,We]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Ge,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,We]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Pt,Ly,Vc,M1]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},D$=r$(M$);function _t(...t){return D$(sD(t))}const uT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cT=sD,N$=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return cT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(d=>{const f=n==null?void 0:n[d],m=s==null?void 0:s[d];if(f===null)return null;const v=uT(f)||uT(m);return r[d][v]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,v]=f;return v===void 0||(d[m]=v),d},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:m,className:v,...w}=f;return Object.entries(w).every(C=>{let[S,_]=C;return Array.isArray(_)?_.includes({...s,...l}[S]):{...s,...l}[S]===_})?[...d,m,v]:d},[]);return cT(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},pD=N$("cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Jr({className:t,variant:e,size:n,asChild:i=!1,...r}){const s=i?Sf:"button";return g.jsx(s,{"data-slot":"button",className:_t(pD({variant:e,size:n,className:t})),...r})}function L$({...t}){return g.jsx(zU,{"data-slot":"alert-dialog",...t})}function O$({...t}){return g.jsx(FU,{"data-slot":"alert-dialog-portal",...t})}function P$({className:t,...e}){return g.jsx(HU,{"data-slot":"alert-dialog-overlay",className:_t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function j$({className:t,...e}){return g.jsxs(O$,{children:[g.jsx(P$,{}),g.jsx(BU,{"data-slot":"alert-dialog-content",className:_t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function I$({className:t,...e}){return g.jsx("div",{"data-slot":"alert-dialog-header",className:_t("flex flex-col gap-2 text-center sm:text-left",t),...e})}function z$({className:t,...e}){return g.jsx("div",{"data-slot":"alert-dialog-footer",className:_t("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function F$({className:t,...e}){return g.jsx($U,{"data-slot":"alert-dialog-title",className:_t("text-lg font-semibold",t),...e})}function H$({className:t,...e}){return g.jsx(VU,{"data-slot":"alert-dialog-description",className:_t("text-muted-foreground text-sm",t),...e})}function dT({className:t,...e}){return g.jsx(UU,{className:_t(pD(),t),...e})}/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mD=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...U$,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mD("lucide",r),...l},[...o.map(([d,f])=>x.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=x.forwardRef(({className:i,...r},s)=>x.createElement($$,{ref:s,iconNode:e,className:mD(`lucide-${B$(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M19 15V9",key:"1hci5f"}],["path",{d:"M15 15h-3v4l-7-7 7-7v4h3v6z",key:"16tjna"}]],nv=ct("ArrowBigLeftDash",V$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M5 9v6",key:"158jrl"}],["path",{d:"M9 9h3V5l7 7-7 7v-4H9V9z",key:"1sg2xn"}]],iv=ct("ArrowBigRightDash",W$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],q$=ct("ArrowLeftRight",G$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],X$=ct("ArrowLeft",Y$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],J$=ct("ArrowRight",K$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],Q$=ct("Ban",Z$);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],gD=ct("Binary",e7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M16 3h2a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-2",key:"tum69e"}],["path",{d:"M8 21H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2",key:"z7wn0n"}]],mo=ct("Brackets",t7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],i7=ct("Calculator",n7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s7=ct("ChevronDown",r7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a7=ct("Circle",o7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LC=ct("Copy",l7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],c7=ct("Cpu",u7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],h7=ct("Dot",d7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vD=ct("Download",f7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],bD=ct("FileDown",p7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],yD=ct("File",m7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],v7=ct("Footprints",g7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],y7=ct("Fullscreen",b7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],x7=ct("Grid2x2Plus",w7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],E7=ct("Hash",C7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wD=ct("Info",S7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"m16.02 12 5.48 3.13a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74L7.98 12",key:"1cuww1"}],["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74Z",key:"pdlvxu"}]],T7=ct("Layers2",R7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],A7=ct("Link",_7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],M7=ct("LoaderCircle",k7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]],N7=ct("Locate",D7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],O7=ct("Lock",L7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],xD=ct("Menu",P7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]],I7=ct("MessageSquareWarning",j7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],F7=ct("PanelLeft",z7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"m9 16 3-3 3 3",key:"1idcnm"}]],B7=ct("PanelTopClose",H7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$7=ct("Play",U7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],CD=ct("RedoDot",V7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G7=ct("RotateCcw",W7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dw=ct("Save",q7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],OC=ct("Search",Y7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],K7=ct("SendHorizontal",X7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ED=ct("Settings",J7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],Q7=ct("Sigma",Z7);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],t9=ct("Slash",e9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],i9=ct("TimerReset",n9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M4.6 11a8 8 0 0 0 1.7 8.7 8 8 0 0 0 8.7 1.7",key:"10he05"}],["path",{d:"M7.4 7.4a8 8 0 0 1 10.3 1 8 8 0 0 1 .9 10.2",key:"15f7sh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M12 12v-2",key:"fwoke6"}]],s9=ct("TimerOff",r9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],a9=ct("Triangle",o9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SD=ct("X",l9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],c9=ct("ZoomOut",u9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],h9=ct("ZoomIn",d9);function Za(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function hT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function RD(...t){return e=>{let n=!1;const i=t.map(r=>{const s=hT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():hT(t[r],null)}}}}function ad(...t){return x.useCallback(RD(...t),t)}function hw(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,f9(r,...e)]}function f9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function PC(t){const e=p9(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(g9);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function p9(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=b9(r),l=v9(s,r.props);return r.type!==x.Fragment&&(l.ref=i?RD(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var m9=Symbol("radix.slottable");function g9(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===m9}function v9(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function b9(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var y9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],If=y9.reduce((t,e)=>{const n=PC(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function w9(t){const e=t+"CollectionProvider",[n,i]=hw(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:_,children:R}=S,M=jt.useRef(null),k=jt.useRef(new Map).current;return g.jsx(r,{scope:_,itemMap:k,collectionRef:M,children:R})};o.displayName=e;const l=t+"CollectionSlot",c=PC(l),d=jt.forwardRef((S,_)=>{const{scope:R,children:M}=S,k=s(l,R),D=ad(_,k.collectionRef);return g.jsx(c,{ref:D,children:M})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",v=PC(f),w=jt.forwardRef((S,_)=>{const{scope:R,children:M,...k}=S,D=jt.useRef(null),P=ad(_,D),O=s(f,R);return jt.useEffect(()=>(O.itemMap.set(D,{ref:D,...k}),()=>void O.itemMap.delete(D))),g.jsx(v,{[m]:"",ref:P,children:M})});w.displayName=f;function C(S){const _=s(t+"CollectionConsumer",S);return jt.useCallback(()=>{const M=_.collectionRef.current;if(!M)return[];const k=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((O,j)=>k.indexOf(O.ref.current)-k.indexOf(j.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},C,i]}var Og=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},x9=ua[" useId ".trim().toString()]||(()=>{}),C9=0;function E9(t){const[e,n]=x.useState(x9());return Og(()=>{n(i=>i??String(C9++))},[t]),e?`radix-${e}`:""}function S9(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}var R9=ua[" useInsertionEffect ".trim().toString()]||Og;function TD({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=T9({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=x.useCallback(f=>{var m;if(l){const v=_9(f)?f(t):f;v!==t&&((m=o.current)==null||m.call(o,v))}else s(f)},[l,t,s,o]);return[c,d]}function T9({defaultProp:t,onChange:e}){const[n,i]=x.useState(t),r=x.useRef(n),s=x.useRef(e);return R9(()=>{s.current=e},[e]),x.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function _9(t){return typeof t=="function"}var A9=x.createContext(void 0);function _D(t){const e=x.useContext(A9);return t||e||"ltr"}var D1="rovingFocusGroup.onEntryFocus",k9={bubbles:!1,cancelable:!0},rv="RovingFocusGroup",[jC,AD,M9]=w9(rv),[D9,kD]=hw(rv,[M9]),[N9,L9]=D9(rv),MD=x.forwardRef((t,e)=>g.jsx(jC.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(jC.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(O9,{...t,ref:e})})}));MD.displayName=rv;var O9=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,v=x.useRef(null),w=ad(e,v),C=_D(s),[S,_]=TD({prop:o,defaultProp:l??null,onChange:c,caller:rv}),[R,M]=x.useState(!1),k=S9(d),D=AD(n),P=x.useRef(!1),[O,j]=x.useState(0);return x.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(D1,k),()=>B.removeEventListener(D1,k)},[k]),g.jsx(N9,{scope:n,orientation:i,dir:C,loop:r,currentTabStopId:S,onItemFocus:x.useCallback(B=>_(B),[_]),onItemShiftTab:x.useCallback(()=>M(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:x.useCallback(()=>j(B=>B-1),[]),children:g.jsx(If.div,{tabIndex:R||O===0?-1:0,"data-orientation":i,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:Za(t.onMouseDown,()=>{P.current=!0}),onFocus:Za(t.onFocus,B=>{const W=!P.current;if(B.target===B.currentTarget&&W&&!R){const z=new CustomEvent(D1,k9);if(B.currentTarget.dispatchEvent(z),!z.defaultPrevented){const Q=D().filter(U=>U.focusable),Z=Q.find(U=>U.active),ne=Q.find(U=>U.id===S),Y=[Z,ne,...Q].filter(Boolean).map(U=>U.ref.current);LD(Y,f)}}P.current=!1}),onBlur:Za(t.onBlur,()=>M(!1))})})}),DD="RovingFocusGroupItem",ND=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...l}=t,c=E9(),d=s||c,f=L9(DD,n),m=f.currentTabStopId===d,v=AD(n),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:S}=f;return x.useEffect(()=>{if(i)return w(),()=>C()},[i,w,C]),g.jsx(jC.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:g.jsx(If.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Za(t.onMouseDown,_=>{i?f.onItemFocus(d):_.preventDefault()}),onFocus:Za(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Za(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const R=I9(_,f.orientation,f.dir);if(R!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=v().filter(D=>D.focusable).map(D=>D.ref.current);if(R==="last")k.reverse();else if(R==="prev"||R==="next"){R==="prev"&&k.reverse();const D=k.indexOf(_.currentTarget);k=f.loop?z9(k,D+1):k.slice(D+1)}setTimeout(()=>LD(k))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:S!=null}):o})})});ND.displayName=DD;var P9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function I9(t,e,n){const i=j9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return P9[i]}function LD(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function z9(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var F9=MD,H9=ND;function B9(t){const[e,n]=x.useState(void 0);return Og(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}function U9(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function $9(t,e){return x.useReducer((n,i)=>e[n][i]??n,t)}var OD=t=>{const{present:e,children:n}=t,i=V9(e),r=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),s=ad(i.ref,W9(r));return typeof n=="function"||i.isPresent?x.cloneElement(r,{ref:s}):null};OD.displayName="Presence";function V9(t){const[e,n]=x.useState(),i=x.useRef(null),r=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=$9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Oy(i.current);s.current=l==="mounted"?d:"none"},[l]),Og(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,w=Oy(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Og(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const S=Oy(i.current).includes(w.animationName);if(w.target===e&&S&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(s.current=Oy(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Oy(t){return(t==null?void 0:t.animationName)||"none"}function W9(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pS="Radio",[G9,PD]=hw(pS),[q9,Y9]=G9(pS),jD=x.forwardRef((t,e)=>{const{__scopeRadio:n,name:i,checked:r=!1,required:s,disabled:o,value:l="on",onCheck:c,form:d,...f}=t,[m,v]=x.useState(null),w=ad(e,_=>v(_)),C=x.useRef(!1),S=m?d||!!m.closest("form"):!0;return g.jsxs(q9,{scope:n,checked:r,disabled:o,children:[g.jsx(If.button,{type:"button",role:"radio","aria-checked":r,"data-state":HD(r),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:w,onClick:Za(t.onClick,_=>{r||c==null||c(),S&&(C.current=_.isPropagationStopped(),C.current||_.stopPropagation())})}),S&&g.jsx(FD,{control:m,bubbles:!C.current,name:i,value:l,checked:r,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});jD.displayName=pS;var ID="RadioIndicator",zD=x.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:i,...r}=t,s=Y9(ID,n);return g.jsx(OD,{present:i||s.checked,children:g.jsx(If.span,{"data-state":HD(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})})});zD.displayName=ID;var X9="RadioBubbleInput",FD=x.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:i=!0,...r},s)=>{const o=x.useRef(null),l=ad(o,s),c=U9(n),d=B9(e);return x.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&w){const C=new Event("click",{bubbles:i});w.call(f,n),f.dispatchEvent(C)}},[c,n,i]),g.jsx(If.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FD.displayName=X9;function HD(t){return t?"checked":"unchecked"}var K9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fw="RadioGroup",[J9,Ime]=hw(fw,[kD,PD]),BD=kD(),UD=PD(),[Z9,Q9]=J9(fw),$D=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:i,defaultValue:r,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...v}=t,w=BD(n),C=_D(d),[S,_]=TD({prop:s,defaultProp:r??null,onChange:m,caller:fw});return g.jsx(Z9,{scope:n,name:i,required:o,disabled:l,value:S,onValueChange:_,children:g.jsx(F9,{asChild:!0,...w,orientation:c,dir:C,loop:f,children:g.jsx(If.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:C,...v,ref:e})})})});$D.displayName=fw;var VD="RadioGroupItem",WD=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:i,...r}=t,s=Q9(VD,n),o=s.disabled||i,l=BD(n),c=UD(n),d=x.useRef(null),f=ad(e,d),m=s.value===r.value,v=x.useRef(!1);return x.useEffect(()=>{const w=S=>{K9.includes(S.key)&&(v.current=!0)},C=()=>v.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",C)}},[]),g.jsx(H9,{asChild:!0,...l,focusable:!o,active:m,children:g.jsx(jD,{disabled:o,required:s.required,checked:m,...c,...r,name:s.name,ref:f,onCheck:()=>s.onValueChange(r.value),onKeyDown:Za(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Za(r.onFocus,()=>{var w;v.current&&((w=d.current)==null||w.click())})})})});WD.displayName=VD;var eV="RadioGroupIndicator",GD=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...i}=t,r=UD(n);return g.jsx(zD,{...r,...i,ref:e})});GD.displayName=eV;var tV=$D,nV=WD,iV=GD;function rV({className:t,...e}){return g.jsx(tV,{"data-slot":"radio-group",className:_t("grid gap-3",t),...e})}function fT({className:t,...e}){return g.jsx(nV,{"data-slot":"radio-group-item",className:_t("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:g.jsx(iV,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:g.jsx(a7,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function pT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sV(...t){return e=>{let n=!1;const i=t.map(r=>{const s=pT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():pT(t[r],null)}}}}function oV(t){const e=aV(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(uV);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function aV(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=dV(r),l=cV(s,r.props);return r.type!==x.Fragment&&(l.ref=i?sV(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lV=Symbol("radix.slottable");function uV(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lV}function cV(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function dV(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fV=hV.reduce((t,e)=>{const n=oV(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{}),pV="Label",qD=x.forwardRef((t,e)=>g.jsx(fV.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qD.displayName=pV;var mV=qD;function S0({className:t,...e}){return g.jsx(mV,{"data-slot":"label",className:_t("flex items-center gap-2 text-xs leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const gV=()=>{const{dialog:t}=Lf(),[e,n]=x.useState(!1),{typeSimulator:i,setShowTuto:r}=lt();return x.useEffect(()=>{t&&n(!0)},[t]),g.jsx(L$,{open:e,onOpenChange:n,children:g.jsxs(j$,{children:[" ",g.jsxs(I$,{children:[g.jsxs(F$,{className:"flex items-center gap-2 text-[#3A6973]",children:[t!=null&&t.stop?g.jsx(wD,{className:"w-6 h-6 mr-2"}):g.jsx(ED,{className:"w-6 h-6 mr-2"}),t==null?void 0:t.title]}),g.jsxs(H$,{className:"text-base text-start text-foreground",children:[g.jsx("div",{className:"text-xs mt-1",children:t==null?void 0:t.description}),(t==null?void 0:t.descerror)&&g.jsxs("div",{className:"flex flex-col mt-4",children:[g.jsx("p",{className:"text-red-400 text-xs",children:"ERROR:"}),g.jsx("p",{className:"text-xs",children:t.descerror})]}),(t==null?void 0:t.chooseTypeSimulator)&&g.jsxs("div",{className:"py-4",children:[g.jsx("p",{className:"mb-3 font-medium text-[.8rem]",children:"Choose Type Simulator"}),g.jsxs(rV,{value:i,className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(fT,{value:"monocycle",id:"r_monocycle"}),g.jsx(S0,{htmlFor:"r_monocycle",className:"cursor-pointer",children:"Monocycle"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(fT,{value:"pipeline",id:"r_pipeline",disabled:!0}),g.jsxs(S0,{htmlFor:"r_pipeline",className:"cursor-pointer text-gray-500 flex items-center gap-3",children:[g.jsx("p",{children:"Pipeline"}),g.jsx(O7,{size:20,strokeWidth:1})]})]})]})]})]})]}),g.jsxs(z$,{className:"flex w-full gap-5 items-center",children:[!(t!=null&&t.stop)&&g.jsx(dT,{onClick:()=>r(!0),className:"!bg-transparent !border-none text-[.8rem] underline text-[#3A6973] cursor-pointer",children:"Show tutorial"}),g.jsx(dT,{children:"Accept"})]})]})})},YD=x.createContext(void 0),vV=({children:t})=>{const[e,n]=x.useState(!0),[i,r]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(0),d=x.useCallback(()=>{c(f=>f+1)},[]);return g.jsx(YD.Provider,{value:{checkFixedRegisters:e,setCheckFixedRegisters:n,fixedchangedRegisters:i,setFixedchangedRegisters:r,switchAutoFocusOnNewLine:s,setSwitchAutoFocusOnNewLine:o,fitViewTrigger:l,requestFitView:d},children:t})},zf=()=>{const t=x.useContext(YD);if(!t)throw new Error("useSimulator debe usarse dentro de un SimulatorProvider");return t},bV=({children:t})=>g.jsx(XI,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:g.jsx(Qk,{children:g.jsx(BB,{children:g.jsx(vV,{children:g.jsx(UB,{children:g.jsx($B,{children:g.jsx(VB,{children:g.jsx(WB,{children:g.jsx(GB,{children:g.jsxs(qB,{children:[g.jsx(KB,{}),g.jsx(gV,{}),t]})})})})})})})})})}),yV=()=>g.jsxs("svg",{width:68,height:68,viewBox:"0 0 72 72",id:"emoji",xmlns:"http://www.w3.org/2000/svg",children:[g.jsxs("g",{id:"color",children:[g.jsx("path",{fill:"#D0CFCE",stroke:"none",d:"M37.2971,16.7728h-2.472c-5.8763,0-10.6842,4.8079-10.6842,10.6842v16.9332 c0,5.8763,4.8079,10.6842,10.6842,10.6842h2.472c5.8763,0,10.6842-4.8079,10.6842-10.6842V27.457 C47.9813,21.5807,43.1734,16.7728,37.2971,16.7728z"}),g.jsx("path",{fill:"#3F3F3F",stroke:"none",d:"M36.0611,22.1118L36.0611,22.1118c-1.1405,0-2.0737,0.9332-2.0737,2.0737v5.8343 c0,1.1405,0.9332,2.0737,2.0737,2.0737h0c1.1405,0,2.0737-0.9332,2.0737-2.0737v-5.8343 C38.1348,23.045,37.2016,22.1118,36.0611,22.1118z"}),g.jsx("path",{fill:"#9B9B9A",stroke:"none",d:"M35.1358,18.1769c3.0267,1.2986,5.904,3.1629,6.2392,7.8732c0.3881,5.455-1.6305,15.6686-2.2795,20.8566 c-0.4538,3.6277-2.248,5.3071-4.6299,7.2111c-1.2013,0.9603,5.2663,0.8427,7.9297-0.7139 c2.2852-1.3355,4.4994-3.6288,4.5264-2.9039l0.3229-25.8045c0,0-0.9367-6.9377-8.5654-6.9401 C38.6792,17.7555,31.0272,17.3615,35.1358,18.1769z"})]}),g.jsx("g",{id:"hair"}),g.jsx("g",{id:"skin"}),g.jsx("g",{id:"skin-shadow"}),g.jsxs("g",{id:"line",children:[g.jsx("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M38.8294,54.5013h-5.5367c-4.9688,0-9.0342-4.0654-9.0342-9.0342V26.38c0-4.9688,4.0654-9.0342,9.0342-9.0342h5.5367 c4.9688,0,9.0342,4.0654,9.0342,9.0342v19.0871C47.8636,50.4359,43.7982,54.5013,38.8294,54.5013z"}),g.jsx("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M36.1449,32.1553h-0.1677c-1.1161,0-2.0294-0.9132-2.0294-2.0294v-6.0465c0-1.1161,0.9132-2.0294,2.0294-2.0294h0.1677 c1.1161,0,2.0294,0.9132,2.0294,2.0294v6.0465C38.1743,31.2421,37.2611,32.1553,36.1449,32.1553z"}),g.jsx("line",{x1:"15.0322",x2:"9.8166",y1:"34.1909",y2:"28.9753",fill:"none",stroke:"#3F3F3F","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"}),g.jsx("line",{x1:"15.0322",x2:"9.8166",y1:"23.7172",y2:"28.9328",fill:"none",stroke:"#3F3F3F","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"}),g.jsx("line",{x1:"57.1564",x2:"62.372",y1:"23.7172",y2:"28.9328",fill:"none",stroke:"#3F3F3F","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"}),g.jsx("line",{x1:"57.1564",x2:"62.372",y1:"34.1909",y2:"28.9753",fill:"none",stroke:"#3F3F3F","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"})]})]}),wV=["top","right","bottom","left"],_u=Math.min,$r=Math.max,R0=Math.round,Py=Math.floor,oa=t=>({x:t,y:t}),xV={left:"right",right:"left",bottom:"top",top:"bottom"},CV={start:"end",end:"start"};function IC(t,e,n){return $r(t,_u(e,n))}function tl(t,e){return typeof t=="function"?t(e):t}function nl(t){return t.split("-")[0]}function Ff(t){return t.split("-")[1]}function mS(t){return t==="x"?"y":"x"}function gS(t){return t==="y"?"height":"width"}function Au(t){return["top","bottom"].includes(nl(t))?"y":"x"}function vS(t){return mS(Au(t))}function EV(t,e,n){n===void 0&&(n=!1);const i=Ff(t),r=vS(t),s=gS(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=T0(o)),[o,T0(o)]}function SV(t){const e=T0(t);return[zC(t),e,zC(e)]}function zC(t){return t.replace(/start|end/g,e=>CV[e])}function RV(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function TV(t,e,n,i){const r=Ff(t);let s=RV(nl(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(zC)))),s}function T0(t){return t.replace(/left|right|bottom|top/g,e=>xV[e])}function _V(t){return{top:0,right:0,bottom:0,left:0,...t}}function XD(t){return typeof t!="number"?_V(t):{top:t,right:t,bottom:t,left:t}}function _0(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function mT(t,e,n){let{reference:i,floating:r}=t;const s=Au(e),o=vS(e),l=gS(o),c=nl(e),d=s==="y",f=i.x+i.width/2-r.width/2,m=i.y+i.height/2-r.height/2,v=i[l]/2-r[l]/2;let w;switch(c){case"top":w={x:f,y:i.y-r.height};break;case"bottom":w={x:f,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:m};break;case"left":w={x:i.x-r.width,y:m};break;default:w={x:i.x,y:i.y}}switch(Ff(e)){case"start":w[o]-=v*(n&&d?-1:1);break;case"end":w[o]+=v*(n&&d?-1:1);break}return w}const AV=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:m}=mT(d,i,c),v=i,w={},C=0;for(let S=0;S<l.length;S++){const{name:_,fn:R}=l[S],{x:M,y:k,data:D,reset:P}=await R({x:f,y:m,initialPlacement:i,placement:v,strategy:r,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});f=M??f,m=k??m,w={...w,[_]:{...w[_],...D}},P&&C<=50&&(C++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):P.rects),{x:f,y:m}=mT(d,v,c)),S=-1)}return{x:f,y:m,placement:v,strategy:r,middlewareData:w}};async function Pg(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=tl(e,t),C=XD(w),_=l[v?m==="floating"?"reference":"floating":m],R=_0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),M=m==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),D=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},P=_0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:M,offsetParent:k,strategy:c}):M);return{top:(R.top-P.top+C.top)/D.y,bottom:(P.bottom-R.bottom+C.bottom)/D.y,left:(R.left-P.left+C.left)/D.x,right:(P.right-R.right+C.right)/D.x}}const kV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=tl(t,e)||{};if(d==null)return{};const m=XD(f),v={x:n,y:i},w=vS(r),C=gS(w),S=await o.getDimensions(d),_=w==="y",R=_?"top":"left",M=_?"bottom":"right",k=_?"clientHeight":"clientWidth",D=s.reference[C]+s.reference[w]-v[w]-s.floating[C],P=v[w]-s.reference[w],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let j=O?O[k]:0;(!j||!await(o.isElement==null?void 0:o.isElement(O)))&&(j=l.floating[k]||s.floating[C]);const B=D/2-P/2,W=j/2-S[C]/2-1,z=_u(m[R],W),Q=_u(m[M],W),Z=z,ne=j-S[C]-Q,H=j/2-S[C]/2+B,Y=IC(Z,H,ne),U=!c.arrow&&Ff(r)!=null&&H!==Y&&s.reference[C]/2-(H<Z?z:Q)-S[C]/2<0,J=U?H<Z?H-Z:H-ne:0;return{[w]:v[w]+J,data:{[w]:Y,centerOffset:H-Y-J,...U&&{alignmentOffset:J}},reset:U}}}),MV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,..._}=tl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=nl(r),M=Au(l),k=nl(l)===l,D=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=v||(k||!S?[T0(l)]:SV(l)),O=C!=="none";!v&&O&&P.push(...TV(l,S,C,D));const j=[l,...P],B=await Pg(e,_),W=[];let z=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&W.push(B[R]),m){const H=EV(r,o,D);W.push(B[H[0]],B[H[1]])}if(z=[...z,{placement:r,overflows:W}],!W.every(H=>H<=0)){var Q,Z;const H=(((Q=s.flip)==null?void 0:Q.index)||0)+1,Y=j[H];if(Y)return{data:{index:H,overflows:z},reset:{placement:Y}};let U=(Z=z.filter(J=>J.overflows[0]<=0).sort((J,X)=>J.overflows[1]-X.overflows[1])[0])==null?void 0:Z.placement;if(!U)switch(w){case"bestFit":{var ne;const J=(ne=z.filter(X=>{if(O){const K=Au(X.placement);return K===M||K==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(K=>K>0).reduce((K,L)=>K+L,0)]).sort((X,K)=>X[1]-K[1])[0])==null?void 0:ne[0];J&&(U=J);break}case"initialPlacement":U=l;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function gT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vT(t){return wV.some(e=>t[e]>=0)}const DV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=tl(t,e);switch(i){case"referenceHidden":{const s=await Pg(e,{...r,elementContext:"reference"}),o=gT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vT(o)}}}case"escaped":{const s=await Pg(e,{...r,altBoundary:!0}),o=gT(s,n.floating);return{data:{escapedOffsets:o,escaped:vT(o)}}}default:return{}}}}};async function NV(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=nl(n),l=Ff(n),c=Au(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,m=tl(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:C}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof C=="number"&&(w=l==="end"?C*-1:C),c?{x:w*f,y:v*d}:{x:v*d,y:w*f}}const LV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:l}=e,c=await NV(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:o}}}}},OV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:R,y:M}=_;return{x:R,y:M}}},...c}=tl(t,e),d={x:n,y:i},f=await Pg(e,c),m=Au(nl(r)),v=mS(m);let w=d[v],C=d[m];if(s){const _=v==="y"?"top":"left",R=v==="y"?"bottom":"right",M=w+f[_],k=w-f[R];w=IC(M,w,k)}if(o){const _=m==="y"?"top":"left",R=m==="y"?"bottom":"right",M=C+f[_],k=C-f[R];C=IC(M,C,k)}const S=l.fn({...e,[v]:w,[m]:C});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[v]:s,[m]:o}}}}}},PV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=tl(t,e),f={x:n,y:i},m=Au(r),v=mS(m);let w=f[v],C=f[m];const S=tl(l,e),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const k=v==="y"?"height":"width",D=s.reference[v]-s.floating[k]+_.mainAxis,P=s.reference[v]+s.reference[k]-_.mainAxis;w<D?w=D:w>P&&(w=P)}if(d){var R,M;const k=v==="y"?"width":"height",D=["top","left"].includes(nl(r)),P=s.reference[m]-s.floating[k]+(D&&((R=o.offset)==null?void 0:R[m])||0)+(D?0:_.crossAxis),O=s.reference[m]+s.reference[k]+(D?0:((M=o.offset)==null?void 0:M[m])||0)-(D?_.crossAxis:0);C<P?C=P:C>O&&(C=O)}return{[v]:w,[m]:C}}}},jV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=tl(t,e),f=await Pg(e,d),m=nl(r),v=Ff(r),w=Au(r)==="y",{width:C,height:S}=s.floating;let _,R;m==="top"||m==="bottom"?(_=m,R=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=m,_=v==="end"?"top":"bottom");const M=S-f.top-f.bottom,k=C-f.left-f.right,D=_u(S-f[_],M),P=_u(C-f[R],k),O=!e.middlewareData.shift;let j=D,B=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(j=M),O&&!v){const z=$r(f.left,0),Q=$r(f.right,0),Z=$r(f.top,0),ne=$r(f.bottom,0);w?B=C-2*(z!==0||Q!==0?z+Q:$r(f.left,f.right)):j=S-2*(Z!==0||ne!==0?Z+ne:$r(f.top,f.bottom))}await c({...e,availableWidth:B,availableHeight:j});const W=await o.getDimensions(l.floating);return C!==W.width||S!==W.height?{reset:{rects:!0}}:{}}}};function pw(){return typeof window<"u"}function Hf(t){return KD(t)?(t.nodeName||"").toLowerCase():"#document"}function Wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function da(t){var e;return(e=(KD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KD(t){return pw()?t instanceof Node||t instanceof Wr(t).Node:!1}function uo(t){return pw()?t instanceof Element||t instanceof Wr(t).Element:!1}function la(t){return pw()?t instanceof HTMLElement||t instanceof Wr(t).HTMLElement:!1}function bT(t){return!pw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wr(t).ShadowRoot}function sv(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=co(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function IV(t){return["table","td","th"].includes(Hf(t))}function mw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function bS(t){const e=yS(),n=uo(t)?co(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function zV(t){let e=ku(t);for(;la(e)&&!Rf(e);){if(bS(e))return e;if(mw(e))return null;e=ku(e)}return null}function yS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rf(t){return["html","body","#document"].includes(Hf(t))}function co(t){return Wr(t).getComputedStyle(t)}function gw(t){return uo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ku(t){if(Hf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bT(t)&&t.host||da(t);return bT(e)?e.host:e}function JD(t){const e=ku(t);return Rf(e)?t.ownerDocument?t.ownerDocument.body:t.body:la(e)&&sv(e)?e:JD(e)}function jg(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=JD(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Wr(r);if(s){const l=FC(o);return e.concat(o,o.visualViewport||[],sv(r)?r:[],l&&n?jg(l):[])}return e.concat(r,jg(r,[],n))}function FC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZD(t){const e=co(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=la(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,l=R0(n)!==s||R0(i)!==o;return l&&(n=s,i=o),{width:n,height:i,$:l}}function wS(t){return uo(t)?t:t.contextElement}function mf(t){const e=wS(t);if(!la(e))return oa(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=ZD(e);let o=(s?R0(n.width):n.width)/i,l=(s?R0(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const FV=oa(0);function QD(t){const e=Wr(t);return!yS()||!e.visualViewport?FV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wr(t)?!1:e}function ld(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=wS(t);let o=oa(1);e&&(i?uo(i)&&(o=mf(i)):o=mf(t));const l=HV(s,n,i)?QD(s):oa(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,f=r.width/o.x,m=r.height/o.y;if(s){const v=Wr(s),w=i&&uo(i)?Wr(i):i;let C=v,S=FC(C);for(;S&&i&&w!==C;){const _=mf(S),R=S.getBoundingClientRect(),M=co(S),k=R.left+(S.clientLeft+parseFloat(M.paddingLeft))*_.x,D=R.top+(S.clientTop+parseFloat(M.paddingTop))*_.y;c*=_.x,d*=_.y,f*=_.x,m*=_.y,c+=k,d+=D,C=Wr(S),S=FC(C)}}return _0({width:f,height:m,x:c,y:d})}function xS(t,e){const n=gw(t).scrollLeft;return e?e.left+n:ld(da(t)).left+n}function eN(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:xS(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function BV(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=da(i),l=e?mw(e.floating):!1;if(i===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=oa(1);const f=oa(0),m=la(i);if((m||!m&&!s)&&((Hf(i)!=="body"||sv(o))&&(c=gw(i)),la(i))){const w=ld(i);d=mf(i),f.x=w.x+i.clientLeft,f.y=w.y+i.clientTop}const v=o&&!m&&!s?eN(o,c,!0):oa(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+v.x,y:n.y*d.y-c.scrollTop*d.y+f.y+v.y}}function UV(t){return Array.from(t.getClientRects())}function $V(t){const e=da(t),n=gw(t),i=t.ownerDocument.body,r=$r(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=$r(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+xS(t);const l=-n.scrollTop;return co(i).direction==="rtl"&&(o+=$r(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:l}}function VV(t,e){const n=Wr(t),i=da(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;const d=yS();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}function WV(t,e){const n=ld(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=la(t)?mf(t):oa(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=r*s.x,d=i*s.y;return{width:o,height:l,x:c,y:d}}function yT(t,e,n){let i;if(e==="viewport")i=VV(t,n);else if(e==="document")i=$V(da(t));else if(uo(e))i=WV(e,n);else{const r=QD(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return _0(i)}function tN(t,e){const n=ku(t);return n===e||!uo(n)||Rf(n)?!1:co(n).position==="fixed"||tN(n,e)}function GV(t,e){const n=e.get(t);if(n)return n;let i=jg(t,[],!1).filter(l=>uo(l)&&Hf(l)!=="body"),r=null;const s=co(t).position==="fixed";let o=s?ku(t):t;for(;uo(o)&&!Rf(o);){const l=co(o),c=bS(o);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||sv(o)&&!c&&tN(t,o))?i=i.filter(f=>f!==o):r=l,o=ku(o)}return e.set(t,i),i}function qV(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?mw(e)?[]:GV(e,this._c):[].concat(n),i],l=o[0],c=o.reduce((d,f)=>{const m=yT(e,f,r);return d.top=$r(m.top,d.top),d.right=_u(m.right,d.right),d.bottom=_u(m.bottom,d.bottom),d.left=$r(m.left,d.left),d},yT(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YV(t){const{width:e,height:n}=ZD(t);return{width:e,height:n}}function XV(t,e,n){const i=la(e),r=da(e),s=n==="fixed",o=ld(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=oa(0);if(i||!i&&!s)if((Hf(e)!=="body"||sv(r))&&(l=gw(e)),i){const v=ld(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else r&&(c.x=xS(r));const d=r&&!i&&!s?eN(r,l):oa(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function N1(t){return co(t).position==="static"}function wT(t,e){if(!la(t)||co(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return da(t)===n&&(n=n.ownerDocument.body),n}function nN(t,e){const n=Wr(t);if(mw(t))return n;if(!la(t)){let r=ku(t);for(;r&&!Rf(r);){if(uo(r)&&!N1(r))return r;r=ku(r)}return n}let i=wT(t,e);for(;i&&IV(i)&&N1(i);)i=wT(i,e);return i&&Rf(i)&&N1(i)&&!bS(i)?n:i||zV(t)||n}const KV=async function(t){const e=this.getOffsetParent||nN,n=this.getDimensions,i=await n(t.floating);return{reference:XV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function JV(t){return co(t).direction==="rtl"}const ZV={convertOffsetParentRelativeRectToViewportRelativeRect:BV,getDocumentElement:da,getClippingRect:qV,getOffsetParent:nN,getElementRects:KV,getClientRects:UV,getDimensions:YV,getScale:mf,isElement:uo,isRTL:JV};function iN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QV(t,e){let n=null,i;const r=da(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:m,width:v,height:w}=d;if(l||e(),!v||!w)return;const C=Py(m),S=Py(r.clientWidth-(f+v)),_=Py(r.clientHeight-(m+w)),R=Py(f),k={rootMargin:-C+"px "+-S+"px "+-_+"px "+-R+"px",threshold:$r(0,_u(1,c))||1};let D=!0;function P(O){const j=O[0].intersectionRatio;if(j!==c){if(!D)return o();j?o(!1,j):i=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!iN(d,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(P,{...k,root:r.ownerDocument})}catch{n=new IntersectionObserver(P,k)}n.observe(t)}return o(!0),s}function vw(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=wS(t),f=r||s?[...d?jg(d):[],...jg(e)]:[];f.forEach(R=>{r&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const m=d&&l?QV(d,n):null;let v=-1,w=null;o&&(w=new ResizeObserver(R=>{let[M]=R;M&&M.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(e)})),n()}),d&&!c&&w.observe(d),w.observe(e));let C,S=c?ld(t):null;c&&_();function _(){const R=ld(t);S&&!iN(S,R)&&n(),S=R,C=requestAnimationFrame(_)}return n(),()=>{var R;f.forEach(M=>{r&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),m==null||m(),(R=w)==null||R.disconnect(),w=null,c&&cancelAnimationFrame(C)}}const eW=LV,tW=OV,nW=MV,iW=jV,rW=DV,xT=kV,sW=PV,oW=(t,e,n)=>{const i=new Map,r={platform:ZV,...n},s={...r.platform,_c:i};return AV(t,e,{...r,platform:s})};var o0=typeof document<"u"?x.useLayoutEffect:x.useEffect;function A0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!A0(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!A0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function rN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CT(t,e){const n=rN(t);return Math.round(e*n)/n}function L1(t){const e=x.useRef(t);return o0(()=>{e.current=t}),e}function bw(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(i);A0(v,i)||w(i);const[C,S]=x.useState(null),[_,R]=x.useState(null),M=x.useCallback(X=>{X!==O.current&&(O.current=X,S(X))},[]),k=x.useCallback(X=>{X!==j.current&&(j.current=X,R(X))},[]),D=s||C,P=o||_,O=x.useRef(null),j=x.useRef(null),B=x.useRef(f),W=c!=null,z=L1(c),Q=L1(r),Z=L1(d),ne=x.useCallback(()=>{if(!O.current||!j.current)return;const X={placement:e,strategy:n,middleware:v};Q.current&&(X.platform=Q.current),oW(O.current,j.current,X).then(K=>{const L={...K,isPositioned:Z.current!==!1};H.current&&!A0(B.current,L)&&(B.current=L,Df.flushSync(()=>{m(L)}))})},[v,e,n,Q,Z]);o0(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(X=>({...X,isPositioned:!1})))},[d]);const H=x.useRef(!1);o0(()=>(H.current=!0,()=>{H.current=!1}),[]),o0(()=>{if(D&&(O.current=D),P&&(j.current=P),D&&P){if(z.current)return z.current(D,P,ne);ne()}},[D,P,ne,z,W]);const Y=x.useMemo(()=>({reference:O,floating:j,setReference:M,setFloating:k}),[M,k]),U=x.useMemo(()=>({reference:D,floating:P}),[D,P]),J=x.useMemo(()=>{const X={position:n,left:0,top:0};if(!U.floating)return X;const K=CT(U.floating,f.x),L=CT(U.floating,f.y);return l?{...X,transform:"translate("+K+"px, "+L+"px)",...rN(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:L}},[n,l,U.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:ne,refs:Y,elements:U,floatingStyles:J}),[f,ne,Y,U,J])}const aW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?xT({element:i.current,padding:r}).fn(n):{}:i?xT({element:i,padding:r}).fn(n):{}}}},yw=(t,e)=>({...eW(t),options:[t,e]}),ww=(t,e)=>({...tW(t),options:[t,e]}),xw=(t,e)=>({...sW(t),options:[t,e]}),Cw=(t,e)=>({...nW(t),options:[t,e]}),Ew=(t,e)=>({...iW(t),options:[t,e]}),Sw=(t,e)=>({...rW(t),options:[t,e]}),Rw=(t,e)=>({...aW(t),options:[t,e]});var lW="Arrow",sN=x.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return g.jsx(zn.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});sN.displayName=lW;var uW=sN;function oN(t){const[e,n]=x.useState(void 0);return sd(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var aN="Popper",[lN,uN]=Lu(aN),[zme,cN]=lN(aN),dN="PopperAnchor",hN=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=cN(dN,n),o=x.useRef(null),l=xi(e,o);return x.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:g.jsx(zn.div,{...r,ref:l})});hN.displayName=dN;var CS="PopperContent",[cW,dW]=lN(CS),fN=x.forwardRef((t,e)=>{var Ce,Ee,ke,je,Ne,ye;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:C,...S}=t,_=cN(CS,n),[R,M]=x.useState(null),k=xi(e,Oe=>M(Oe)),[D,P]=x.useState(null),O=oN(D),j=(O==null?void 0:O.width)??0,B=(O==null?void 0:O.height)??0,W=i+(s!=="center"?"-"+s:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],Z=Q.length>0,ne={padding:z,boundary:Q.filter(fW),altBoundary:Z},{refs:H,floatingStyles:Y,placement:U,isPositioned:J,middlewareData:X}=bw({strategy:"fixed",placement:W,whileElementsMounted:(...Oe)=>vw(...Oe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[yw({mainAxis:r+B,alignmentAxis:o}),c&&ww({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xw():void 0,...ne}),c&&Cw({...ne}),Ew({...ne,apply:({elements:Oe,rects:ze,availableWidth:Qe,availableHeight:gt})=>{const{width:bt,height:tn}=ze.reference,yt=Oe.floating.style;yt.setProperty("--radix-popper-available-width",`${Qe}px`),yt.setProperty("--radix-popper-available-height",`${gt}px`),yt.setProperty("--radix-popper-anchor-width",`${bt}px`),yt.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),D&&Rw({element:D,padding:l}),pW({arrowWidth:j,arrowHeight:B}),v&&Sw({strategy:"referenceHidden",...ne})]}),[K,L]=gN(U),ee=el(C);sd(()=>{J&&(ee==null||ee())},[J,ee]);const ue=(Ce=X.arrow)==null?void 0:Ce.x,V=(Ee=X.arrow)==null?void 0:Ee.y,fe=((ke=X.arrow)==null?void 0:ke.centerOffset)!==0,[be,ve]=x.useState();return sd(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(je=X.transformOrigin)==null?void 0:je.x,(Ne=X.transformOrigin)==null?void 0:Ne.y].join(" "),...((ye=X.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(cW,{scope:n,placedSide:K,onArrowChange:P,arrowX:ue,arrowY:V,shouldHideArrow:fe,children:g.jsx(zn.div,{"data-side":K,"data-align":L,...S,ref:k,style:{...S.style,animation:J?void 0:"none"}})})})});fN.displayName=CS;var pN="PopperArrow",hW={top:"bottom",right:"left",bottom:"top",left:"right"},mN=x.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=dW(pN,i),o=hW[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(uW,{...r,ref:n,style:{...r.style,display:"block"}})})});mN.displayName=pN;function fW(t){return t!==null}var pW=t=>({name:"transformOrigin",options:t,fn(e){var _,R,M;const{placement:n,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=gN(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((R=r.arrow)==null?void 0:R.x)??0)+l/2,w=(((M=r.arrow)==null?void 0:M.y)??0)+c/2;let C="",S="";return d==="bottom"?(C=o?m:`${v}px`,S=`${-c}px`):d==="top"?(C=o?m:`${v}px`,S=`${i.floating.height+c}px`):d==="right"?(C=`${-c}px`,S=o?m:`${w}px`):d==="left"&&(C=`${i.floating.width+c}px`,S=o?m:`${w}px`),{data:{x:C,y:S}}}});function gN(t){const[e,n="center"]=t.split("-");return[e,n]}var mW=hN,gW=fN,vW=mN,bW="VisuallyHidden",vN=x.forwardRef((t,e)=>g.jsx(zn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vN.displayName=bW;var yW=vN,[Tw,Fme]=Lu("Tooltip",[uN]),ES=uN(),bN="TooltipProvider",wW=700,ET="tooltip.open",[xW,yN]=Tw(bN),wN=t=>{const{__scopeTooltip:e,delayDuration:n=wW,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,[o,l]=x.useState(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),g.jsx(xW,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(f=>{c.current=f},[]),disableHoverableContent:r,children:s})};wN.displayName=bN;var xN="Tooltip",[Hme,_w]=Tw(xN),HC="TooltipTrigger",CW=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=_w(HC,n),s=yN(HC,n),o=ES(n),l=x.useRef(null),c=xi(e,l,r.onTriggerChange),d=x.useRef(!1),f=x.useRef(!1),m=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),g.jsx(mW,{asChild:!0,...o,children:g.jsx(zn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:c,onPointerMove:En(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:En(t.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:En(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:En(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:En(t.onBlur,r.onClose),onClick:En(t.onClick,r.onClose)})})});CW.displayName=HC;var EW="TooltipPortal",[Bme,SW]=Tw(EW,{forceMount:void 0}),Tf="TooltipContent",RW=x.forwardRef((t,e)=>{const n=SW(Tf,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=_w(Tf,t.__scopeTooltip);return g.jsx(Of,{present:i||o.open,children:o.disableHoverableContent?g.jsx(CN,{side:r,...s,ref:e}):g.jsx(TW,{side:r,...s,ref:e})})}),TW=x.forwardRef((t,e)=>{const n=_w(Tf,t.__scopeTooltip),i=yN(Tf,t.__scopeTooltip),r=x.useRef(null),s=xi(e,r),[o,l]=x.useState(null),{trigger:c,onClose:d}=n,f=r.current,{onPointerInTransitChange:m}=i,v=x.useCallback(()=>{l(null),m(!1)},[m]),w=x.useCallback((C,S)=>{const _=C.currentTarget,R={x:C.clientX,y:C.clientY},M=MW(R,_.getBoundingClientRect()),k=DW(R,M),D=NW(S.getBoundingClientRect()),P=OW([...k,...D]);l(P),m(!0)},[m]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(c&&f){const C=_=>w(_,f),S=_=>w(_,c);return c.addEventListener("pointerleave",C),f.addEventListener("pointerleave",S),()=>{c.removeEventListener("pointerleave",C),f.removeEventListener("pointerleave",S)}}},[c,f,w,v]),x.useEffect(()=>{if(o){const C=S=>{const _=S.target,R={x:S.clientX,y:S.clientY},M=(c==null?void 0:c.contains(_))||(f==null?void 0:f.contains(_)),k=!LW(R,o);M?v():k&&(v(),d())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[c,f,o,d,v]),g.jsx(CN,{...t,ref:s})}),[_W,AW]=Tw(xN,{isInside:!1}),CN=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=_w(Tf,n),d=ES(n),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(ET,f),()=>document.removeEventListener(ET,f)),[f]),x.useEffect(()=>{if(c.trigger){const m=v=>{const w=v.target;w!=null&&w.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),g.jsx(oS,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:g.jsxs(gW,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(sS,{children:i}),g.jsx(_W,{scope:n,isInside:!0,children:g.jsx(yW,{id:c.contentId,role:"tooltip",children:r||i})})]})})});RW.displayName=Tf;var EN="TooltipArrow",kW=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=ES(n);return AW(EN,n).isInside?null:g.jsx(vW,{...r,...i,ref:e})});kW.displayName=EN;function MW(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function DW(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function NW(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function LW(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,d=e[o].x,f=e[o].y;c>i!=f>i&&n<(d-l)*(i-c)/(f-c)+l&&(r=!r)}return r}function OW(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),PW(e)}function PW(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jW=wN;function IW({delayDuration:t=0,...e}){return g.jsx(jW,{"data-slot":"tooltip-provider",delayDuration:t,...e})}const zW="sidebar_state",FW=60*60*24*7,HW="5.5rem",BW="3rem",UW="b",SN=x.createContext(null);function SS(){const t=x.useContext(SN);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function $W({defaultOpen:t=!1,open:e,onOpenChange:n,className:i,style:r,children:s,...o}){const[l,c]=x.useState(t),[d,f]=x.useState(!1),m=e??l,v=x.useCallback(_=>{const R=typeof _=="function"?_(m):_;n?n(R):c(R),document.cookie=`${zW}=${R}; path=/; max-age=${FW}`},[n,m]),w=x.useCallback(()=>v(_=>!_),[v]);x.useEffect(()=>{const _=R=>{R.key===UW&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),w())};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[w]);const C=m?"expanded":"collapsed",S=x.useMemo(()=>({state:C,open:m,setOpen:v,toggleSidebar:w,hoveringSidebar:d,setHoveringSidebar:f}),[C,m,v,w,d]);return g.jsx(SN.Provider,{value:S,children:g.jsx(IW,{delayDuration:0,children:g.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":HW,"--sidebar-width-icon":BW,...r},className:_t("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex w-full",i),...o,children:s})})})}function VW({side:t="right",variant:e="sidebar",collapsible:n="offcanvas",className:i,children:r,...s}){const{state:o,setOpen:l}=SS();return g.jsxs("div",{className:"group sidebar-container ","data-state":o,"data-collapsible":o==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",onMouseLeave:()=>l(!1),children:[g.jsx("div",{"data-slot":"sidebar-gap",className:_t("relative transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0",n==="offcanvas"&&"w-0",n!=="offcanvas"&&(e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"))}),g.jsx("div",{"data-slot":"sidebar-container",className:_t("absolute top-0 h-full z-10 flex w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)",i),...s,children:g.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:_t("flex flex-col w-full h-full border rounded-lg shadow-sm","backdrop-blur-3xl backdrop-saturate-900","bg-background/80","dark:bg-background/80"),children:r})})]})}function WW({className:t,...e}){const{setOpen:n,hoveringSidebar:i}=SS(),{theme:r}=ho();return g.jsxs(Jr,{id:"button-sidebar","data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",className:_t(" transition-opacity duration-200 ${theme === 'light' ? 'bg-gray-200' : 'bg-black' } p-4 ",i?"opacity-0 pointer-events-none":"opacity-100",r==="light"?"bg-gray-200":"bg-black",t),onMouseEnter:()=>n(!0),...e,children:[g.jsx(F7,{size:17}),g.jsx("span",{className:"sr-only ",children:"Open Sidebar"})]})}function GW({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:_t("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function qW({className:t,...e}){return g.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:_t("group/menu-item relative",t),...e})}const YW=()=>g.jsx(h7,{size:24}),ST=({sectionName:t,currentSection:e,setSection:n,children:i})=>g.jsxs(qW,{className:"flex items-center gap-1",children:[g.jsx("a",{onClick:()=>n(t),className:"cursor-pointer",children:g.jsx(Jr,{variant:"outline",size:"icon",children:i})}),e===t&&g.jsx(YW,{})]});function XW(){const{operation:t,section:e,setSection:n}=lt(),{setOpen:i,setHoveringSidebar:r}=SS(),s=[{name:"search",icon:g.jsx(OC,{}),show:t!==""&&t!=="uploadMemory"},{name:"convert",icon:g.jsx(i7,{}),show:!0},{name:"settings",icon:g.jsx(ED,{}),show:t==="uploadMemory"||t==="step"}];return g.jsx(VW,{id:"sidebar",onMouseEnter:()=>{i(!0),r(!0)},onMouseLeave:()=>{i(!1),r(!1)},children:g.jsxs(GW,{className:"flex flex-col justify-between w-full h-full p-3 ",children:[g.jsxs("div",{className:"flex flex-col items-start gap-3",children:[g.jsx("p",{children:"Sections"}),s.map(o=>o.show&&g.jsx(ST,{sectionName:o.name,currentSection:e,setSection:n,children:o.icon},o.name))]}),g.jsx("div",{className:"flex flex-col items-start gap-3",children:g.jsx(ST,{sectionName:"help",currentSection:e,setSection:n,children:g.jsx(wD,{})})})]})})}const RT=({label:t,options:e,selected:n,onSelect:i,inputId:r})=>{const[s,o]=x.useState(!1),l=x.useRef(null);return x.useEffect(()=>{const c=d=>{l.current&&!l.current.contains(d.target)&&o(!1)};return document.addEventListener("click",c),()=>document.removeEventListener("click",c)},[]),g.jsxs("div",{className:"relative flex flex-col gap-1 ",ref:l,children:[t&&g.jsx("p",{className:"label",children:t}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",id:r,className:"relative rounded-lg border border-gray-400 cursor-pointer z-[2] bg-transparent py-2 pl-2 pr-[2.3rem] w-full",value:n.label,readOnly:!0,onClick:()=>o(!s)}),g.jsx("div",{className:"absolute top-1/2 right-[0.6rem] -translate-y-1/2 z-[1] cursor-pointer text-gray-400",children:g.jsx(s7,{width:24,height:24,strokeWidth:1})})]}),s&&g.jsx("div",{className:"absolute top-[4.3rem] right-0 rounded-lg bg-white p-2 flex flex-col gap-2 z-[100] shadow-[0_0_10px_0_rgba(0,0,0,0.1)]",children:e.map(c=>g.jsx("p",{className:"py-[0.3rem] px-[0.6rem] rounded-[0.2rem] cursor-pointer border-b border-[#D1E3E7] text-black hover:bg-[#D1E3E7] hover:text-black",onClick:()=>{i(c),o(!1)},children:c.label},c.value))})]})},KW=({id:t,...e})=>g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("p",{className:"",children:"Value"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute top-1/2 left-[0.6rem] -translate-y-1/2 text-gray-400",children:g.jsx(E7,{width:20,height:20,strokeWidth:1})}),g.jsx("input",{id:t,type:"text",className:"relative text-[.87rem] rounded-lg border border-gray-400 cursor-pointer z-[2] bg-transparent py-2 pr-2 pl-[2.3rem] w-full",...e})]})]}),JW=({id:t,...e})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("p",{className:"label",children:"Result :"}),g.jsx("div",{className:"relative",children:g.jsx("input",{id:t,type:"text",readOnly:!0,className:"p-2 pr-[2.2rem] text-[0.93rem] rounded-lg w-full border border-[#3A6973] bg-transparent focus:outline-none hover:outline-none relative",...e})})]}),ZW=({onSwap:t})=>g.jsx("button",{className:"text-center bg-[#D1E3E7] border border-[#D1E3E7] text-black rounded-md p-[0.2rem] cursor-pointer transition-all duration-300 ease-in hover:scale-95 sim-focus",onClick:t,children:g.jsx(q$,{width:18,height:18,strokeWidth:1})}),QW=({result:t,toFormat:e})=>{const[n,i]=x.useState(!1),r=x.useRef(null),s=x.useRef(null),o=d=>{navigator.clipboard.writeText(d)};x.useEffect(()=>{const d=f=>{r.current&&!r.current.contains(f.target)&&s.current&&!s.current.contains(f.target)&&i(!1)};return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[]);const l=d=>{d.stopPropagation(),e==="twoCompl"?i(f=>!f):o(t)},c=d=>{const f=t.replace(/ /g,""),m=d===32?f:f.slice(-d);o(m),i(!1)};return g.jsxs("div",{className:"absolute top-[2.3rem] right-[0.6rem] text-gray-400 cursor-pointer z-1",children:[g.jsx("div",{ref:s,onClick:l,className:"z-10 text-gray-400 cursor-pointer",children:e==="twoCompl"?n?g.jsx(SD,{width:24,height:24,strokeWidth:2}):g.jsx(LC,{width:22,height:22,strokeWidth:1}):g.jsx(LC,{className:"transition ease-in 300 transform hover:scale-[0.95]",width:22,height:22,strokeWidth:1})}),e==="twoCompl"&&n&&g.jsxs("ul",{ref:r,className:"absolute top-[2.5rem] right-[-.5rem] w-max rounded-lg bg-white p-2 flex gap-2 z-[100] shadow-[0_0_10px_0_rgba(0,0,0,0.1)] animate-fadeInTop",children:[g.jsx("li",{className:"py-[0.3rem] px-[0.6rem] rounded cursor-pointer border-b border-[#D1E3E7] text-black active:scale-[0.98] whitespace-nowrap",onClick:()=>c(32),children:"32 bits"}),g.jsx("li",{className:"py-[0.3rem] px-[0.6rem] rounded cursor-pointer border-b border-[#D1E3E7] text-black active:scale-[0.98] whitespace-nowrap",onClick:()=>c(16),children:"16 bits"}),g.jsx("li",{className:"py-[0.3rem] px-[0.6rem] rounded cursor-pointer border-b border-[#D1E3E7] text-black active:scale-[0.98] whitespace-nowrap",onClick:()=>c(8),children:"8 bits"})]})]})};function eG(t,e){const n=e?"1":"0";let i=t.replace(/[^01]/g,"");return i=i.slice(-32),i=i.padStart(32,n),i.replace(/(.{4})(?=.)/g,"$1 ")}function tG(t,e,n,i){if(e==="ascii"){if(n==="dec"){let o="";for(let l=0;l<t.length;l++)o+=t.charCodeAt(l).toString(10)+" ";return o.trim()}else if(n==="hex"){let o="";for(let l=0;l<t.length;l++)o+=t.charCodeAt(l).toString(16).toUpperCase().padStart(2,"0")+" ";return o.trim()}else if(n==="ascii")return t}const r=t.replace(/ /g,"");let s;try{if(e==="hex")s=parseInt(r,16);else if(e==="dec")s=parseInt(r,10);else if(e==="twoCompl"){const o=i?"1":"0",l=r.padStart(32,o);s=parseInt(l,2),l[0]==="1"&&(s-=4294967296)}else throw new Error("Invalid format");if(isNaN(s))throw new Error("Invalid value")}catch{return""}if(n==="hex")return e==="dec"&&s<0?(65536+s%65536&65535).toString(16).toUpperCase().padStart(4,"0"):s.toString(16).toUpperCase();if(n==="dec"){if(e==="hex"){const o=s;let l=s;return r.length<=4?o>32767&&(l=o-65536):o>2147483647&&(l=o-4294967296),l.toString(10)===o.toString(10)?l.toString(10):l.toString(10)+" / "+o.toString(10)}return s.toString(10)}else{if(n==="twoCompl")return(s>>>0).toString(2).padStart(32,"0").replace(/(.{4})(?=.)/g,"$1 ");if(n==="ascii"){const o=s>>>0,l=[o>>24&255,o>>16&255,o>>8&255,o&255];let c="",d=!1;for(const f of l)(f!==0||d)&&(d=!0,c+=String.fromCharCode(f));return c===""&&l.length>0&&(c=String.fromCharCode(l[l.length-1])),c}}return""}const jy=[{label:"Two's complement",value:"twoCompl"},{label:"Hexadecimal",value:"hex"},{label:"Decimal",value:"dec"},{label:"ASCII",value:"ascii"}],O1=()=>{const[t,e]=x.useState(jy[0]),[n,i]=x.useState(jy[1]),[r,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(!1);x.useEffect(()=>{t.value==="twoCompl"?s(c?"1111 1111 1111 1111 1111 1111 1111 1111":"0000 0000 0000 0000 0000 0000 0000 0000"):s("")},[t,c]),x.useEffect(()=>{let w=r;t.value==="twoCompl"?(w=eG(r,c),w!==r&&s(w)):t.value!=="ascii"&&(w=r.replace(/ /g,""));const C=tG(w,t.value,n.value,c);l(C)},[r,t,n,c]);const f=()=>{const w=t;e(n),i(w),s(""),l(""),n.value==="twoCompl"&&(d(!1),s("0000 0000 0000 0000 0000 0000 0000 0000"))},m=w=>{let C=w.target.value;t.value==="twoCompl"&&(C=C.replace(/[^01]/g,"")),s(C)},v=w=>{if(t.value==="twoCompl"&&w.key==="Backspace"){w.preventDefault();const C="0"+r.slice(0,-1);s(C)}};return g.jsxs("div",{className:"section-container ml-[.2rem] ",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx(RT,{label:"From",inputId:"fromConvertInput",options:jy,selected:t,onSelect:w=>{e(w),s(""),l("")}}),g.jsx(RT,{label:"To",inputId:"toConvertInput",options:jy,selected:n,onSelect:w=>{i(w),l("")}})]}),g.jsx(KW,{id:"numberToconvertInput",value:r,onChange:m,onKeyDown:v,onClick:w=>{const C=w.target;C.setSelectionRange(C.value.length,C.value.length)}}),g.jsxs("div",{className:"relative flex items-center justify-between w-full h-10 gap-4",children:[t.value==="twoCompl"&&g.jsx("div",{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"isNegative",className:"cursor-pointer",checked:c,onChange:w=>d(w.target.checked)}),g.jsx("p",{children:"Fill with ones (negative)"})]})}),g.jsx("div",{id:"checkbox-swapContainer",className:"absolute right-0 -translate-y-1/2 top-1/2",children:g.jsx(ZW,{onSwap:f})})]}),g.jsxs("div",{className:"relative flex flex-col gap-2 max-h-content",children:[g.jsx(JW,{id:"resultConvertInput",value:o}),g.jsx(QW,{result:o,toFormat:n.value})]})]})};function RN(t){t.getRows().forEach(e=>{e.getCells().forEach(n=>{n.getElement().style.backgroundColor="",n.getElement().style.borderBottom=""})})}function nG(t,e,n){if(!e||!t.current)return;const i=parseInt(e.replace("x",""),10);isNaN(i)||(t.current.updateData([{rawName:e,value:n}]),iG(t,e))}function iG(t,e){if(!t.current)return;const n=t.current.getRow(e);if(n){const s=n.getElement();s.classList.add("animate-cell"),setTimeout(()=>{s.classList.remove("animate-cell")},500)}const i=parseInt(e.replace("x",""),10),r=i>=0&&i<=12?"center":"top";t.current.scrollToRow(e,r,!0)}const rG=t=>e=>{const{viewType:n}=e.getData();let i="";switch(n){case 2:i="bin";break;case"unsigned":i="10";break;case"signed":i="±10";break;case 16:i="hex";break;default:i=String(n)}const r=document.createElement("div");r.className="flex items-center justify-between w-full monospace";const s=document.createElement("span");s.textContent=i;const o=document.createElement("span");o.className="ml-1 cursor-pointer",o.innerHTML=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>`,r.appendChild(s),r.appendChild(o),r.addEventListener("mouseenter",()=>{t(e)}),r.addEventListener("mouseleave",()=>{t(null)});let l=!1;return r.addEventListener("pointerdown",c=>{c.preventDefault(),c.stopPropagation(),l||(l=!0,e.getElement().dataset.allowEdit="true",e.edit(),setTimeout(()=>{l=!1},300))}),r},sG=t=>e=>{const n=e.key.toLowerCase(),i={b:2,s:"signed",u:"unsigned",h:16,a:"ascii"};if(t.current&&i[n]){const r=t.current.getRow();r==null||r.update({viewType:i[n]}),r==null||r.reformat()}};function oG(t,e,n){if(RN(e),t.toLowerCase().startsWith("0x")){const i=t.slice(2),s=parseInt(i,16).toString(2);e.setFilter(o=>{var c;return(((c=o.value)==null?void 0:c.toString().toLowerCase())||"").includes(s)}),e.getRows().forEach(o=>{o.getCells().forEach(l=>{var c;l.getField()==="value"&&(((c=l.getValue())==null?void 0:c.toString().toLowerCase())||"").includes(s)&&(n==="dark"?l.getElement().style.backgroundColor="#3A6973":l.getElement().style.backgroundColor="#D1E3E7")})})}else{const i=t.toLowerCase();let r=!1,s="",o="";if(/^[01]+$/.test(t))r=!0,s=t.replace(/^0+/,"")||"0",o=t.padStart(32,"0");else if(!isNaN(parseInt(t,10))){r=!0;const l=parseInt(t,10);l<0?s=(256+l).toString(2).padStart(8,"0"):s=l.toString(2),o=l.toString(2).padStart(32,"0")}e.setFilter(l=>{var f,m;const c=((f=l.name)==null?void 0:f.toLowerCase())||"",d=((m=l.value)==null?void 0:m.toString().toLowerCase())||"";return r?c.includes(i)||c.includes(s)||c.includes(o)||d.includes(i)||d.includes(s)||d.includes(o):c.includes(i)||d.includes(i)}),e.getRows().forEach(l=>{l.getCells().forEach(c=>{var m;const d=c.getField(),f=((m=c.getValue())==null?void 0:m.toString().toLowerCase())||"";r?(d==="name"||d==="value")&&(f.includes(i)||f.includes(s)||f.includes(o))&&(n==="dark"?c.getElement().style.backgroundColor="#3A6973":c.getElement().style.backgroundColor="#D1E3E7"):(d==="name"||d==="value")&&f.includes(i)&&(n==="dark"?c.getElement().style.backgroundColor="#3A6973":c.getElement().style.backgroundColor="#D1E3E7")})})}}function gf({className:t,...e}){return g.jsx("div",{"data-slot":"skeleton",className:_t("bg-accent animate-pulse rounded-md",t),...e})}const aG=()=>g.jsx("div",{className:"min-w-[22.7rem] inset-0 overflow-hidden h-full  z-100 absolute top-0 left-0",children:g.jsxs("div",{className:"flex flex-col gap-[0.5rem] items-center",children:[g.jsx("div",{className:"flex gap-[.7rem]",children:Array.from({length:3}).map((r,s)=>g.jsx(gf,{className:"h-8 w-[7rem]"},`top-${s}`))}),g.jsx("div",{className:"flex flex-col gap-[.5rem]",children:Array.from({length:2}).map((r,s)=>g.jsx(gf,{className:"h-8 w-[22.3rem]"},`middle-${s}`))}),g.jsx("div",{className:"flex flex-col gap-[.7rem]",children:Array.from({length:15}).map((r,s)=>g.jsx("div",{className:"flex gap-[.7rem]",children:Array.from({length:3}).map((o,l)=>g.jsx(gf,{className:"h-8 w-[7rem]"},`row-${s}-col-${l}`))},`row-${s}`))})]})}),lG=({isCreatedMemoryTable:t,setRegisterData:e,setFixedchangedRegisters:n})=>{x.useEffect(()=>{t||(n([]),e(Array(32).fill("0".repeat(32))))},[t,e,n])},uG=({isTableBuilt:t,hoveredCellRef:e})=>{x.useEffect(()=>{if(!t)return;const n=sG(e);return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[t,e])};class Ei{constructor(e){this.table=e}reloadData(e,n,i){return this.table.dataLoader.load(e,void 0,void 0,void 0,n,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,n){return typeof n<"u"&&(this.table.options[e]=n),this.table.options[e]}deprecationCheck(e,n,i){return this.table.deprecationAdvisor.check(e,n,i)}deprecationCheckMsg(e,n){return this.table.deprecationAdvisor.checkMsg(e,n)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class un{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var n=e.getBoundingClientRect();return{top:n.top+window.pageYOffset-document.documentElement.clientTop,left:n.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,n,i){var r=e?n.split(e):[n],s=r.length,o;for(let l=0;l<s&&(i=i[r[l]],o=i,!!i);l++);return o}static deepClone(e,n,i=[]){var r={}.__proto__,s=[].__proto__;n||(n=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let l=e[o],c,d;l!=null&&typeof l=="object"&&(l.__proto__===r||l.__proto__===s)&&(c=i.findIndex(f=>f.subject===l),c>-1?n[o]=i[c].copy:(d=Object.assign(Array.isArray(l)?[]:{},l),i.unshift({subject:l,copy:d}),n[o]=this.deepClone(l,d,i)))}return n}}let cG=class TN extends Ei{constructor(e,n,i){super(e),this.element=n,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,n=this.table.element){return e===n?!0:n.parentNode?this._checkContainerIsParent(e,n.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var n=!(e instanceof MouseEvent),i=n?e.touches[0].pageX:e.pageX,r=n?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let s=un.elOffset(this.container);i-=s.left,r-=s.top}return{x:i,y:r}}elementPositionCoords(e,n="right"){var i=un.elOffset(e),r,s,o;switch(this.container!==document.body&&(r=un.elOffset(this.container),i.left-=r.left,i.top-=r.top),n){case"right":s=i.left+e.offsetWidth,o=i.top-1;break;case"bottom":s=i.left,o=i.top+e.offsetHeight;break;case"left":s=i.left,o=i.top-1;break;case"top":s=i.left,o=i.top;break;case"center":s=i.left+e.offsetWidth/2,o=i.top+e.offsetHeight/2;break}return{x:s,y:o,offset:i}}show(e,n){var i,r,s,o,l;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(s=e,l=this.elementPositionCoords(e,n),o=l.offset,i=l.x,r=l.y):typeof e=="number"?(o={top:0,left:0},i=e,r=n):(l=this.containerEventCoords(e),i=l.x,r=l.y,this.reversedX=!1),this.element.style.top=r+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(i,r,s,o,n),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",c=>{c.stopPropagation()}),this)}_fitToScreen(e,n,i,r,s){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",i?this.element.style.right=this.container.offsetWidth-r.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0);let l=Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0);if(n+this.element.offsetHeight>l)if(i)switch(s){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px"}else this.element.style.height=l+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new TN(this.table,e,this),this.childPopup}};class Rt extends Ei{constructor(e,n){super(e),this._handler=null}initialize(){}registerTableOption(e,n){this.table.optionsList.register(e,n)}registerColumnOption(e,n){this.table.columnManager.optionsList.register(e,n)}registerTableFunction(e,n){typeof this.table[e]>"u"?this.table[e]=(...i)=>(this.table.initGuard(e),n(...i)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,n,i){return this.table.componentFunctionBinder.bind(e,n,i)}registerDataHandler(e,n){this.table.rowManager.registerDataPipelineHandler(e,n),this._handler=e}registerDisplayHandler(e,n){this.table.rowManager.registerDisplayPipelineHandler(e,n),this._handler=e}displayRows(e){var n=this.table.rowManager.displayRows.length-1,i;if(this._handler&&(i=this.table.rowManager.displayPipeline.findIndex(r=>r.handler===this._handler),i>-1&&(n=i)),e&&(n=n+e),this._handler)return n>-1?this.table.rowManager.getDisplayRows(n):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,n){n||(n=this._handler),n&&this.table.rowManager.refreshActiveData(n,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,n){return new cG(this.table,e,n)}alert(e,n){return this.table.alertManager.alert(e,n)}clearAlert(){return this.table.alertManager.clear()}}var dG={rownum:function(t,e,n,i,r,s){return s.getPosition()}};const af=class af extends Rt{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var n=!1,i={};this.allowedTypes.forEach(r=>{var s="accessor"+(r.charAt(0).toUpperCase()+r.slice(1)),o;e.definition[s]&&(o=this.lookupAccessor(e.definition[s]),o&&(n=!0,i[s]={accessor:o,params:e.definition[s+"Params"]||{}}))}),n&&(e.modules.accessor=i)}lookupAccessor(e){var n=!1;switch(typeof e){case"string":af.accessors[e]?n=af.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":n=e;break}return n}transformRow(e,n){var i="accessor"+(n.charAt(0).toUpperCase()+n.slice(1)),r=e.getComponent(),s=un.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var l,c,d,f;o.modules.accessor&&(c=o.modules.accessor[i]||o.modules.accessor.accessor||!1,c&&(l=o.getFieldValue(s),l!="undefined"&&(f=o.getComponent(),d=typeof c.params=="function"?c.params(l,s,n,f,r):c.params,o.setFieldValue(s,c.accessor(l,s,n,d,f,r)))))}),s}};Ie(af,"moduleName","accessor"),Ie(af,"accessors",dG);let BC=af;var hG={method:"GET"};function UC(t,e){var n=[];if(e=e||"",Array.isArray(t))t.forEach((r,s)=>{n=n.concat(UC(r,e?e+"["+s+"]":s))});else if(typeof t=="object")for(var i in t)n=n.concat(UC(t[i],e?e+"["+i+"]":i));else n.push({key:e,value:t});return n}function fG(t){var e=UC(t),n=[];return e.forEach(function(i){n.push(encodeURIComponent(i.key)+"="+encodeURIComponent(i.value))}),n.join("&")}function _N(t,e,n){return t&&n&&Object.keys(n).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",t+=(t.includes("?")?"&":"?")+fG(n)),t}function pG(t,e,n){var i;return new Promise((r,s)=>{if(t=this.urlGenerator.call(this.table,t,e,n),e.method.toUpperCase()!="GET")if(i=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],i){for(var o in i.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=i.headers[o]);e.body=i.body.call(this,t,e,n)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);t?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(t,e).then(l=>{l.ok?l.json().then(c=>{r(c)}).catch(c=>{s(c),console.warn("Ajax Load Error - Invalid JSON returned",c)}):(console.error("Ajax Load Error - Connection Error: "+l.status,l.statusText),s(l))}).catch(l=>{console.error("Ajax Load Error - Connection Error: ",l),s(l)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})}function $C(t,e){var n=[];if(e=e||"",Array.isArray(t))t.forEach((r,s)=>{n=n.concat($C(r,e?e+"["+s+"]":s))});else if(typeof t=="object")for(var i in t)n=n.concat($C(t[i],e?e+"["+i+"]":i));else n.push({key:e,value:t});return n}var mG={json:{headers:{"Content-Type":"application/json"},body:function(t,e,n){return JSON.stringify(n)}},form:{headers:{},body:function(t,e,n){var i=$C(n),r=new FormData;return i.forEach(function(s){r.append(s.key,s.value)}),r}}};const io=class io extends Rt{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=io.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||io.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||io.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,n,i,r){var s=this.table.options.ajaxParams;return s&&(typeof s=="function"&&(s=s.call(this.table)),r=Object.assign(Object.assign({},s),r)),r}requestDataCheck(e,n,i,r){return!!(!e&&this.url||typeof e=="string")}requestData(e,n,i,r,s){var o;return!s&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(i),this.sendRequest(this.url,n,o)):s}setDefaultConfig(e={}){this.config=Object.assign({},io.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var n=Object.assign({},this.config);return typeof e=="string"?n.method=e:Object.assign(n,e),n}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,n,i){return this.table.options.ajaxRequesting.call(this.table,e,n)!==!1?this.loaderPromise(e,i,n).then(r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,e,n,r)),r)):Promise.reject()}};Ie(io,"moduleName","ajax"),Ie(io,"defaultConfig",hG),Ie(io,"defaultURLGenerator",_N),Ie(io,"defaultLoaderPromise",pG),Ie(io,"contentTypeFormatters",mG);let VC=io;var gG={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},vG={table:function(t){var e=[],n=!0,i=this.table.columnManager.columns,r=[],s=[];return t=t.split(`
`),t.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var l=i.find(function(c){return o&&c.definition.title&&o.trim()&&c.definition.title.trim()===o.trim()});l?r.push(l):n=!1}),n||(n=!0,r=[],e[0].forEach(function(o){var l=i.find(function(c){return o&&c.field&&o.trim()&&c.field.trim()===o.trim()});l?r.push(l):n=!1}),n||(r=this.table.columnManager.columnsByIndex)),n&&e.shift(),e.forEach(function(o){var l={};o.forEach(function(c,d){r[d]&&(l[r[d].field]=c)}),s.push(l)}),s):!1}},bG={copyToClipboard:["ctrl + 67","meta + 67"]},yG={copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},wG={keybindings:{bindings:bG,actions:yG}};const gu=class gu extends Rt{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var n,i,r;this.blocked||(e.preventDefault(),this.customSelection?(n=this.customSelection,this.table.options.clipboardCopyFormatter&&(n=this.table.options.clipboardCopyFormatter("plain",n))):(r=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),i=this.table.modules.export.generateHTMLTable(r),n=i?this.generatePlainContent(r):"",this.table.options.clipboardCopyFormatter&&(n=this.table.options.clipboardCopyFormatter("plain",n),i=this.table.options.clipboardCopyFormatter("html",i))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",n),i&&e.clipboardData.setData("text/html",i)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",n),i&&e.originalEvent.clipboardData.setData("text/html",i)),this.dispatchExternal("clipboardCopied",n,i),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var n=[];return e.forEach(i=>{var r=[];i.columns.forEach(s=>{var o="";if(s)if(i.type==="group"&&(s.value=s.component.getKey()),s.value===null)o="";else switch(typeof s.value){case"object":o=JSON.stringify(s.value);break;case"undefined":o="";break;default:o=s.value}r.push(o)}),n.push(r.join("	"))}),n.join(`
`)}copy(e,n){var i,r;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),i=window.getSelection(),i.toString()&&n&&(this.customSelection=i.toString()),i.removeAllRanges(),i.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(r=document.body.createTextRange(),r.moveToElementText(this.table.element),r.select()),document.execCommand("copy"),i&&i.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=gu.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=gu.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var n,i,r;this.checkPasteOrigin(e)&&(n=this.getPasteData(e),i=this.pasteParser.call(this,n),i?(e.preventDefault(),this.table.modExists("mutator")&&(i=this.mutateData(i)),r=this.pasteAction.call(this,i),this.dispatchExternal("clipboardPasted",n,i,r)):this.dispatchExternal("clipboardPasteError",n))}mutateData(e){var n=[];return Array.isArray(e)?e.forEach(i=>{n.push(this.table.modules.mutator.transformRow(i,"clipboard"))}):n=e,n}checkPasteOrigin(e){var n=!0,i=this.confirm("clipboard-paste",[e]);return(i||!["DIV","SPAN"].includes(e.target.tagName))&&(n=!1),n}getPasteData(e){var n;return window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?n=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(n=e.originalEvent.clipboardData.getData("text/plain")),n}};Ie(gu,"moduleName","clipboard"),Ie(gu,"moduleExtensions",wG),Ie(gu,"pasteActions",gG),Ie(gu,"pasteParsers",vG);let WC=gu;class xG{constructor(e){return this._row=e,new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._row.table.componentFunctionBinder.handle("row",n._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(n){e.push(n.getComponent())}),e}getCell(e){var n=this._row.getCell(e);return n?n.getComponent():!1}_getSelf(){return this._row}}class AN{constructor(e){return this._cell=e,new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._cell.table.componentFunctionBinder.handle("cell",n._cell,i)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,n){typeof n>"u"&&(n=!0),this._cell.setValue(e,n)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class ov extends Ei{constructor(e,n){super(e.table),this.table=e.table,this.column=e,this.row=n,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var e=this.element,n=this.column.getField(),i={top:"flex-start",bottom:"flex-end",middle:"center"},r={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=i[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=r[this.column.hozAlign]||"")),n&&e.setAttribute("tabulator-field",n),this.column.definition.cssClass){var s=this.column.definition.cssClass.split(" ");s.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,n,i){var r=this.setValueProcessData(e,n,i);r&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,n,i){var r=!1;return(this.value!==e||i)&&(r=!0,n&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),r&&this.dispatch("cell-value-changed",this),r}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new AN(this)),this.component}}class kN{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._column.table.componentFunctionBinder.handle("column",n._column,i)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(n){e.push(n.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(n){e.push(n.getComponent())}),e}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(e,n){return this._column.table.columnManager.scrollToColumn(this._column,e,n)}getTable(){return this._column.table}move(e,n){var i=this._column.table.columnManager.findColumn(e);i?this._column.table.columnManager.moveColumn(this._column,i,n):console.warn("Move Error - No matching column found:",i)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var n;return e===!0?n=this._column.reinitializeWidth(!0):n=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),n}}var MN={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};const Xc=class Xc extends Ei{constructor(e,n,i){super(n.table),this.definition=e,this.parent=n,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=i,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((r,s)=>{var o=new Xc(r,this);this.attachColumn(o)}),this.checkColumnVisibility()):n.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let n in e)typeof this.definition[n]>"u"&&(this.definition[n]=e[n]);this.definition=this.table.columnManager.optionsList.generate(Xc.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{Xc.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var n=e.cssClass.split(" ");n.forEach(i=>{this.element.classList.add(i)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,n=document.createElement("div");if(n.classList.add("tabulator-col-title"),e.headerWordWrap&&n.classList.add("tabulator-col-title-wrap"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",r=>{r.stopPropagation(),i.focus()}),i.addEventListener("mousedown",r=>{r.stopPropagation()}),i.addEventListener("change",()=>{e.title=i.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),n.appendChild(i),e.field?this.langBind("columns|"+e.field,r=>{i.value=r||e.title||"&nbsp;"}):i.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,r=>{this._formatColumnHeaderTitle(n,r||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(n,e.title||"&nbsp;");return n}_formatColumnHeaderTitle(e,n){var i=this.chain("column-format",[this,n,e],null,()=>n);switch(typeof i){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=i}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(n=>{this.element.classList.add(n)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var n=e,i=this.fieldStructure,r=i.length,s;for(let o=0;o<r&&(n=n[i[o]],s=n,!!n);o++);return s}_setFlatData(e,n){this.field&&(e[this.field]=n)}_setNestedData(e,n){var i=e,r=this.fieldStructure,s=r.length;for(let o=0;o<s;o++)if(o==s-1)i[r[o]]=n;else{if(!i[r[o]])if(typeof n<"u")i[r[o]]={};else break;i=i[r[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,n){var i=this.parent.isGroup?this.parent.getGroupElement().clientHeight:n||this.parent.getHeadersElement().clientHeight;this.element.style.height=i+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=i-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(r){r.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var n=[];return e?this.columns.forEach(i=>{n.push(i),n=n.concat(i.getColumns(!0))}):n=this.columns,n}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var n=[];return this.isGroup&&e&&(this.columns.forEach(function(i){n.push(i.getDefinition(!0))}),this.definition.columns=n),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(n){n.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,n){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,n),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,n){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.hide()}),this.dispatch("column-hide",this,n),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(n){n.visible&&(e+=n.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.table.initialized&&(this.element.style.width=e+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var n=this.columns.indexOf(e);n>-1&&this.columns.splice(n,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(n){n.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(n){n.row.heightInitialized&&(n.row.getElement().offsetParent!==null?(e.push(n.row),n.row.clearCellHeight()):n.row.heightInitialized=!1)}),e.forEach(function(n){n.calcHeight()}),e.forEach(function(n){n.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(n){n.visible&&(e+=n.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(n){n.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(n){n.setMaxWidth()})}delete(){return new Promise((e,n)=>{this.isGroup&&this.columns.forEach(function(r){r.delete()}),this.dispatch("column-delete",this);var i=this.cells.length;for(let r=0;r<i;r++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var n=new ov(this,e);return this.cells.push(n),n}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var n=this.table.columnManager.getColumnByIndex(e);return!n||n.visible?n:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var n=this.table.columnManager.getColumnByIndex(e);return!n||n.visible?n:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var n=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var s=r.getWidth();s>n&&(n=s)}),n)){var i=n+1;e?this.setWidth(i):(this.maxInitialWidth&&!e&&(i=Math.min(i,this.maxInitialWidth)),this.setWidthActual(i))}}}updateDefinition(e){var n;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(n=Object.assign({},this.getDefinition()),n=Object.assign(n,e),this.table.columnManager.addColumn(n,!1,this).then(i=>(n.field==this.field&&(this.field=!1),this.delete().then(()=>i.getComponent()))))}deleteCell(e){var n=this.cells.indexOf(e);n>-1&&this.cells.splice(n,1)}getComponent(){return this.component||(this.component=new kN(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof Xc?this.parent.getComponent():!1}};Ie(Xc,"defaultOptionList",MN);let td=Xc;class Aw{constructor(e){return this._row=e,new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._row.table.componentFunctionBinder.handle("row",n._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(n){e.push(n.getComponent())}),e}getCell(e){var n=this._row.getCell(e);return n?n.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,n){return this._row.table.rowManager.scrollToRow(this._row,e,n)}move(e,n){this._row.moveToRow(e,n)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class Di extends Ei{constructor(e,n,i="row"){super(n.table),this.parent=n,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,n){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,n),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,n)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var n=0,i=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(i=this.calcMinHeight(),n=this.calcMaxHeight(),e?this.height=Math.max(n,i):this.height=this.manualHeight?this.height:Math.max(n,i)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var e=0;return this.cells.forEach(function(n){var i=n.getHeight();i>e&&(e=i)}),e}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,n){(this.height!=e||n)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var n=this.cells.indexOf(e);n>-1&&this.cells.splice(n,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var n=this.element&&un.elVisible(this.element),i={},r;return new Promise((s,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,e)),r=this.chain("row-data-changing",[this,i,e],null,e);for(let l in r)this.data[l]=r[l];this.dispatch("row-data-save-after",this);for(let l in e)this.table.columnManager.getColumnsByFieldRoot(l).forEach(d=>{let f=this.getCell(d.getField());if(f){let m=d.getFieldValue(r);f.getValue()!==m&&(f.setValueProcessData(m),n&&f.cellRendered())}});n?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,n,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),s()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var n=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),n=this.cells.find(function(i){return i.column===e}),n}getCellIndex(e){return this.cells.findIndex(function(n){return n===e})}findCell(e){return this.cells.find(n=>n.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,n){var i=this.table.rowManager.findRow(e);i?(this.table.rowManager.moveRowActual(this,i,!n),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let n=0;n<e;n++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(n=>{n(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Aw(this)),this.component}}var CG={avg:function(t,e,n){var i=0,r=typeof n.precision<"u"?n.precision:2;return t.length&&(i=t.reduce(function(s,o){return Number(s)+Number(o)}),i=i/t.length,i=r!==!1?i.toFixed(r):i),parseFloat(i).toString()},max:function(t,e,n){var i=null,r=typeof n.precision<"u"?n.precision:!1;return t.forEach(function(s){s=Number(s),(s>i||i===null)&&(i=s)}),i!==null?r!==!1?i.toFixed(r):i:""},min:function(t,e,n){var i=null,r=typeof n.precision<"u"?n.precision:!1;return t.forEach(function(s){s=Number(s),(s<i||i===null)&&(i=s)}),i!==null?r!==!1?i.toFixed(r):i:""},sum:function(t,e,n){var i=0,r=typeof n.precision<"u"?n.precision:!1;return t.length&&t.forEach(function(s){s=Number(s),i+=isNaN(s)?0:Number(s)}),r!==!1?i.toFixed(r):i},concat:function(t,e,n){var i=0;return t.length&&(i=t.reduce(function(r,s){return String(r)+String(s)})),i},count:function(t,e,n){var i=0;return t.length&&t.forEach(function(r){r&&i++}),i},unique:function(t,e,n){var i=t.filter((r,s)=>(t||r===0)&&t.indexOf(r)===s);return i.length}};const vu=class vu extends Rt{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new td({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,n){return this.topRow&&n.unshift(this.topRow),this.botRow&&n.push(this.botRow),n}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var n=e.definition,i={topCalcParams:n.topCalcParams||{},botCalcParams:n.bottomCalcParams||{}};if(n.topCalc){switch(typeof n.topCalc){case"string":vu.calculations[n.topCalc]?i.topCalc=vu.calculations[n.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",n.topCalc);break;case"function":i.topCalc=n.topCalc;break}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(n.bottomCalc){switch(typeof n.bottomCalc){case"string":vu.calculations[n.bottomCalc]?i.botCalc=vu.calculations[n.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",n.bottomCalc);break;case"function":i.botCalc=n.bottomCalc;break}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var n,i;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(n=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),i=this.generateRow("top",n),this.topRow=i;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(i.getElement()),i.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),i=this.generateRow("bottom",n),this.botRow=i;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(i.getElement()),i.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(n=>{this.recalcGroup(n)})}}recalcGroup(e){var n,i;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(n=this.rowsToData(e.rows),i=this.generateRowData("bottom",n),e.calcs.bottom.updateData(i),e.calcs.bottom.reinitialize()),e.calcs.top&&(n=this.rowsToData(e.rows),i=this.generateRowData("top",n),e.calcs.top.updateData(i),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var n=[],i=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,r=this.table.modules.dataTree;return e.forEach(s=>{var o;n.push(s.getData()),i&&((o=s.modules.dataTree)!=null&&o.open)&&this.rowsToData(r.getFilteredTreeChildren(s)).forEach(l=>{n.push(s)})}),n}generateRow(e,n){var i=this.generateRowData(e,n),r;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),r=new Di(i,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),r.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),r.component=!1,r.getComponent=()=>(r.component||(r.component=new xG(r)),r.component),r.generateCells=()=>{var s=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var l=new ov(this.genColumn,r);l.getElement(),l.column=o,l.setWidth(),o.cells.push(l),s.push(l),o.visible||l.hide()}),r.cells=s},r}generateRowData(e,n){var i={},r=e=="top"?this.topCalcs:this.botCalcs,s=e=="top"?"topCalc":"botCalc",o,l;return r.forEach(function(c){var d=[];c.modules.columnCalcs&&c.modules.columnCalcs[s]&&(n.forEach(function(f){d.push(c.getFieldValue(f))}),l=s+"Params",o=typeof c.modules.columnCalcs[l]=="function"?c.modules.columnCalcs[l](d,n):c.modules.columnCalcs[l],c.setFieldValue(i,c.modules.columnCalcs[s](d,n,o)))}),i}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},n;return this.table.options.groupBy&&this.table.modExists("groupRows")?(n=this.table.modules.groupRows.getGroups(!0),n.forEach(i=>{e[i.getKey()]=this.getGroupResults(i)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var n=e._getSelf(),i=e.getSubGroups(),r={},s={};return i.forEach(o=>{r[o.getKey()]=this.getGroupResults(o)}),s={top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:r},s}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}};Ie(vu,"moduleName","columnCalcs"),Ie(vu,"calculations",CG);let GC=vu;class DN extends Rt{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),n.dataTreeBranchElement?n.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof n.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=n.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=n.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),n.dataTreeCollapseElement?typeof n.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=n.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?typeof n.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=n.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof n.dataTreeStartExpanded){case"boolean":this.startOpen=function(i,r){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(i,r){return n.dataTreeStartExpanded[r]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var n;e&&(n=this.table.rowManager.getRows(),n.forEach(i=>{this.reinitializeRowChildren(i)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(n=>{e=e.concat(this.getTreeChildren(n,!1,!0))}),e}rowDataChanged(e,n,i){this.redrawNeeded(i)&&(this.initializeRow(e),n&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var n=e.column.getField();n===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var n=e.getData()[this.field],i=Array.isArray(n),r=i||!i&&typeof n=="object"&&n!==null;!r&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!r&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:r?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&r?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&r?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:r}}reinitializeRowChildren(e){var n=this.getTreeChildren(e,!1,!0);n.forEach(function(i){i.reinitialize(!0)})}layoutRow(e){var n=this.elementField?e.getCell(this.elementField):e.getCells()[0],i=n.getElement(),r=e.modules.dataTree;r.branchEl&&(r.branchEl.parentNode&&r.branchEl.parentNode.removeChild(r.branchEl),r.branchEl=!1),r.controlEl&&(r.controlEl.parentNode&&r.controlEl.parentNode.removeChild(r.controlEl),r.controlEl=!1),this.generateControlElement(e,i),e.getElement().classList.add("tabulator-tree-level-"+r.index),r.index&&(this.branchEl?(r.branchEl=this.branchEl.cloneNode(!0),i.insertBefore(r.branchEl,i.firstChild),this.table.rtl?r.branchEl.style.marginRight=(r.branchEl.offsetWidth+r.branchEl.style.marginLeft)*(r.index-1)+r.index*this.indent+"px":r.branchEl.style.marginLeft=(r.branchEl.offsetWidth+r.branchEl.style.marginRight)*(r.index-1)+r.index*this.indent+"px"):this.table.rtl?i.style.paddingRight=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right"))+r.index*this.indent+"px":i.style.paddingLeft=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left"))+r.index*this.indent+"px")}generateControlElement(e,n){var i=e.modules.dataTree,r=i.controlEl;n=n||e.getCells()[0].getElement(),i.children!==!1&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.collapseRow(e)})):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.expandRow(e)})),i.controlEl.addEventListener("mousedown",s=>{s.stopPropagation()}),r&&r.parentNode===n?r.parentNode.replaceChild(i.controlEl,r):n.insertBefore(i.controlEl,n.firstChild))}getRows(e){var n=[];return e.forEach((i,r)=>{var s,o;n.push(i),i instanceof Di&&(i.create(),s=i.modules.dataTree,!s.index&&s.children!==!1&&(o=this.getChildren(i,!1,!0),o.forEach(l=>{l.create(),n.push(l)})))}),n}getChildren(e,n,i){var r=e.modules.dataTree,s=[],o=[];return r.children!==!1&&(r.open||n)&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(r.children):s=r.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(s,i),s.forEach(l=>{o.push(l);var c=this.getChildren(l,!1,!0);c.forEach(d=>{o.push(d)})})),o}generateChildren(e){var n=[],i=e.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach(r=>{var s=new Di(r||{},this.table.rowManager);s.create(),s.modules.dataTree.index=e.modules.dataTree.index+1,s.modules.dataTree.parent=e,s.modules.dataTree.children&&(s.modules.dataTree.open=this.startOpen(s.getComponent(),s.modules.dataTree.index)),n.push(s)}),n}expandRow(e,n){var i=e.modules.dataTree;i.children!==!1&&(i.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var n=e.modules.dataTree;n.children!==!1&&(n.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var n=e.modules.dataTree;n.children!==!1&&(n.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var n=e.modules.dataTree,i=[],r;return n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?r=this.table.modules.filter.filter(n.children):r=n.children,r.forEach(s=>{s instanceof Di&&i.push(s)})),i}rowDeleting(e){var n=e.modules.dataTree;n&&n.children&&Array.isArray(n.children)&&n.children.forEach(i=>{i instanceof Di&&i.wipe()})}rowDelete(e){var n=e.modules.dataTree.parent,i;n&&(i=this.findChildIndex(e,n),i!==!1&&n.data[this.field].splice(i,1),n.data[this.field].length||delete n.data[this.field],this.initializeRow(n),this.layoutRow(n)),this.refreshData(!0)}addTreeChildRow(e,n,i,r){var s=!1;typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof r<"u"&&(s=this.findChildIndex(r,e),s!==!1&&e.data[this.field].splice(i?s:s+1,0,n)),s===!1&&(i?e.data[this.field].unshift(n):e.data[this.field].push(n)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,n){var i=!1;return typeof e=="object"?e instanceof Di?i=e.data:e instanceof Aw?i=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?n.modules.dataTree&&(i=n.modules.dataTree.children.find(r=>r instanceof Di?r.element===e:!1),i&&(i=i.data)):e===null&&(i=!1):typeof e>"u"?i=!1:i=n.data[this.field].find(r=>r.data[this.table.options.index]==e),i&&(Array.isArray(n.data[this.field])&&(i=n.data[this.field].indexOf(i)),i==-1&&(i=!1)),i}getTreeChildren(e,n,i){var r=e.modules.dataTree,s=[];return r&&r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),r.children.forEach(o=>{o instanceof Di&&(s.push(n?o.getComponent():o),i&&this.getTreeChildren(o,n,i).forEach(l=>{s.push(l)}))})),s}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}Ie(DN,"moduleName","dataTree");function EG(t,e={},n){var i=e.delimiter?e.delimiter:",",r=[],s=[];t.forEach(o=>{var l=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((c,d)=>{c&&c.depth===1&&(s[d]=typeof c.value>"u"||c.value===null?"":'"'+String(c.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(c=>{if(c){switch(typeof c.value){case"object":c.value=c.value!==null?JSON.stringify(c.value):"";break;case"undefined":c.value="";break}l.push('"'+String(c.value).split('"').join('""')+'"')}}),r.push(l.join(i));break}}),s.length&&r.unshift(s.join(i)),r=r.join(`
`),e.bom&&(r="\uFEFF"+r),n(r,"text/csv")}function SG(t,e,n){var i=[];t.forEach(r=>{var s={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(o=>{o&&(s[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(s);break}}),i=JSON.stringify(i,null,"	"),n(i,"application/json")}function RG(t,e={},n){var i=[],r=[],s={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},c=e.jsPDF||{},d=e.title?e.title:"",f,m;c.orientation||(c.orientation=e.orientation||"landscape"),c.unit||(c.unit="pt"),t.forEach(w=>{switch(w.type){case"header":i.push(v(w));break;case"group":r.push(v(w,o));break;case"calc":r.push(v(w,l));break;case"row":r.push(v(w));break}});function v(w,C){var S=[];return w.columns.forEach(_=>{var R;if(_){switch(typeof _.value){case"object":_.value=_.value!==null?JSON.stringify(_.value):"";break;case"undefined":_.value="";break}R={content:_.value,colSpan:_.width,rowSpan:_.height},C&&(R.styles=C),S.push(R)}}),S}f=this.dependencyRegistry.lookup("jspdf","jsPDF"),m=new f(c),e.autoTable&&(typeof e.autoTable=="function"?s=e.autoTable(m)||{}:s=e.autoTable),d&&(s.didDrawPage=function(w){m.text(d,40,30)}),s.head=i,s.body=r,m.autoTable(s),e.documentProcessing&&e.documentProcessing(m),n(m.output("arraybuffer"),"application/pdf")}function TG(t,e,n){var i=this,r=e.sheetName||"Sheet1",s=this.dependencyRegistry.lookup("XLSX"),o=s.utils.book_new(),l=new Ei(this),c="compress"in e?e.compress:!0,d=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:c},f;d.type="binary",o.SheetNames=[],o.Sheets={};function m(){var C=[],S=[],_={},R={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((M,k)=>M+(k&&k.width?k.width:1),0):0,r:t.length}};return t.forEach((M,k)=>{var D=[];M.columns.forEach(function(P,O){P?(D.push(!(P.value instanceof Date)&&typeof P.value=="object"?JSON.stringify(P.value):P.value),(P.width>1||P.height>-1)&&(P.height>1||P.width>1)&&S.push({s:{r:k,c:O},e:{r:k+P.height-1,c:O+P.width-1}})):D.push("")}),C.push(D)}),s.utils.sheet_add_aoa(_,C),_["!ref"]=s.utils.encode_range(R),S.length&&(_["!merges"]=S),_}if(e.sheetOnly){n(m());return}if(e.sheets)for(var v in e.sheets)e.sheets[v]===!0?(o.SheetNames.push(v),o.Sheets[v]=m()):(o.SheetNames.push(v),l.commsSend(e.sheets[v],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:i.active,intercept:function(C){o.Sheets[v]=C}}));else o.SheetNames.push(r),o.Sheets[r]=m();e.documentProcessing&&(o=e.documentProcessing(o));function w(C){for(var S=new ArrayBuffer(C.length),_=new Uint8Array(S),R=0;R!=C.length;++R)_[R]=C.charCodeAt(R)&255;return S}f=s.write(o,d),n(w(f),"application/octet-stream")}function _G(t,e,n){this.modExists("export",!0)&&n(this.modules.export.generateHTMLTable(t),"text/html")}function AG(t,e,n){const i=[];t.forEach(r=>{const s={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(o=>{o&&(s[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(JSON.stringify(s));break}}),n(i.join(`
`),"application/x-ndjson")}var kG={csv:EG,json:SG,jsonLines:AG,pdf:RG,xlsx:TG,html:_G};const lf=class lf extends Rt{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(n,i){return new Blob([n],{type:i})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,n,i,r){this.download(e,n,i,r,!0)}download(e,n,i,r,s){var o=!1;function l(d,f){s?s===!0?this.triggerDownload(d,f,e,n,!0):s(d):this.triggerDownload(d,f,e,n)}if(typeof e=="function"?o=e:lf.downloaders[e]?o=lf.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var c=this.generateExportList(r);o.call(this.table,c,i||{},l.bind(this))}}generateExportList(e){var n=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),i=this.table.options.groupHeaderDownload;return i&&!Array.isArray(i)&&(i=[i]),n.forEach(r=>{var s;r.type==="group"&&(s=r.columns[0],i&&i[r.indent]&&(s.value=i[r.indent](s.value,r.component._group.getRowCount(),r.component._group.getData(),r.component)))}),n}triggerDownload(e,n,i,r,s){var o=document.createElement("a"),l=this.table.options.downloadEncoder(e,n);l&&(s?window.open(window.URL.createObjectURL(l)):(r=r||"Tabulator."+(typeof i=="function"?"txt":i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(l,r):(o.setAttribute("href",window.URL.createObjectURL(l)),o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,n,i){switch(n){case"intercept":this.download(i.type,"",i.options,i.active,i.intercept);break}}};Ie(lf,"moduleName","download"),Ie(lf,"downloaders",kG);let qC=lf;function kw(t,e){var n=e.mask,i=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",r=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",s=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(l){var c=n[l];typeof c<"u"&&c!==s&&c!==i&&c!==r&&(t.value=t.value+""+c,o(l+1))}t.addEventListener("keydown",l=>{var c=t.value.length,d=l.key;if(l.keyCode>46&&!l.ctrlKey&&!l.metaKey){if(c>=n.length)return l.preventDefault(),l.stopPropagation(),!1;switch(n[c]){case i:if(d.toUpperCase()==d.toLowerCase())return l.preventDefault(),l.stopPropagation(),!1;break;case r:if(isNaN(d))return l.preventDefault(),l.stopPropagation(),!1;break;case s:break;default:if(d!==n[c])return l.preventDefault(),l.stopPropagation(),!1}}}),t.addEventListener("keyup",l=>{l.keyCode>46&&e.maskAutoFill&&o(t.value.length)}),t.placeholder||(t.placeholder=n),e.maskAutoFill&&o(t.value.length)}function MG(t,e,n,i,r){var s=t.getValue(),o=document.createElement("input");if(o.setAttribute("type",r.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let c in r.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),o.setAttribute(c,o.getAttribute(c)+r.elementAttributes["+"+c])):o.setAttribute(c,r.elementAttributes[c]);o.value=typeof s<"u"?s:"",e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%",r.selectContents&&o.select())});function l(c){(s===null||typeof s>"u")&&o.value!==""||o.value!==s?n(o.value)&&(s=o.value):i()}return o.addEventListener("change",l),o.addEventListener("blur",l),o.addEventListener("keydown",function(c){switch(c.keyCode){case 13:l();break;case 27:i();break;case 35:case 36:c.stopPropagation();break}}),r.mask&&kw(o,r),o}function DG(t,e,n,i,r){var s=t.getValue(),o=r.verticalNavigation||"hybrid",l=String(s!==null&&typeof s<"u"?s:""),c=document.createElement("textarea"),d=0;if(c.style.display="block",c.style.padding="2px",c.style.height="100%",c.style.width="100%",c.style.boxSizing="border-box",c.style.whiteSpace="pre-wrap",c.style.resize="none",r.elementAttributes&&typeof r.elementAttributes=="object")for(let m in r.elementAttributes)m.charAt(0)=="+"?(m=m.slice(1),c.setAttribute(m,c.getAttribute(m)+r.elementAttributes["+"+m])):c.setAttribute(m,r.elementAttributes[m]);c.value=l,e(function(){t.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",c.scrollHeight,c.style.height=c.scrollHeight+"px",t.getRow().normalizeHeight(),r.selectContents&&c.select())});function f(m){(s===null||typeof s>"u")&&c.value!==""||c.value!==s?(n(c.value)&&(s=c.value),setTimeout(function(){t.getRow().normalizeHeight()},300)):i()}return c.addEventListener("change",f),c.addEventListener("blur",f),c.addEventListener("keyup",function(){c.style.height="";var m=c.scrollHeight;c.style.height=m+"px",m!=d&&(d=m,t.getRow().normalizeHeight())}),c.addEventListener("keydown",function(m){switch(m.keyCode){case 13:m.shiftKey&&r.shiftEnterSubmit&&f();break;case 27:i();break;case 38:(o=="editor"||o=="hybrid"&&c.selectionStart)&&(m.stopImmediatePropagation(),m.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&c.selectionStart!==c.value.length)&&(m.stopImmediatePropagation(),m.stopPropagation());break;case 35:case 36:m.stopPropagation();break}}),r.mask&&kw(c,r),c}function NG(t,e,n,i,r){var s=t.getValue(),o=r.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),typeof r.max<"u"&&l.setAttribute("max",r.max),typeof r.min<"u"&&l.setAttribute("min",r.min),typeof r.step<"u"&&l.setAttribute("step",r.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let f in r.elementAttributes)f.charAt(0)=="+"?(f=f.slice(1),l.setAttribute(f,l.getAttribute(f)+r.elementAttributes["+"+f])):l.setAttribute(f,r.elementAttributes[f]);l.value=s;var c=function(f){d()};e(function(){t.getType()==="cell"&&(l.removeEventListener("blur",c),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",c),r.selectContents&&l.select())});function d(){var f=l.value;!isNaN(f)&&f!==""&&(f=Number(f)),f!==s?n(f)&&(s=f):i()}return l.addEventListener("keydown",function(f){switch(f.keyCode){case 13:d();break;case 27:i();break;case 38:case 40:o=="editor"&&(f.stopImmediatePropagation(),f.stopPropagation());break;case 35:case 36:f.stopPropagation();break}}),r.mask&&kw(l,r),l}function LG(t,e,n,i,r){var s=t.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof r.max<"u"&&o.setAttribute("max",r.max),typeof r.min<"u"&&o.setAttribute("min",r.min),typeof r.step<"u"&&o.setAttribute("step",r.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let c in r.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),o.setAttribute(c,o.getAttribute(c)+r.elementAttributes["+"+c])):o.setAttribute(c,r.elementAttributes[c]);o.value=s,e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%")});function l(){var c=o.value;!isNaN(c)&&c!==""&&(c=Number(c)),c!=s?n(c)&&(s=c):i()}return o.addEventListener("blur",function(c){l()}),o.addEventListener("keydown",function(c){switch(c.keyCode){case 13:l();break;case 27:i();break}}),o}function OG(t,e,n,i,r){var s=r.format,o=r.verticalNavigation||"editor",l=s?window.DateTime||luxon.DateTime:null,c=t.getValue(),d=document.createElement("input");function f(v){var w;return l.isDateTime(v)?w=v:s==="iso"?w=l.fromISO(String(v)):w=l.fromFormat(String(v),s),w.toFormat("yyyy-MM-dd")}if(d.type="date",d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",r.max&&d.setAttribute("max",s?f(r.max):r.max),r.min&&d.setAttribute("min",s?f(r.min):r.min),r.elementAttributes&&typeof r.elementAttributes=="object")for(let v in r.elementAttributes)v.charAt(0)=="+"?(v=v.slice(1),d.setAttribute(v,d.getAttribute(v)+r.elementAttributes["+"+v])):d.setAttribute(v,r.elementAttributes[v]);c=typeof c<"u"?c:"",s&&(l?c=f(c):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),d.value=c,e(function(){t.getType()==="cell"&&(d.focus({preventScroll:!0}),d.style.height="100%",r.selectContents&&d.select())});function m(){var v=d.value,w;if((c===null||typeof c>"u")&&v!==""||v!==c){if(v&&s)switch(w=l.fromFormat(String(v),"yyyy-MM-dd"),s){case!0:v=w;break;case"iso":v=w.toISO();break;default:v=w.toFormat(s)}n(v)&&(c=d.value)}else i()}return d.addEventListener("blur",function(v){(v.relatedTarget||v.rangeParent||v.explicitOriginalTarget!==d)&&m()}),d.addEventListener("keydown",function(v){switch(v.keyCode){case 13:m();break;case 27:i();break;case 35:case 36:v.stopPropagation();break;case 38:case 40:o=="editor"&&(v.stopImmediatePropagation(),v.stopPropagation());break}}),d}function PG(t,e,n,i,r){var s=r.format,o=r.verticalNavigation||"editor",l=s?window.DateTime||luxon.DateTime:null,c,d=t.getValue(),f=document.createElement("input");if(f.type="time",f.style.padding="4px",f.style.width="100%",f.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let v in r.elementAttributes)v.charAt(0)=="+"?(v=v.slice(1),f.setAttribute(v,f.getAttribute(v)+r.elementAttributes["+"+v])):f.setAttribute(v,r.elementAttributes[v]);d=typeof d<"u"?d:"",s&&(l?(l.isDateTime(d)?c=d:s==="iso"?c=l.fromISO(String(d)):c=l.fromFormat(String(d),s),d=c.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),f.value=d,e(function(){t.getType()=="cell"&&(f.focus({preventScroll:!0}),f.style.height="100%",r.selectContents&&f.select())});function m(){var v=f.value,w;if((d===null||typeof d>"u")&&v!==""||v!==d){if(v&&s)switch(w=l.fromFormat(String(v),"hh:mm"),s){case!0:v=w;break;case"iso":v=w.toISO();break;default:v=w.toFormat(s)}n(v)&&(d=f.value)}else i()}return f.addEventListener("blur",function(v){(v.relatedTarget||v.rangeParent||v.explicitOriginalTarget!==f)&&m()}),f.addEventListener("keydown",function(v){switch(v.keyCode){case 13:m();break;case 27:i();break;case 35:case 36:v.stopPropagation();break;case 38:case 40:o=="editor"&&(v.stopImmediatePropagation(),v.stopPropagation());break}}),f}function jG(t,e,n,i,r){var s=r.format,o=r.verticalNavigation||"editor",l=s?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,c,d=t.getValue(),f=document.createElement("input");if(f.type="datetime-local",f.style.padding="4px",f.style.width="100%",f.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let v in r.elementAttributes)v.charAt(0)=="+"?(v=v.slice(1),f.setAttribute(v,f.getAttribute(v)+r.elementAttributes["+"+v])):f.setAttribute(v,r.elementAttributes[v]);d=typeof d<"u"?d:"",s&&(l?(l.isDateTime(d)?c=d:s==="iso"?c=l.fromISO(String(d)):c=l.fromFormat(String(d),s),d=c.toFormat("yyyy-MM-dd")+"T"+c.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),f.value=d,e(function(){t.getType()==="cell"&&(f.focus({preventScroll:!0}),f.style.height="100%",r.selectContents&&f.select())});function m(){var v=f.value,w;if((d===null||typeof d>"u")&&v!==""||v!==d){if(v&&s)switch(w=l.fromISO(String(v)),s){case!0:v=w;break;case"iso":v=w.toISO();break;default:v=w.toFormat(s)}n(v)&&(d=f.value)}else i()}return f.addEventListener("blur",function(v){(v.relatedTarget||v.rangeParent||v.explicitOriginalTarget!==f)&&m()}),f.addEventListener("keydown",function(v){switch(v.keyCode){case 13:m();break;case 27:i();break;case 35:case 36:v.stopPropagation();break;case 38:case 40:o=="editor"&&(v.stopImmediatePropagation(),v.stopPropagation());break}}),f}let IG=class{constructor(e,n,i,r,s,o){this.edit=e,this.table=e.table,this.cell=n,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=n.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:r,cancel:s},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function n(i){i.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",n),setTimeout(()=>{e.removeEventListener("click",n)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,n=document.createElement("input");if(n.setAttribute("type",this.params.clearable?"search":"text"),n.style.padding="4px",n.style.width="100%",n.style.boxSizing="border-box",this.params.autocomplete||(n.style.cursor="default",n.style.caretColor="transparent"),e&&typeof e=="object")for(let i in e)i.charAt(0)=="+"?(i=i.slice(1),n.setAttribute(i,n.getAttribute(i)+e["+"+i])):n.setAttribute(i,e[i]);return this.params.mask&&kw(n,this.params),this._bindInputEvents(n),n}_initializeParams(e){var n=["values","valuesURL","valuesLookup"],i;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",i=Object.keys(e).filter(r=>n.includes(r)).length,i?i>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var n=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&n)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),n>0&&this._focusItem(this.displayItems[n-1]))}_keyDown(e){var n=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&n<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),n<this.displayItems.length-1&&(n==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[n+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var n=String.fromCharCode(e).toLowerCase();this.filterTerm+=n.toLowerCase();var i=this.displayItems.find(r=>typeof r.label<"u"&&r.label.toLowerCase().startsWith(this.filterTerm));i&&this._focusItem(i),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var n=[],i=++this.listIteration;return this.filtered=!1,this.params.values?n=this.params.values:this.params.valuesURL?n=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?n=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(n=this._uniqueColumnValues(this.params.valuesLookupField)),n instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),n.then().then(r=>this.listIteration===i?this._parseList(r):Promise.reject(i))):Promise.resolve(this._parseList(n))}_addPlaceholder(e){var n=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?n=e:(n.classList.add("tabulator-edit-list-placeholder"),n.innerHTML=e),this.listEl.appendChild(n),this._showList())}_ajaxRequest(e,n){var i=this.params.filterRemote?{term:n}:{};return e=_N(e,{},i),fetch(e).then(r=>r.ok?r.json().catch(s=>(console.warn("List Ajax Load Error - Invalid JSON returned",s),Promise.reject(s))):(console.error("List Ajax Load Error - Connection Error: "+r.status,r.statusText),Promise.reject(r))).catch(r=>(console.error("List Ajax Load Error - Connection Error: ",r),Promise.reject(r)))}_uniqueColumnValues(e){var n={},i=this.table.getData(this.params.valuesLookup),r;return e?r=this.table.columnManager.getColumnByField(e):r=this.cell.getColumn()._getSelf(),r?i.forEach(s=>{var o=r.getFieldValue(s);this._emptyValueCheck(o)||(this.params.multiselect&&Array.isArray(o)?o.forEach(l=>{this._emptyValueCheck(l)||(n[l]=!0)}):n[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),n=[]),Object.keys(n)}_emptyValueCheck(e){return e===null||typeof e>"u"||e===""}_parseList(e){var n=[];return Array.isArray(e)||(e=Object.entries(e).map(([i,r])=>({label:r,value:i}))),e.forEach(i=>{typeof i!="object"&&(i={label:i,value:i}),this._parseListItem(i,n,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=n,n}_parseListItem(e,n,i){var r={};e.options?r=this._parseListGroup(e,i+1):(r={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(r,!0)),n.push(r)}_parseListGroup(e,n){var i={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:n,options:[],original:e};return e.options.forEach(r=>{this._parseListItem(r,i.options,n)}),i}_sortOptions(e){var n;return this.params.sort&&(n=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(n,e)),e}_sortGroup(e,n){n.sort((i,r)=>e(i.label,r.label,i.value,r.value,i.original,r.original)),n.forEach(i=>{i.group&&this._sortGroup(e,i.options)})}_defaultSortFunction(e,n){var i,r,s,o,l=0,c,d=/(\d+)|(\D+)/g,f=/\d/,m=0;if(this.params.sort==="desc"&&([e,n]=[n,e]),!e&&e!==0)m=!n&&n!==0?0:-1;else if(!n&&n!==0)m=1;else{if(isFinite(e)&&isFinite(n))return e-n;if(i=String(e).toLowerCase(),r=String(n).toLowerCase(),i===r)return 0;if(!(f.test(i)&&f.test(r)))return i>r?1:-1;for(i=i.match(d),r=r.match(d),c=i.length>r.length?r.length:i.length;l<c;)if(s=i[l],o=r[l++],s!==o)return isFinite(s)&&isFinite(o)?(s.charAt(0)==="0"&&(s="."+s),o.charAt(0)==="0"&&(o="."+o),s-o):s>o?1:-1;return i.length>r.length}return m}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,n=this.input.value;return n?(this.filtered=!0,this.data.forEach(i=>{this._filterItem(e,n,i)})):this.filtered=!1,this.data}_filterItem(e,n,i){var r=!1;return i.group?(i.options.forEach(s=>{this._filterItem(e,n,s)&&(r=!0)}),i.visible=r):i.visible=e(n,i.label,i.value,i.original),i.visible}_defaultFilterFunc(e,n,i,r){return e=String(e).toLowerCase(),n!==null&&typeof n<"u"&&(String(n).toLowerCase().indexOf(e)>-1||String(i).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(n=>{this._buildItem(n)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var n=e.element,i;if(!this.filtered||e.visible){if(!n){if(n=document.createElement("div"),n.tabIndex=0,i=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,n):e.label,i instanceof HTMLElement?n.appendChild(i):n.innerHTML=i,e.group?n.classList.add("tabulator-edit-list-group"):n.classList.add("tabulator-edit-list-item"),n.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let r in e.elementAttributes)r.charAt(0)=="+"?(r=r.slice(1),n.setAttribute(r,this.input.getAttribute(r)+e.elementAttributes["+"+r])):n.setAttribute(r,e.elementAttributes[r]);e.group?n.addEventListener("click",this._groupClick.bind(this,e)):n.addEventListener("click",this._itemClick.bind(this,e)),n.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=n}this._styleItem(e),this.listEl.appendChild(n),e.group?e.options.forEach(r=>{this._buildItem(r)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,n){n.stopPropagation(),this._chooseItem(e)}_groupClick(e,n){n.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,n){var i;this.typing=!1,this.params.multiselect?(i=this.currentItems.indexOf(e),i>-1?(this.currentItems.splice(i,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(r=>r.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),n||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var n,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)n=this.currentItems.map(r=>r.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")n=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?n=this.currentItems[0].value:(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,i===null||typeof i>"u"||i===""?n=i:n=this.params.emptyValue);n===""&&(n=this.params.emptyValue),this.actions.success(n),this.isFilter&&(this.initialValues=n&&!Array.isArray(n)?[n]:n,this.currentItems=[])}};function zG(t,e,n,i,r){var s=new IG(this,t,e,n,i,r);return s.input}function FG(t,e,n,i,r){var s=this,o=t.getElement(),l=t.getValue(),c=o.getElementsByTagName("svg").length||5,d=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,f=[],m=document.createElement("div"),v=document.createElementNS("http://www.w3.org/2000/svg","svg");function w(R){f.forEach(function(M,k){k<R?(s.table.browser=="ie"?M.setAttribute("class","tabulator-star-active"):M.classList.replace("tabulator-star-inactive","tabulator-star-active"),M.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(s.table.browser=="ie"?M.setAttribute("class","tabulator-star-inactive"):M.classList.replace("tabulator-star-active","tabulator-star-inactive"),M.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function C(R){var M=document.createElement("span"),k=v.cloneNode(!0);f.push(k),M.addEventListener("mouseenter",function(D){D.stopPropagation(),D.stopImmediatePropagation(),w(R)}),M.addEventListener("mousemove",function(D){D.stopPropagation(),D.stopImmediatePropagation()}),M.addEventListener("click",function(D){D.stopPropagation(),D.stopImmediatePropagation(),n(R),o.blur()}),M.appendChild(k),m.appendChild(M)}function S(R){l=R,w(R)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",m.style.verticalAlign="middle",m.style.display="inline-block",m.style.padding="4px",v.setAttribute("width",d),v.setAttribute("height",d),v.setAttribute("viewBox","0 0 512 512"),v.setAttribute("xml:space","preserve"),v.style.padding="0 1px",r.elementAttributes&&typeof r.elementAttributes=="object")for(let R in r.elementAttributes)R.charAt(0)=="+"?(R=R.slice(1),m.setAttribute(R,m.getAttribute(R)+r.elementAttributes["+"+R])):m.setAttribute(R,r.elementAttributes[R]);for(var _=1;_<=c;_++)C(_);return l=Math.min(parseInt(l),c),w(l),m.addEventListener("mousemove",function(R){w(0)}),m.addEventListener("click",function(R){n(0)}),o.addEventListener("blur",function(R){i()}),o.addEventListener("keydown",function(R){switch(R.keyCode){case 39:S(l+1);break;case 37:S(l-1);break;case 13:n(l);break;case 27:i();break}}),m}function HG(t,e,n,i,r){var s=t.getElement(),o=typeof r.max>"u"?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,l=typeof r.min>"u"?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,c=(o-l)/100,d=t.getValue()||0,f=document.createElement("div"),m=document.createElement("div"),v,w;function C(){var S=window.getComputedStyle(s,null),_=c*Math.round(m.offsetWidth/((s.clientWidth-parseInt(S.getPropertyValue("padding-left"))-parseInt(S.getPropertyValue("padding-right")))/100))+l;n(_),s.setAttribute("aria-valuenow",_),s.setAttribute("aria-label",d)}if(f.style.position="absolute",f.style.right="0",f.style.top="0",f.style.bottom="0",f.style.width="5px",f.classList.add("tabulator-progress-handle"),m.style.display="inline-block",m.style.position="relative",m.style.height="100%",m.style.backgroundColor="#488CE9",m.style.maxWidth="100%",m.style.minWidth="0%",r.elementAttributes&&typeof r.elementAttributes=="object")for(let S in r.elementAttributes)S.charAt(0)=="+"?(S=S.slice(1),m.setAttribute(S,m.getAttribute(S)+r.elementAttributes["+"+S])):m.setAttribute(S,r.elementAttributes[S]);return s.style.padding="4px 4px",d=Math.min(parseFloat(d),o),d=Math.max(parseFloat(d),l),d=Math.round((d-l)/c),m.style.width=d+"%",s.setAttribute("aria-valuemin",l),s.setAttribute("aria-valuemax",o),m.appendChild(f),f.addEventListener("mousedown",function(S){v=S.screenX,w=m.offsetWidth}),f.addEventListener("mouseover",function(){f.style.cursor="ew-resize"}),s.addEventListener("mousemove",function(S){v&&(m.style.width=w+S.screenX-v+"px")}),s.addEventListener("mouseup",function(S){v&&(S.stopPropagation(),S.stopImmediatePropagation(),v=!1,w=!1,C())}),s.addEventListener("keydown",function(S){switch(S.keyCode){case 39:S.preventDefault(),m.style.width=m.clientWidth+s.clientWidth/100+"px";break;case 37:S.preventDefault(),m.style.width=m.clientWidth-s.clientWidth/100+"px";break;case 9:case 13:C();break;case 27:i();break}}),s.addEventListener("blur",function(){i()}),m}function BG(t,e,n,i,r){var s=t.getValue(),o=document.createElement("input"),l=r.tristate,c=typeof r.indeterminateValue>"u"?null:r.indeterminateValue,d=!1,f=Object.keys(r).includes("trueValue"),m=Object.keys(r).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let w in r.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),o.setAttribute(w,o.getAttribute(w)+r.elementAttributes["+"+w])):o.setAttribute(w,r.elementAttributes[w]);o.value=s,l&&(typeof s>"u"||s===c||s==="")&&(d=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){t.getType()==="cell"&&o.focus({preventScroll:!0})}),o.checked=f?s===r.trueValue:s===!0||s==="true"||s==="True"||s===1;function v(w){var C=o.checked;return f&&C?C=r.trueValue:m&&!C&&(C=r.falseValue),l?w?d?c:C:o.checked&&!d?(o.checked=!1,o.indeterminate=!0,d=!0,c):(d=!1,C):C}return o.addEventListener("change",function(w){n(v())}),o.addEventListener("blur",function(w){n(v(!0))}),o.addEventListener("keydown",function(w){w.keyCode==13&&n(v()),w.keyCode==27&&i()}),o}function UG(t,e,n,i,r){var s=t._getSelf().column,o,l,c;function d(f){var m=f.getValue(),v="input";switch(typeof m){case"number":v="number";break;case"boolean":v="tickCross";break;case"string":m.includes(`
`)&&(v="textarea");break}return v}return o=r.editorLookup?r.editorLookup(t):d(t),r.paramsLookup&&(c=typeof r.paramsLookup=="function"?r.paramsLookup(o,t):r.paramsLookup[o]),l=this.table.modules.edit.lookupEditor(o,s),l.call(this,t,e,n,i,c||{})}var $G={input:MG,textarea:DG,number:NG,range:LG,date:OG,time:PG,datetime:jG,list:zG,star:FG,progress:HG,tickCross:BG,adaptable:UG};const yg=class yg extends Rt{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=yg.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var n=this.currentCell,i=this.options("tabEndNewRow");n&&(this.navigateNext(n,e)||i&&(n.getElement().firstChild.blur(),this.invalidEdit||(i===!0?i=this.table.addRow({}):typeof i=="function"?i=this.table.addRow(i(n.row.getComponent())):i=this.table.addRow(Object.assign({},i)),i.then(()=>{setTimeout(()=>{n.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(n=>{this.table.modules.edit.clearEdited(n._getSelf())})}navigatePrev(e=this.currentCell,n){var i,r;if(e){if(n&&n.preventDefault(),i=this.navigateLeft(),i)return!0;if(r=this.table.rowManager.prevDisplayRow(e.row,!0),r&&(i=this.findPrevEditableCell(r,r.cells.length),i))return i.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,n){var i,r;if(e){if(n&&n.preventDefault(),i=this.navigateRight(),i)return!0;if(r=this.table.rowManager.nextDisplayRow(e.row,!0),r&&(i=this.findNextEditableCell(r,-1),i))return i.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,n){var i,r;return e&&(n&&n.preventDefault(),i=e.getIndex(),r=this.findPrevEditableCell(e.row,i),r)?(r.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,n){var i,r;return e&&(n&&n.preventDefault(),i=e.getIndex(),r=this.findNextEditableCell(e.row,i),r)?(r.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,n){var i,r;return e&&(n&&n.preventDefault(),i=e.getIndex(),r=this.table.rowManager.prevDisplayRow(e.row,!0),r)?(r.cells[i].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,n){var i,r;return e&&(n&&n.preventDefault(),i=e.getIndex(),r=this.table.rowManager.nextDisplayRow(e.row,!0),r)?(r.cells[i].getComponent().edit(),!0):!1}findNextEditableCell(e,n){var i=!1;if(n<e.cells.length-1)for(var r=n+1;r<e.cells.length;r++){let s=e.cells[r];if(s.column.modules.edit&&un.elVisible(s.getElement())&&this.allowEdit(s)){i=s;break}}return i}findPrevEditableCell(e,n){var i=!1;if(n>0)for(var r=n-1;r>=0;r--){let s=e.cells[r];if(s.column.modules.edit&&un.elVisible(s.getElement())&&this.allowEdit(s)){i=s;break}}return i}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(n=>{n.column.modules.edit&&typeof n.column.modules.edit.check=="function"&&this.updateCellClass(n)})}initializeColumn(e){var n=Object.keys(e.definition).includes("editorEmptyValue"),i={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:n,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};i.editor=this.lookupEditor(e.definition.editor,e),i.editor&&(e.modules.edit=i)}lookupEditor(e,n){var i;switch(typeof e){case"string":this.editors[e]?i=this.editors[e]:console.warn("Editor Error - No such editor found: ",e);break;case"function":i=e;break;case"boolean":e===!0&&(typeof n.definition.formatter!="function"?this.editors[n.definition.formatter]?i=this.editors[n.definition.formatter]:i=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",n.definition.formatter));break}return i}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var n=this.currentCell,i;if(this.invalidEdit=!1,n){for(this.currentCell=!1,i=n.getElement(),this.dispatch("edit-editor-clear",n,e),i.classList.remove("tabulator-editing");i.firstChild;)i.removeChild(i.firstChild);n.row.getElement().classList.remove("tabulator-editing"),n.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,n=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,n),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",n)}}bindEditor(e){if(e.column.modules.edit){var n=this,i=e.getElement(!0);this.updateCellClass(e),i.setAttribute("tabindex",0),i.addEventListener("mousedown",function(r){r.button===2?r.preventDefault():n.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&i.addEventListener("dblclick",function(r){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),n.edit(e,r,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&i.addEventListener("click",function(r){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),n.edit(e,r,!1))}),this.options("editTriggerEvent")==="focus"&&i.addEventListener("focus",function(r){n.recursionBlock||n.edit(e,r,!1)})}}focusCellNoEvent(e,n){this.recursionBlock=!0,n&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,n){this.focusCellNoEvent(e),this.edit(e,!1,n)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var n=this.table.rowManager.element.scrollTop,i=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,r=e.row.getElement();r.offsetTop<n?this.table.rowManager.element.scrollTop-=n-r.offsetTop:r.offsetTop+r.offsetHeight>i&&(this.table.rowManager.element.scrollTop+=r.offsetTop+r.offsetHeight-i);var s=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,l=e.getElement();this.table.modExists("frozenColumns")&&(s+=parseInt(this.table.modules.frozenColumns.leftMargin||0),o-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(s-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),l.offsetLeft<s?this.table.rowManager.element.scrollLeft-=s-l.offsetLeft:l.offsetLeft+l.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=l.offsetLeft+l.offsetWidth-o)}}allowEdit(e){var n=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(n=e.column.modules.edit.check(e.getComponent()));break;case"string":n=!!e.row.data[e.column.modules.edit.check];break;case"boolean":n=e.column.modules.edit.check;break}return n}edit(e,n,i){var r=this,s=!0,o=function(){},l=e.getElement(),c=!1,d,f,m;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function v(R){if(r.currentCell===e&&!c){var M=r.chain("edit-success",[e,R],!0,!0);return M===!0||r.table.options.validationMode==="highlight"?(c=!0,r.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,r.editedCells.indexOf(e)==-1&&r.editedCells.push(e),R=r.transformEmptyValues(R,e),e.setValue(R,!0),M===!0):(c=!0,r.invalidEdit=!0,r.focusCellNoEvent(e,!0),o(),setTimeout(()=>{c=!1},10),!1)}}function w(){r.currentCell===e&&!c&&r.cancelEdit()}function C(R){o=R}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(l),!1;if(n&&n.stopPropagation(),s=this.allowEdit(e),s||i){if(r.cancelEdit(),r.currentCell=e,this.focusScrollAdjust(e),f=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,n,f)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,f),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",f),m=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(f):e.column.modules.edit.params,d=e.column.modules.edit.editor.call(r,f,C,v,w,m),this.currentCell&&d!==!1)if(d instanceof Node){for(l.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);l.appendChild(d),o();for(var S=l.children,_=0;_<S.length;_++)S[_].addEventListener("click",function(R){R.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",d),this.blur(l),!1;else return this.blur(l),!1;return!0}else return this.mouseClick=!1,this.blur(l),!1}emptyValueCheck(e){return e===""||e===null||typeof e>"u"}transformEmptyValues(e,n){var i=n.column.modules.edit,r=i.convertEmptyValues||this.convertEmptyValues,s;return r&&(s=i.editorEmptyValueFunc||this.options("editorEmptyValueFunc"),s&&s(e)&&(e=i.convertEmptyValues?i.editorEmptyValue:this.options("editorEmptyValue"))),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(n=>{e.push(n.getComponent())}),e}clearEdited(e){var n;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),n=this.editedCells.indexOf(e),n>-1&&this.editedCells.splice(n,1)}};Ie(yg,"moduleName","edit"),Ie(yg,"editors",$G);let YC=yg;class TT{constructor(e,n,i,r){this.type=e,this.columns=n,this.component=i||!1,this.indent=r||0}}class P1{constructor(e,n,i,r,s){this.value=e,this.component=n||!1,this.width=i,this.height=r,this.depth=s}}var VG={},WG={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const bu=class bu extends Rt{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,n,i,r){var s,o,l,c;return this.cloneTableStyle=n,this.config=e||{},this.colVisProp=r,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),c=bu.columnLookups[i],c&&(l=c.call(this.table),l=l.filter(d=>this.columnVisCheck(d))),s=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(l)):[],l&&(l=l.map(d=>d.getComponent())),o=this.bodyToExportRows(this.rowLookup(i),l),s.concat(o)}generateTable(e,n,i,r){var s=this.generateExportList(e,n,i,r);return this.generateTableElement(s)}rowLookup(e){var n=[],i;return typeof e=="function"?e.call(this.table).forEach(r=>{r=this.table.rowManager.findRow(r),r&&n.push(r)}):(i=bu.rowLookups[e]||bu.rowLookups.active,n=i.call(this.table)),Object.assign([],n)}generateColumnGroupHeaders(e){var n=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(i=>{var r=this.processColumnGroup(i);r&&n.push(r)}),n}processColumnGroup(e){var n=e.columns,i=0,r=e.definition["title"+this.colVisPropAttach]||e.definition.title,s={title:r,column:e,depth:1};if(n.length){if(s.subGroups=[],s.width=0,n.forEach(o=>{var l=this.processColumnGroup(o);l&&(s.width+=l.width,s.subGroups.push(l),l.depth>i&&(i=l.depth))}),s.depth+=i,!s.width)return!1}else if(this.columnVisCheck(e))s.width=1;else return!1;return s}columnVisCheck(e){var n=e.definition[this.colVisProp];return this.config.rowHeaders===!1&&e.isRowHeader?!1:(typeof n=="function"&&(n=n.call(this.table,e.getComponent())),n===!1||n===!0?n:e.visible&&e.field)}headersToExportRows(e){var n=[],i=0,r=[];function s(o,l){var c=i-l;if(typeof n[l]>"u"&&(n[l]=[]),o.height=o.subGroups?1:c-o.depth+1,n[l].push(o),o.height>1)for(let d=1;d<o.height;d++)typeof n[l+d]>"u"&&(n[l+d]=[]),n[l+d].push(!1);if(o.width>1)for(let d=1;d<o.width;d++)n[l].push(!1);o.subGroups&&o.subGroups.forEach(function(d){s(d,l+1)})}return e.forEach(function(o){o.depth>i&&(i=o.depth)}),e.forEach(function(o){s(o,0)}),n.forEach(o=>{var l=[];o.forEach(c=>{if(c){let d=typeof c.title>"u"?"":c.title;l.push(new P1(d,c.column.getComponent(),c.width,c.height,c.depth))}else l.push(null)}),r.push(new TT("header",l))}),r}bodyToExportRows(e,n=[]){var i=[];return n.length===0&&this.table.columnManager.columnsByIndex.forEach(r=>{this.columnVisCheck(r)&&n.push(r.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(r=>{switch(r.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&r.modules.dataTree.parent)}return!0}),e.forEach((r,s)=>{var o=r.getData(this.colVisProp),l=[],c=0;switch(r.type){case"group":c=r.level,l.push(new P1(r.key,r.getComponent(),n.length,1));break;case"calc":case"row":n.forEach(d=>{l.push(new P1(d._column.getFieldValue(o),d,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(c=r.modules.dataTree.index);break}i.push(new TT(r.type,l,r.getComponent(),c))}),i}generateTableElement(e){var n=document.createElement("table"),i=document.createElement("thead"),r=document.createElement("tbody"),s=this.lookupTableStyles(),o=this.table.options["rowFormatter"+this.colVisPropAttach],l={};return l.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(l.treeElementField=this.table.modules.dataTree.elementField),l.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],l.groupHeader&&!Array.isArray(l.groupHeader)&&(l.groupHeader=[l.groupHeader]),n.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((c,d)=>{let f;switch(c.type){case"header":i.appendChild(this.generateHeaderElement(c,l,s));break;case"group":r.appendChild(this.generateGroupElement(c,l,s));break;case"calc":r.appendChild(this.generateCalcElement(c,l,s));break;case"row":f=this.generateRowElement(c,l,s),this.mapElementStyles(d%2&&s.evenRow?s.evenRow:s.oddRow,f,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(f);break}}),i.innerHTML&&n.appendChild(i),n.appendChild(r),this.mapElementStyles(this.table.element,n,["border-top","border-left","border-right","border-bottom"]),n}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,n,i){var r=document.createElement("tr");return e.columns.forEach(s=>{if(s){var o=document.createElement("th"),l=s.component._column.definition.cssClass?s.component._column.definition.cssClass.split(" "):[];o.colSpan=s.width,o.rowSpan=s.height,o.innerHTML=s.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),l.forEach(function(c){o.classList.add(c)}),this.mapElementStyles(s.component.getElement(),o,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(s.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),s.component._column.visible?this.mapElementStyles(s.component.getElement(),o,["width"]):s.component._column.definition.width&&(o.style.width=s.component._column.definition.width+"px"),s.component._column.parent&&s.component._column.parent.isGroup?this.mapElementStyles(s.component._column.parent.groupElement,o,["border-top"]):this.mapElementStyles(s.component.getElement(),o,["border-top"]),s.component._column.isGroup?this.mapElementStyles(s.component.getElement(),o,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),o,["border-bottom"]),r.appendChild(o)}}),r}generateGroupElement(e,n,i){var r=document.createElement("tr"),s=document.createElement("td"),o=e.columns[0];return r.classList.add("tabulator-print-table-row"),n.groupHeader&&n.groupHeader[e.indent]?o.value=n.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):n.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),s.colSpan=o.width,s.innerHTML=o.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(i.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(i.firstGroup,s,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(s),r}generateCalcElement(e,n,i){var r=this.generateRowElement(e,n,i);return r.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(i.calcRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r}generateRowElement(e,n,i){var r=document.createElement("tr");if(r.classList.add("tabulator-print-table-row"),e.columns.forEach((s,o)=>{if(s){var l=document.createElement("td"),c=s.component._column,d=this.table,f=d.columnManager.findColumnIndex(c),m=s.value,v,w,C={modules:{},getValue:function(){return m},getField:function(){return c.definition.field},getElement:function(){return l},getType:function(){return"cell"},getColumn:function(){return c.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return d},getComponent:function(){return C},column:c},S=c.definition.cssClass?c.definition.cssClass.split(" "):[];if(S.forEach(function(_){l.classList.add(_)}),this.table.modExists("format")&&this.config.formatCells!==!1)m=this.table.modules.format.formatExportValue(C,this.colVisProp);else switch(typeof m){case"object":m=m!==null?JSON.stringify(m):"";break;case"undefined":m="";break}m instanceof Node?l.appendChild(m):l.innerHTML=m,w=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],c.isRowHeader?(v=i.styleRowHeader,w.push("background-color")):v=i.styleCells&&i.styleCells[f]?i.styleCells[f]:i.firstCell,v&&(this.mapElementStyles(v,l,w),c.definition.align&&(l.style.textAlign=c.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(n.treeElementField&&n.treeElementField==c.field||!n.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&l.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),e.component._row.modules.dataTree.branchEl&&l.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),r.appendChild(l),C.modules.format&&C.modules.format.renderedCallback&&C.modules.format.renderedCallback()}}),n.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let s=Object.assign(e.component);s.getElement=function(){return r},n.rowFormatter(e.component)}return r}generateHTMLTable(e){var n=document.createElement("div");return n.appendChild(this.generateTableElement(e)),n.innerHTML}getHtml(e,n,i,r){var s=this.generateExportList(i||this.table.options.htmlOutputConfig,n,e,r||"htmlOutput");return this.generateHTMLTable(s)}mapElementStyles(e,n,i){if(this.cloneTableStyle&&e&&n){var r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var s=window.getComputedStyle(e);i.forEach(function(o){n.style[r[o]]||(n.style[r[o]]=s.getPropertyValue(o))})}}}};Ie(bu,"moduleName","export"),Ie(bu,"columnLookups",VG),Ie(bu,"rowLookups",WG);let XC=bu;var GG={"=":function(t,e,n,i){return e==t},"<":function(t,e,n,i){return e<t},"<=":function(t,e,n,i){return e<=t},">":function(t,e,n,i){return e>t},">=":function(t,e,n,i){return e>=t},"!=":function(t,e,n,i){return e!=t},regex:function(t,e,n,i){return typeof t=="string"&&(t=new RegExp(t)),t.test(e)},like:function(t,e,n,i){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(t.toLowerCase())>-1:!1},keywords:function(t,e,n,i){var r=t.toLowerCase().split(typeof i.separator>"u"?" ":i.separator),s=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return r.forEach(l=>{s.includes(l)&&o.push(!0)}),i.matchAll?o.length===r.length:!!o.length},starts:function(t,e,n,i){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(t.toLowerCase()):!1},ends:function(t,e,n,i){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(t.toLowerCase()):!1},in:function(t,e,n,i){return Array.isArray(t)?t.length?t.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",t),!1)}};const Ya=class Ya extends Rt{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var n=this.table.columnManager.findColumn(e.field);if(n)this.setHeaderFilterValue(n,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,n,i,r){return r.filter=this.getFilters(!0,!0),r}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,n,i,r){this.setFilter(e,n,i,r),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,n,i,r){this.addFilter(e,n,i,r),this.refreshFilter()}userSetHeaderFilterFocus(e){var n=this.table.columnManager.findColumn(e);if(n)this.setHeaderFilterFocus(n);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var n=this.table.columnManager.findColumn(e);if(n)return this.getHeaderFilterValue(n);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,n){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterValue(i,n);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,n,i){this.removeFilter(e,n,i),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,n,i){return this.search("rows",e,n,i)}searchData(e,n,i){return this.search("data",e,n,i)}initializeColumnHeaderFilter(e){var n=e.definition;n.headerFilter&&this.initializeColumn(e)}initializeColumn(e,n){var i=this,r=e.getField();function s(o){var l=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",c="",d="",f;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete i.headerFilters[r];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":Ya.filters[e.definition.headerFilterFunc]?(c=e.definition.headerFilterFunc,f=function(m){var v=e.definition.headerFilterFuncParams||{},w=e.getFieldValue(m);return v=typeof v=="function"?v(o,w,m):v,Ya.filters[e.definition.headerFilterFunc](o,w,m,v)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":f=function(m){var v=e.definition.headerFilterFuncParams||{},w=e.getFieldValue(m);return v=typeof v=="function"?v(o,w,m):v,e.definition.headerFilterFunc(o,w,m,v)},c=f;break}if(!f)switch(l){case"partial":f=function(m){var v=e.getFieldValue(m);return typeof v<"u"&&v!==null?String(v).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},c="like";break;default:f=function(m){return e.getFieldValue(m)==o},c="="}i.headerFilters[r]={value:o,func:f,type:c}}e.modules.filter.value=o,d=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==d&&(i.prevHeaderFilterChangeCheck=d,i.trackChanges(),i.refreshFilter())}return!0}e.modules.filter={success:s,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,n,i){var r=this,s=e.modules.filter.success,o=e.getField(),l,c,d,f,m,v,w,C;e.modules.filter.value=n;function S(){}function _(R){C=R}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(R){return!R&&R!==0},l=document.createElement("div"),l.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":r.table.modules.edit.editors[e.definition.headerFilter]?(c=r.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(R){return R!==!0&&R!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":c=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?c=e.modules.edit.editor:e.definition.formatter&&r.table.modules.edit.editors[e.definition.formatter]?(c=r.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(R){return R!==!0&&R!==!1})):c=r.table.modules.edit.editors.input;break}if(c){if(f={getValue:function(){return typeof n<"u"?n:""},getField:function(){return e.definition.field},getElement:function(){return l},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},w=e.definition.headerFilterParams||{},w=typeof w=="function"?w.call(r.table,f):w,d=c.call(this.table.modules.edit,f,_,s,S,w),!d){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(d instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",d);return}r.langBind("headerFilters|columns|"+e.definition.field,function(R){d.setAttribute("placeholder",typeof R<"u"&&R?R:e.definition.headerFilterPlaceholder||r.langText("headerFilters|default"))}),d.addEventListener("click",function(R){R.stopPropagation(),d.focus()}),d.addEventListener("focus",R=>{var M=this.table.columnManager.contentsElement.scrollLeft,k=this.table.rowManager.element.scrollLeft;M!==k&&(this.table.rowManager.scrollHorizontal(M),this.table.columnManager.scrollHorizontal(M))}),m=!1,v=function(R){m&&clearTimeout(m),m=setTimeout(function(){s(d.value)},r.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=d,e.modules.filter.attrType=d.hasAttribute("type")?d.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=d.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(d.addEventListener("keyup",v),d.addEventListener("search",v),e.modules.filter.attrType=="number"&&d.addEventListener("change",function(R){s(d.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&d.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&d.addEventListener("mousedown",function(R){R.stopPropagation()})),l.appendChild(d),e.contentElement.appendChild(l),i||r.headerFilterColumns.push(e),C&&C()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,n){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,n,!0),e.modules.filter.success(n)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,n,i,r){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:n,value:i,params:r}]),this.addFilter(e)}addFilter(e,n,i,r){var s=!1;Array.isArray(e)||(e=[{field:e,type:n,value:i,params:r}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),s=!0)}),s&&this.trackChanges()}findFilter(e){var n;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return typeof e.field=="function"?i=function(r){return e.field(r,e.type||{})}:Ya.filters[e.type]?(n=this.table.columnManager.getColumnByField(e.field),n?i=function(r){return Ya.filters[e.type](e.value,n.getFieldValue(r),r,e.params||{})}:i=function(r){return Ya.filters[e.type](e.value,r[e.field],r,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,e.func?e:!1}findSubFilters(e){var n=[];return e.forEach(i=>{i=this.findFilter(i),i&&n.push(i)}),n.length?n:!1}getFilters(e,n){var i=[];return e&&(i=this.getHeaderFilters()),n&&i.forEach(function(r){typeof r.type=="function"&&(r.type="function")}),i=i.concat(this.filtersToArray(this.filterList,n)),i}filtersToArray(e,n){var i=[];return e.forEach(r=>{var s;Array.isArray(r)?i.push(this.filtersToArray(r,n)):(s={field:r.field,type:r.type,value:r.value},n&&typeof s.type=="function"&&(s.type="function"),i.push(s))}),i}getHeaderFilters(){var e=[];for(var n in this.headerFilters)e.push({field:n,type:this.headerFilters[n].type,value:this.headerFilters[n].value});return e}removeFilter(e,n,i){Array.isArray(e)||(e=[{field:e,type:n,value:i}]),e.forEach(r=>{var s=-1;typeof r.field=="object"?s=this.filterList.findIndex(o=>r===o):s=this.filterList.findIndex(o=>r.field===o.field&&r.type===o.type&&r.value===o.value),s>-1?this.filterList.splice(s,1):console.warn("Filter Error - No matching filter type found, ignoring: ",r.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,n,i,r){var s=[],o=[];return Array.isArray(n)||(n=[{field:n,type:i,value:r}]),n.forEach(l=>{l=this.findFilter(l),l&&o.push(l)}),this.table.rowManager.rows.forEach(l=>{var c=!0;o.forEach(d=>{this.filterRecurse(d,l.getData())||(c=!1)}),c&&s.push(e==="data"?l.getData("data"):l.getComponent())}),s}filter(e,n){var i=[],r=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(s=>{this.filterRow(s)&&i.push(s)}):i=e.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach(s=>{r.push(s.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),r)),i}filterRow(e,n){var i=!0,r=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,r)||(i=!1)});for(var s in this.headerFilters)this.headerFilters[s].func(r)||(i=!1);return i}filterRecurse(e,n){var i=!1;return Array.isArray(e)?e.forEach(r=>{this.filterRecurse(r,n)&&(i=!0)}):i=e.func(n),i}};Ie(Ya,"moduleName","filter"),Ie(Ya,"filters",GG);let KC=Ya;function qG(t,e,n){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function YG(t,e,n){return t.getValue()}function XG(t,e,n){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function KG(t,e,n){var i=parseFloat(t.getValue()),r="",s,o,l,c,d,f=e.decimal||".",m=e.thousand||",",v=e.negativeSign||"-",w=e.symbol||"",C=!!e.symbolAfter,S=typeof e.precision<"u"?e.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));if(i<0&&(i=Math.abs(i),r=v),s=S!==!1?i.toFixed(S):i,s=String(s).split("."),o=s[0],l=s.length>1?f+s[1]:"",e.thousand!==!1)for(c=/(\d+)(\d{3})/;c.test(o);)o=o.replace(c,"$1"+m+"$2");return d=o+l,r===!0?(d="("+d+")",C?d+w:w+d):C?r+d+w:r+w+d}function JG(t,e,n){var i=t.getValue(),r=e.urlPrefix||"",s=e.download,o=i,l=document.createElement("a"),c;function d(f,m){var v=f.shift(),w=m[v];return f.length&&typeof w=="object"?d(f,w):w}if(e.labelField&&(c=t.getData(),o=d(e.labelField.split(this.table.options.nestedFieldSeparator),c)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(t);break}if(o){if(e.urlField&&(c=t.getData(),i=un.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,c)),e.url)switch(typeof e.url){case"string":i=e.url;break;case"function":i=e.url(t);break}return l.setAttribute("href",r+i),e.target&&l.setAttribute("target",e.target),e.download&&(typeof s=="function"?s=s(t):s=s===!0?"":s,l.setAttribute("download",s)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),l}else return"&nbsp;"}function ZG(t,e,n){var i=document.createElement("img"),r=t.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+t.getValue()),e.urlSuffix&&(r=r+e.urlSuffix),i.setAttribute("src",r),typeof e.height){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height;break}switch(typeof e.width){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width;break}return i.addEventListener("load",function(){t.getRow().normalizeHeight()}),i}function QG(t,e,n){var i=t.getValue(),r=t.getElement(),s=e.allowEmpty,o=e.allowTruthy,l=Object.keys(e).includes("trueValue"),c=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',d=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return l&&i===e.trueValue||!l&&(o&&i||i===!0||i==="true"||i==="True"||i===1||i==="1")?(r.setAttribute("aria-checked",!0),c||""):s&&(i==="null"||i===""||i===null||typeof i>"u")?(r.setAttribute("aria-checked","mixed"),""):(r.setAttribute("aria-checked",!1),d||"")}function eq(t,e,n){var i=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",s=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",l=t.getValue();if(typeof i<"u"){var c;return i.isDateTime(l)?c=l:r==="iso"?c=i.fromISO(String(l)):c=i.fromFormat(String(l),r),c.isValid?(e.timezone&&(c=c.setZone(e.timezone)),c.toFormat(s)):o===!0||!l?l:typeof o=="function"?o(l):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function tq(t,e,n){var i=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",s=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,l=typeof e.unit<"u"?e.unit:"days",c=typeof e.humanize<"u"?e.humanize:!1,d=typeof e.date<"u"?e.date:i.now(),f=t.getValue();if(typeof i<"u"){var m;return i.isDateTime(f)?m=f:r==="iso"?m=i.fromISO(String(f)):m=i.fromFormat(String(f),r),m.isValid?c?m.diff(d,l).toHuman()+(o?" "+o:""):parseInt(m.diff(d,l)[l])+(o?" "+o:""):s===!0?f:typeof s=="function"?s(f):s}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function nq(t,e,n){var i=t.getValue();return typeof e[i]>"u"?(console.warn("Missing display value for "+i),i):e[i]}function iq(t,e,n){var i=t.getValue(),r=t.getElement(),s=e&&e.stars?e.stars:5,o=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg"),c='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',d='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",l.setAttribute("width","14"),l.setAttribute("height","14"),l.setAttribute("viewBox","0 0 512 512"),l.setAttribute("xml:space","preserve"),l.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,s));for(var f=1;f<=s;f++){var m=l.cloneNode(!0);m.innerHTML=f<=i?c:d,o.appendChild(m)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",i),o}function rq(t,e,n){var i=this.sanitizeHTML(t.getValue())||0,r=document.createElement("span"),s=e&&e.max?e.max:100,o=e&&e.min?e.min:0,l=e&&typeof e.color<"u"?e.color:["red","orange","green"],c="#666666",d,f;if(!(isNaN(i)||typeof t.getValue()>"u")){switch(r.classList.add("tabulator-traffic-light"),f=parseFloat(i)<=s?parseFloat(i):s,f=parseFloat(f)>=o?parseFloat(f):o,d=(s-o)/100,f=Math.round((f-o)/d),typeof l){case"string":c=l;break;case"function":c=l(i);break;case"object":if(Array.isArray(l)){var m=100/l.length,v=Math.floor(f/m);v=Math.min(v,l.length-1),v=Math.max(v,0),c=l[v];break}}return r.style.backgroundColor=c,r}}function sq(t,e={},n){var i=this.sanitizeHTML(t.getValue())||0,r=t.getElement(),s=e.max?e.max:100,o=e.min?e.min:0,l=e.legendAlign?e.legendAlign:"center",c,d,f,m,v;switch(d=parseFloat(i)<=s?parseFloat(i):s,d=parseFloat(d)>=o?parseFloat(d):o,c=(s-o)/100,d=Math.round((d-o)/c),typeof e.color){case"string":f=e.color;break;case"function":f=e.color(i);break;case"object":if(Array.isArray(e.color)){let _=100/e.color.length,R=Math.floor(d/_);R=Math.min(R,e.color.length-1),R=Math.max(R,0),f=e.color[R];break}default:f="#2DC214"}switch(typeof e.legend){case"string":m=e.legend;break;case"function":m=e.legend(i);break;case"boolean":m=i;break;default:m=!1}switch(typeof e.legendColor){case"string":v=e.legendColor;break;case"function":v=e.legendColor(i);break;case"object":if(Array.isArray(e.legendColor)){let _=100/e.legendColor.length,R=Math.floor(d/_);R=Math.min(R,e.legendColor.length-1),R=Math.max(R,0),v=e.legendColor[R]}break;default:v="#000"}r.style.minWidth="30px",r.style.position="relative",r.setAttribute("aria-label",d);var w=document.createElement("div");w.style.display="inline-block",w.style.width=d+"%",w.style.backgroundColor=f,w.style.height="100%",w.setAttribute("data-max",s),w.setAttribute("data-min",o);var C=document.createElement("div");if(C.style.position="relative",C.style.width="100%",C.style.height="100%",m){var S=document.createElement("div");S.style.position="absolute",S.style.top=0,S.style.left=0,S.style.textAlign=l,S.style.width="100%",S.style.color=v,S.innerHTML=m}return n(function(){if(!(t instanceof AN)){var _=document.createElement("div");_.style.position="absolute",_.style.top="4px",_.style.bottom="4px",_.style.left="4px",_.style.right="4px",r.appendChild(_),r=_}r.appendChild(C),C.appendChild(w),m&&C.appendChild(S)}),""}function oq(t,e,n){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""}function aq(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function lq(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function uq(t,e,n){var i=t.getValue(),r=e.size||15,s=r+"px",o,l,c=e.hasOwnProperty("onValue")?e.onValue:!0,d=e.hasOwnProperty("offValue")?e.offValue:!1,f=e.onTruthy?i:i===c;return o=document.createElement("div"),o.classList.add("tabulator-toggle"),f?(o.classList.add("tabulator-toggle-on"),o.style.flexDirection="row-reverse",e.onColor&&(o.style.background=e.onColor)):e.offColor&&(o.style.background=e.offColor),o.style.width=2.5*r+"px",o.style.borderRadius=s,e.clickable&&o.addEventListener("click",m=>{t.setValue(f?d:c)}),l=document.createElement("div"),l.classList.add("tabulator-toggle-switch"),l.style.height=s,l.style.width=s,l.style.borderRadius=s,o.appendChild(l),o}function cq(t,e,n){var i=document.createElement("span"),r=t.getRow(),s=t.getTable();return r.watchPosition(o=>{e.relativeToPage&&(o+=s.modules.page.getPageSize()*(s.modules.page.getPage()-1)),i.innerText=o}),i}function dq(t,e,n){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function hq(t,e,n){var i,r,s;function o(l){var c=l.getValue(),d="plaintext";switch(typeof c){case"boolean":d="tickCross";break;case"string":c.includes(`
`)&&(d="textarea");break}return d}return i=e.formatterLookup?e.formatterLookup(t):o(t),e.paramsLookup&&(s=typeof e.paramsLookup=="function"?e.paramsLookup(i,t):e.paramsLookup[i]),r=this.table.modules.format.lookupFormatter(i),r.call(this,t,s||{},n)}function fq(t,e,n){var i=e.delimiter||",",r=t.getValue(),s=this.table,o;return e.valueMap&&(typeof e.valueMap=="string"?o=function(l){return l.map(c=>un.retrieveNestedData(s.options.nestedFieldSeparator,e.valueMap,c))}:o=e.valueMap),Array.isArray(r)?(o&&(r=o(r)),r.join(i)):r}function pq(t,e,n){var i=e.indent||"	",r=typeof e.multiline>"u"?!0:e.multiline,s=e.replacer||null,o=t.getValue();return r&&(t.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(o,s,i)}var mq={plaintext:qG,html:YG,textarea:XG,money:KG,link:JG,image:ZG,tickCross:QG,datetime:eq,datetimediff:tq,lookup:nq,star:iq,traffic:rq,progress:sq,color:oq,buttonTick:aq,buttonCross:lq,toggle:uq,rownum:cq,handle:dq,adaptable:hq,array:fq,json:pq};const yu=class yu extends Rt{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupTypeFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupTypeFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupTypeFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupTypeFormatter(e,"HtmlOutput"))}lookupTypeFormatter(e,n){var i={params:e.definition["formatter"+n+"Params"]||{}},r=e.definition["formatter"+n];return i.formatter=this.lookupFormatter(r),i}lookupFormatter(e){var n;switch(typeof e){case"string":yu.formatters[e]?n=yu.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),n=yu.formatters.plaintext);break;case"function":n=e;break;default:n=yu.formatters.plaintext;break}return n}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,n,i){var r,s,o,l;return e.definition.titleFormatter?(r=this.lookupFormatter(e.definition.titleFormatter),o=c=>{e.titleFormatterRendered=c},l={getValue:function(){return n},getElement:function(){return i},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},s=e.definition.titleFormatterParams||{},s=typeof s=="function"?s():s,r.call(this,l,s,o)):n}formatValue(e){var n=e.getComponent(),i=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(n):e.column.modules.format.params;function r(s){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=s,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,n,i,r)}formatExportValue(e,n){var i=e.column.modules.format[n],r;if(i){let o=function(l){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=l,e.modules.format.rendered=!1};var s=o;return r=typeof i.params=="function"?i.params(e.getComponent()):i.params,i.formatter.call(this,e.getComponent(),r,o)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(i){return n[i]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}};Ie(yu,"moduleName","format"),Ie(yu,"formatters",mq);let JC=yu;class NN extends Rt{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var n={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(n.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=n):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(n=>{n.calcs.top&&this.layoutRow(n.calcs.top),n.calcs.bottom&&this.layoutRow(n.calcs.bottom),n.groupList&&n.groupList.length&&this.layoutGroupCalcs(n.groupList)})}layoutColumnPosition(e){var n=[],i=0,r=0;this.leftColumns.forEach((s,o)=>{if(s.modules.frozen.marginValue=i,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(i+=s.getWidth()),o==this.leftColumns.length-1?s.modules.frozen.edge=!0:s.modules.frozen.edge=!1,s.parent.isGroup){var l=this.getColGroupParentElement(s);n.includes(l)||(this.layoutElement(l,s),n.push(l)),l.classList.toggle("tabulator-frozen-left",s.modules.frozen.edge&&s.modules.frozen.position==="left"),l.classList.toggle("tabulator-frozen-right",s.modules.frozen.edge&&s.modules.frozen.position==="right")}else this.layoutElement(s.getElement(),s);e&&s.cells.forEach(c=>{this.layoutElement(c.getElement(!0),s)})}),this.rightColumns.forEach((s,o)=>{s.modules.frozen.marginValue=r,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(r+=s.getWidth()),o==this.rightColumns.length-1?s.modules.frozen.edge=!0:s.modules.frozen.edge=!1,s.parent.isGroup?this.layoutElement(this.getColGroupParentElement(s),s):this.layoutElement(s.getElement(),s),e&&s.cells.forEach(l=>{this.layoutElement(l.getElement(!0),s)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),n=this.table.rowManager.getRows().filter(i=>!e.includes(i));n.forEach(i=>{i.deinitialize()}),e.forEach(i=>{i.type==="row"&&this.layoutRow(i)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(n=>{var i=e.getCell(n);i&&this.layoutElement(i.getElement(!0),n)}),this.rightColumns.forEach(n=>{var i=e.getCell(n);i&&this.layoutElement(i.getElement(!0),n)})}layoutElement(e,n){var i;n.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?i=n.modules.frozen.position==="left"?"right":"left":i=n.modules.frozen.position,e.style[i]=n.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",n.modules.frozen.edge&&n.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",n.modules.frozen.edge&&n.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,n){var i=0;for(let r=0;r<n;r++)e[r].visible&&(i+=e[r].getWidth());return i}}Ie(NN,"moduleName","frozenColumns");class LN extends Rt{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var n=this.table.options.frozenRows,i=typeof n;i==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=n&&this.freezeRow(e):i==="function"?n.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(n)&&n.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var n=this.rows.indexOf(e);return n>-1}isFrozen(){return!!this.rows.length}visibleRows(e,n){return this.rows.forEach(i=>{n.push(i)}),n}getRows(e){var n=e.slice(0);return this.rows.forEach(function(i){var r=n.indexOf(i);r>-1&&n.splice(r,1)}),n}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var n=this.rows.indexOf(e);if(n>-1){var i=e.getElement();i.parentNode&&i.parentNode.removeChild(i),this.rows.splice(n,1)}}styleRows(e){this.rows.forEach((n,i)=>{this.table.rowManager.styleRow(n,i)})}}Ie(LN,"moduleName","frozenRows");class gq{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._group.groupManager.table.componentFunctionBinder.handle("group",n._group,i)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,n){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,n)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}let Iy=class ON{constructor(e,n,i,r,s,o,l){this.groupManager=e,this.parent=n,this.key=r,this.level=i,this.field=s,this.hasSubGroups=i<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=l,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=l?l.visible:typeof e.startOpen[i]<"u"?e.startOpen[i]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(n){n.wipe()}):this.rows.forEach(n=>{n.modules&&delete n.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(n=>{this._createGroup(n,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",n=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(n.stopPropagation(),n.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,n){var i=n+"_"+e,r=new ON(this.groupManager,this,n,e,this.groupManager.groupIDLookups[n].field,this.groupManager.headerGenerator[n]||this.groupManager.headerGenerator[0],this.old?this.old.groups[i]:!1);this.groups[i]=r,this.groupList.push(r)}_addRowToGroup(e){var n=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[n].func(e.getData()),r=n+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[n]?this.groups[r]&&this.groups[r].addRow(e):(this.groups[r]||this._createGroup(i,n),this.groups[r].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,n,i){var r=this.conformRowData({});e.updateData(r);var s=this.rows.indexOf(n);s>-1?i?this.rows.splice(s+1,0,e):this.rows.splice(s,0,e):i?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(n){n.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var n=this.rows.indexOf(e),i=e.getElement();n>-1&&this.rows.splice(n,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var n=e.level+"_"+e.key,i;this.groups[n]&&(delete this.groups[n],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(n){e=e.concat(n.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,n){var i=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(r=>{i.push(r.getData(n||"data"))}),i}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(n=>{e+=n.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var n=e.getHeadersAndRows();n.forEach(i=>{i.detachElement()})}):this.rows.forEach(e=>{var n=e.getElement();n.parentNode.removeChild(n)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(n=>{var i=n.getHeadersAndRows();i.forEach(r=>{var s=r.getElement();e.parentNode.insertBefore(s,e.nextSibling),r.initialize(),e=s})}):this.rows.forEach(n=>{var i=n.getElement();e.parentNode.insertBefore(i,e.nextSibling),n.initialize(),e=i}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(n){e.push(n.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var n=!1;return this.groupList.length?this.groupList.forEach(function(i){var r=i.getRowGroup(e);r&&(n=r)}):this.rows.find(function(i){return i===e})&&(n=this),n}getSubGroups(e){var n=[];return this.groupList.forEach(function(i){n.push(e?i.getComponent():i)}),n}getRows(e,n){var i=[];return n&&this.groupList.length?this.groupList.forEach(r=>{i=i.concat(r.getRows(e,n))}):this.rows.forEach(function(r){i.push(e?r.getComponent():r)}),i}generateGroupHeaderContents(){var e=[],n=this.getRows(!1,!0);for(n.forEach(function(i){e.push(i.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,un.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new gq(this)),this.component}};class PN extends Rt{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,n=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(i)&&e.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(s,o)=>{this.headerGenerator[0]=(l,c,d)=>(typeof l>"u"?"":l)+"<span>("+c+" "+(c===1?s:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var r=this.table.columnManager.getRealColumns();r.forEach(s=>{s.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),s.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((s,o)=>{var l,c;typeof s=="function"?l=s:(c=this.table.columnManager.getColumnByField(s),c?l=function(d){return c.getFieldValue(d)}:l=function(d){return d[s]}),this.groupIDLookups.push({field:typeof s=="function"?!1:s,func:l,values:this.allowedValues?this.allowedValues[o]:!1})}),n&&(Array.isArray(n)||(n=[n]),n.forEach(s=>{}),this.startOpen=n),i&&(this.headerGenerator=Array.isArray(i)?i:[i])}else this.groupList=[],this.groups={}}rowSample(e,n){if(this.table.options.groupBy){var i=this.getGroups(!1)[0];n.push(i.getRows(!1)[0])}return n}virtualRenderFill(){var e=this.table.rowManager.tableElement,n=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)n=n.filter(i=>i.type!=="group"),e.style.minWidth=n.length?"":this.table.columnManager.getWidth()+"px";else return n}rowAddingIndex(e,n,i){if(this.table.options.groupBy){this.assignRowToGroup(e);var r=e.modules.group.rows;return r.length>1&&(!n||n&&r.indexOf(n)==-1?i?r[0]!==e&&(n=r[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,n,!i)):r[r.length-1]!==e&&(n=r[r.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,n,!i)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,n,!i)),n}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,n,i){if(this.table.options.groupBy){!i&&n instanceof Iy&&(n=this.table.rowManager.prevDisplayRow(e)||n);var r=n instanceof Iy?n:n.modules.group,s=e instanceof Iy?e:e.modules.group;r===s?this.table.rowManager.moveRowInArray(r.rows,e,n,i):(s&&s.removeRow(e),r.insertRow(e,n,i))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var n=[];return this.groupList.forEach(function(i){n.push(e?i.getComponent():i)}),n}getChildGroups(e){var n=[];return e||(e=this),e.groupList.forEach(i=>{i.groupList.length?n=n.concat(this.getChildGroups(i)):n.push(i)}),n}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var n=[];return e.forEach(i=>{var r={};r.level=0,r.rowCount=0,r.headerContent="";var s=[];i.hasSubGroups?(s=this.pullGroupListData(i.groupList),r.level=i.level,r.rowCount=s.length-i.groupList.length,r.headerContent=i.generator(i.key,r.rowCount,i.rows,i),n.push(r),n=n.concat(s)):(r.level=i.level,r.headerContent=i.generator(i.key,i.rows.length,i.rows,i),r.rowCount=i.getRows().length,n.push(r),i.getRows().forEach(o=>{n.push(o.getData("data"))}))}),n}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var n=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(i=>{var r=i.getRowGroup(e);r&&(n=r)}),n}countGroups(){return this.groupList.length}generateGroups(e){var n=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(i=>{this.createGroup(i,0,n)}),e.forEach(i=>{this.assignRowToExistingGroup(i,n)})):e.forEach(i=>{this.assignRowToGroup(i,n)}),Object.values(n).forEach(i=>{i.wipe(!0)})}createGroup(e,n,i){var r=n+"_"+e,s;i=i||[],s=new Iy(this,!1,n,e,this.groupIDLookups[0].field,this.headerGenerator[0],i[r]),this.groups[r]=s,this.groupList.push(s)}assignRowToExistingGroup(e,n){var i=this.groupIDLookups[0].func(e.getData()),r="0_"+i;this.groups[r]&&this.groups[r].addRow(e)}assignRowToGroup(e,n){var i=this.groupIDLookups[0].func(e.getData()),r=!this.groups["0_"+i];return r&&this.createGroup(i,0,n),this.groups["0_"+i].addRow(e),!r}reassignRowToGroup(e){if(e.type==="row"){var n=e.modules.group,i=n.getPath(),r=this.getExpectedPath(e),s;s=i.length==r.length&&i.every((o,l)=>o===r[l]),s||(n.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var n=[],i=e.getData();return this.groupIDLookups.forEach(r=>{n.push(r.func(i))}),n}updateGroupRows(e){var n=[];return this.blockRedraw||(this.groupList.forEach(i=>{n=n.concat(i.getHeadersAndRows())}),e&&this.refreshData(!0)),n}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(n=>{n.scrollHeader(e)}))}removeGroup(e){var n=e.level+"_"+e.key,i;this.groups[n]&&(delete this.groups[n],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,n=!0;this.table.rowManager.getDisplayRows().forEach((i,r)=>{this.table.rowManager.styleRow(i,r),e.appendChild(i.getElement()),i.initialize(!0),i.type!=="group"&&(n=!1)}),n?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}Ie(PN,"moduleName","groupRows");var vq={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue),t.component.cellRendered()},rowAdd:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(t){var e=t.data.posFrom-t.data.posTo>0;this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},bq={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue),t.component.cellRendered()},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posTo),t.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},yq={undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},wq={undo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.redo()))}},xq={keybindings:{bindings:yq,actions:wq}};const wu=class wu extends Rt{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,n,i){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:n.getPosition(),to:n,after:i})}rowAdded(e,n,i,r){this.action("rowAdd",e,{data:n,pos:i,index:r})}rowDeleted(e){var n,i;this.table.options.groupBy?(i=e.getComponent().getGroup()._getSelf().rows,n=i.indexOf(e),n&&(n=i[n-1])):(n=e.table.rowManager.getRowIndex(e),n&&(n=e.table.rowManager.rows[n-1])),this.action("rowDelete",e,{data:e.getData(),pos:!n,index:n})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,n,i){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:n,data:i}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var n=this.history.findIndex(function(i){return i.component===e});n>-1&&(this.history.splice(n,1),n<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return wu.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return wu.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,n){this.history.forEach(function(i){if(i.component instanceof Di)i.component===e&&(i.component=n);else if(i.component instanceof ov&&i.component.row===e){var r=i.component.column.getField();r&&(i.component=n.getCell(r))}})}};Ie(wu,"moduleName","history"),Ie(wu,"moduleExtensions",xq),Ie(wu,"undoers",vq),Ie(wu,"redoers",bq);let ZC=wu;class jN extends Rt{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,n=this.table.options,i=e.getElementsByTagName("th"),r=e.getElementsByTagName("tbody")[0],s=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,n),i.length?this._extractHeaders(i,r):this._generateBlankHeaders(i,r);for(var o=0;o<r.length;o++){var l=r[o],c=l.getElementsByTagName("td"),d={};this.hasIndex||(d[n.index]=o);for(var f=0;f<c.length;f++){var m=c[f];typeof this.fieldIndex[f]<"u"&&(d[this.fieldIndex[f]]=m.innerHTML)}s.push(d)}n.data=s,this.dispatchExternal("htmlImported")}_extractOptions(e,n,i){var r=e.attributes,s=Object.keys(i||n),o={};s.forEach(f=>{o[f.toLowerCase()]=f});for(var l in r){var c=r[l],d;c&&typeof c=="object"&&c.name&&c.name.indexOf("tabulator-")===0&&(d=c.name.replace("tabulator-",""),typeof o[d]<"u"&&(n[o[d]]=this._attribValue(c.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var n=this.table.options.columns.find(i=>i.title===e);return n||!1}_extractHeaders(e,n){for(var i=0;i<e.length;i++){var r=e[i],s=!1,o=this._findCol(r.textContent),l;o?s=!0:o={title:r.textContent.trim()},o.field||(o.field=r.textContent.trim().toLowerCase().replaceAll(" ","_")),l=r.getAttribute("width"),l&&!o.width&&(o.width=l),this._extractOptions(r,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[i]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),s||this.table.options.columns.push(o)}}_generateBlankHeaders(e,n){for(var i=0;i<e.length;i++){var r=e[i],s={title:"",field:"col"+i};this.fieldIndex[i]=s.field;var o=r.getAttribute("width");o&&(s.width=o),this.table.options.columns.push(s)}}}Ie(jN,"moduleName","htmlTableImport");function Cq(t){var e=[],n=0,i=0,r=!1;for(let s=0;s<t.length;s++){let o=t[s],l=t[s+1];if(e[n]||(e[n]=[]),e[n][i]||(e[n][i]=""),o=='"'&&r&&l=='"'){e[n][i]+=o,s++;continue}if(o=='"'){r=!r;continue}if(o==","&&!r){i++;continue}if(o=="\r"&&l==`
`&&!r){i=0,n++,s++;continue}if((o=="\r"||o==`
`)&&!r){i=0,n++;continue}e[n][i]+=o}return e}function Eq(t){try{return JSON.parse(t)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function Sq(t){return t}function Rq(t){var e=this.dependencyRegistry.lookup("XLSX"),n=e.read(t),i=n.Sheets[n.SheetNames[0]];return e.utils.sheet_to_json(i,{header:1})}var Tq={csv:Cq,json:Eq,array:Sq,xlsx:Rq};const wg=class wg extends Rt{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,n,i,r,s){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var n;return e||(e=this.table.options.importFormat),typeof e=="string"?n=wg.importers[e]:n=e,n||console.error("Import Error - Importer not found:",e),n}importFromFile(e,n,i){var r=this.lookupImporter(e);if(r)return this.pickFile(n,i).then(this.importData.bind(this,r)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(s=>(this.dispatch("import-error",s),this.dispatchExternal("importError",s),console.error("Import Error:",s||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(s)))}pickFile(e,n){return new Promise((i,r)=>{var s=document.createElement("input");s.type="file",s.accept=e,s.addEventListener("change",o=>{var l=s.files[0],c=new FileReader,d=this.validateFile(l);if(d===!0){switch(this.dispatch("import-importing",s.files),this.dispatchExternal("importImporting",s.files),n||this.table.options.importReader){case"buffer":c.readAsArrayBuffer(l);break;case"binary":c.readAsBinaryString(l);break;case"url":c.readAsDataURL(l);break;case"text":default:c.readAsText(l)}c.onload=f=>{i(c.result)},c.onerror=f=>{console.warn("File Load Error - Unable to read file"),r(f)}}else r(d)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),s.click()})}importData(e,n){var i;return this.table.dataLoader.alertLoader(),new Promise((r,s)=>{setTimeout(()=>{i=e.call(this.table,n),i instanceof Promise||i?r(i):s()},10)})}structureData(e){var n=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?n=this.structureArrayToObject(e):n=this.structureArrayToColumns(e),n):e}mutateData(e){var n=[];return Array.isArray(e)?e.forEach(i=>{n.push(this.table.modules.mutator.transformRow(i,"import"))}):n=e,n}transformHeader(e){var n=[];if(this.table.options.importHeaderTransform)e.forEach(i=>{n.push(this.table.options.importHeaderTransform.call(this.table,i,e))});else return e;return n}transformData(e){var n=[];if(this.table.options.importValueTransform)e.forEach(i=>{n.push(this.table.options.importValueTransform.call(this.table,i,e))});else return e;return n}structureArrayToObject(e){var n=this.transformHeader(e.shift()),i=e.map(r=>{var s={};return r=this.transformData(r),n.forEach((o,l)=>{s[o]=r[l]}),s});return i}structureArrayToColumns(e){var n=[],i=this.transformHeader(e[0]),r=this.table.getColumns();return r[0]&&i[0]&&r[0].getDefinition().title===i[0]&&e.shift(),e.forEach(s=>{var o={};s=this.transformData(s),s.forEach((l,c)=>{var d=r[c];d&&(o[d.getField()]=l)}),n.push(o)}),n}validateFile(e){return this.table.options.importFileValidator?this.table.options.importFileValidator.call(this.table,e):!0}validateData(e){var n;return this.table.options.importDataValidator?(n=this.table.options.importDataValidator.call(this.table,e),n===!0?e:Promise.reject(n)):e}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.dataLoader.clearAlert(),this.table.setData(e)}};Ie(wg,"moduleName","import"),Ie(wg,"importers",Tq);let QC=wg;class IN extends Rt{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(n=>{for(let i in n)n[i]=null})}cellContentsSelectionFixer(e,n){var i;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===n)){e.preventDefault();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(n.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(n.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,n){n?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var n=this.eventMap[e];this.touchSubscribers[n+"-touchstart"]||(this.touchSubscribers[n+"-touchstart"]=this.handleTouch.bind(this,n,"start"),this.touchSubscribers[n+"-touchend"]=this.handleTouch.bind(this,n,"end"),this.subscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.subscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var n=!0,i=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let r in this.eventMap)this.eventMap[r]===i&&this.subscribers[r]&&(n=!1);n&&(this.unsubscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.unsubscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"]),delete this.touchSubscribers[i+"-touchstart"],delete this.touchSubscribers[i+"-touchend"])}}initializeColumn(e){var n=e.definition;for(let i in this.eventMap)n[i]&&(this.subscriptionChanged(i,!0),this.columnSubscribers[i]||(this.columnSubscribers[i]=[]),this.columnSubscribers[i].push(e))}handle(e,n,i){this.dispatchEvent(e,n,i)}handleTouch(e,n,i,r){var s=this.touchWatchers[e];switch(e==="column"&&(e="header"),n){case"start":s.tap=!0,clearTimeout(s.tapHold),s.tapHold=setTimeout(()=>{clearTimeout(s.tapHold),s.tapHold=null,s.tap=null,clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"TapHold",i,r)},1e3);break;case"end":s.tap&&(s.tap=null,this.dispatchEvent(e+"Tap",i,r)),s.tapDbl?(clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"DblTap",i,r)):s.tapDbl=setTimeout(()=>{clearTimeout(s.tapDbl),s.tapDbl=null},300),clearTimeout(s.tapHold),s.tapHold=null;break}}dispatchEvent(e,n,i){var r=i.getComponent(),s;this.columnSubscribers[e]&&(i instanceof ov?s=i.column.definition[e]:i instanceof td&&(s=i.definition[e]),s&&s(n,r)),this.dispatchExternal(e,n,r)}}Ie(IN,"moduleName","interaction");var _q={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},Aq={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,n=e.scrollTop-e.element.clientHeight;t.preventDefault(),e.displayRowsCount&&(n>=0?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,n=e.scrollTop+e.element.clientHeight,i=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n<=i?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){this.dispatch("keybinding-nav-prev",t)},navNext:function(t){this.dispatch("keybinding-nav-next",t)},navLeft:function(t){this.dispatch("keybinding-nav-left",t)},navRight:function(t){this.dispatch("keybinding-nav-right",t)},navUp:function(t){this.dispatch("keybinding-nav-up",t)},navDown:function(t){this.dispatch("keybinding-nav-down",t)}};const xu=class xu extends Rt{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,n={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(n,xu.bindings),Object.assign(n,e),this.mapBindings(n),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let n in e)xu.actions[n]?e[n]&&(typeof e[n]!="object"&&(e[n]=[e[n]]),e[n].forEach(i=>{var r=Array.isArray(i)?i:[i];r.forEach(s=>{this.mapBinding(n,s)})})):console.warn("Key Binding Error - no such action:",n)}mapBinding(e,n){var i={action:xu.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},r=n.toString().toLowerCase().split(" ").join("").split("+");r.forEach(s=>{switch(s){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:s=isNaN(s)?s.toUpperCase().charCodeAt(0):parseInt(s),i.keys.push(s),this.watchKeys[s]||(this.watchKeys[s]=[]),this.watchKeys[s].push(i)}})}bindEvents(){var e=this;this.keyupBinding=function(n){var i=n.keyCode,r=e.watchKeys[i];r&&(e.pressedKeys.push(i),r.forEach(function(s){e.checkBinding(n,s)}))},this.keydownBinding=function(n){var i=n.keyCode,r=e.watchKeys[i];if(r){var s=e.pressedKeys.indexOf(i);s>-1&&e.pressedKeys.splice(s,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,n){var i=!0;return e.ctrlKey==n.ctrl&&e.shiftKey==n.shift&&e.metaKey==n.meta?(n.keys.forEach(r=>{var s=this.pressedKeys.indexOf(r);s==-1&&(i=!1)}),i&&n.action.call(this,e),!0):!1}};Ie(xu,"moduleName","keybindings"),Ie(xu,"bindings",_q),Ie(xu,"actions",Aq);let eE=xu;var fC;let kq=(fC=class extends Rt{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var n=e.definition;n.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),n.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),n.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),n.headerMenu&&this.initializeColumnHeaderMenu(e),n.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),n.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),n.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var n=e.definition.headerMenuIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),n?(typeof n=="function"&&(n=n(e.getComponent())),n instanceof HTMLElement?i.appendChild(n):i.innerHTML=n):i.innerHTML="&vellip;",i.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,r,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadMenuTableCellEvent(e,n,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadMenuEvent(i.column.definition[e],n,i)}loadMenuTableColumnEvent(e,n,i){i._column&&(i=i._column),i.definition[e]&&this.loadMenuEvent(i.definition[e],n,i)}loadMenuEvent(e,n,i){i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,n,i.getComponent()):e,this.loadMenu(n,i,e)}loadMenu(e,n,i,r,s){var o=!(e instanceof MouseEvent),l=document.createElement("div"),c;if(l.classList.add("tabulator-menu"),o||e.preventDefault(),!(!i||!i.length)){if(r)c=s.child(l);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=c=this.popup(l)}i.forEach(d=>{var f=document.createElement("div"),m=d.label,v=d.disabled;d.separator?f.classList.add("tabulator-menu-separator"):(f.classList.add("tabulator-menu-item"),typeof m=="function"&&(m=m.call(this.table,n.getComponent())),m instanceof Node?f.appendChild(m):f.innerHTML=m,typeof v=="function"&&(v=v.call(this.table,n.getComponent())),v?(f.classList.add("tabulator-menu-item-disabled"),f.addEventListener("click",w=>{w.stopPropagation()})):d.menu&&d.menu.length?f.addEventListener("click",w=>{w.stopPropagation(),this.loadMenu(w,n,d.menu,f,c)}):d.action&&f.addEventListener("click",w=>{d.action(w,n.getComponent())}),d.menu&&d.menu.length&&f.classList.add("tabulator-menu-item-submenu")),l.appendChild(f)}),l.addEventListener("click",d=>{this.rootPopup&&this.rootPopup.hide()}),c.show(r||e),c===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",i,c),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=n,this.dispatch("menu-opened",i,c),this.dispatchExternal("menuOpened",n.getComponent()))}}},Ie(fC,"moduleName","menu"),fC);class zN extends Rt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var n=this,i={},r;!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(r=e.getElement(),i.mousemove=(function(s){e.parent===n.moving.parent&&((n.touchMove?s.touches[0].pageX:s.pageX)-un.elOffset(r).left+n.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(n.toCol!==e||!n.toColAfter)&&(r.parentNode.insertBefore(n.placeholderElement,r.nextSibling),n.moveColumn(e,!0)):(n.toCol!==e||n.toColAfter)&&(r.parentNode.insertBefore(n.placeholderElement,r),n.moveColumn(e,!1)))}).bind(n),r.addEventListener("mousedown",function(s){n.touchMove=!1,s.which===1&&(n.checkTimeout=setTimeout(function(){n.startMove(s,e)},n.checkPeriod))}),r.addEventListener("mouseup",function(s){s.which===1&&n.checkTimeout&&clearTimeout(n.checkTimeout)}),n.bindTouchEvents(e)),e.modules.moveColumn=i}bindTouchEvents(e){var n=e.getElement(),i=!1,r,s,o,l,c,d;n.addEventListener("touchstart",f=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextColumn(),o=r?r.getWidth()/2:0,s=e.prevColumn(),l=s?s.getWidth()/2:0,c=0,d=0,i=!1,this.startMove(f,e)},this.checkPeriod)},{passive:!0}),n.addEventListener("touchmove",f=>{var m,v;this.moving&&(this.moveHover(f),i||(i=f.touches[0].pageX),m=f.touches[0].pageX-i,m>0?r&&m-c>o&&(v=r,v!==e&&(i=f.touches[0].pageX,v.getElement().parentNode.insertBefore(this.placeholderElement,v.getElement().nextSibling),this.moveColumn(v,!0))):s&&-m-d>l&&(v=s,v!==e&&(i=f.touches[0].pageX,v.getElement().parentNode.insertBefore(this.placeholderElement,v.getElement()),this.moveColumn(v,!1))),v&&(r=v.nextColumn(),c=o,o=r?r.getWidth()/2:0,s=v.prevColumn(),d=l,l=s?s.getWidth()/2:0))},{passive:!0}),n.addEventListener("touchend",f=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(f)})}startMove(e,n){var i=n.getElement(),r=this.table.columnManager.getContentsElement(),s=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=n,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-un.elOffset(i).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=n.getWidth()+"px",this.placeholderElement.style.height=n.getHeight()+"px",i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),r.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=r.clientHeight-s.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,n){var i=this.moving.getCells();this.toCol=e,this.toColAfter=n,n?e.getCells().forEach(function(r,s){var o=r.getElement(!0);o.parentNode&&i[s]&&o.parentNode.insertBefore(i[s].getElement(),o.nextSibling)}):e.getCells().forEach(function(r,s){var o=r.getElement(!0);o.parentNode&&i[s]&&o.parentNode.insertBefore(i[s].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var n=this.table.columnManager.getContentsElement(),i=n.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-un.elOffset(n).left+i,s;this.hoverElement.style.left=r-this.startX+"px",r-i<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.max(0,i-5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1))),i+n.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.min(n.clientWidth,i+5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1)))}}Ie(zN,"moduleName","moveColumn");var Mq={delete:function(t,e,n){t.delete()}},Dq={insert:function(t,e,n){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,n){return this.table.addRow(t.getData()),!0},update:function(t,e,n){return e?(e.update(t.getData()),!0):!1},replace:function(t,e,n){return e?(this.table.addRow(t.getData(),void 0,e),e.delete(),!0):!1}};const Kc=class Kc extends Rt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var n=this,i={};i.mouseup=(function(r){n.tableRowDrop(r,e)}).bind(n),i.mousemove=(function(r){var s;r.pageY-un.elOffset(e.element).top+n.table.rowManager.element.scrollTop>e.getHeight()/2?(n.toRow!==e||!n.toRowAfter)&&(s=e.getElement(),s.parentNode.insertBefore(n.placeholderElement,s.nextSibling),n.moveRow(e,!0)):(n.toRow!==e||n.toRowAfter)&&(s=e.getElement(),s.previousSibling&&(s.parentNode.insertBefore(n.placeholderElement,s),n.moveRow(e,!1)))}).bind(n),e.modules.moveRow=i}initializeRow(e){var n=this,i={},r;i.mouseup=(function(s){n.tableRowDrop(s,e)}).bind(n),i.mousemove=(function(s){var o=e.getElement();s.pageY-un.elOffset(o).top+n.table.rowManager.element.scrollTop>e.getHeight()/2?(n.toRow!==e||!n.toRowAfter)&&(o.parentNode.insertBefore(n.placeholderElement,o.nextSibling),n.moveRow(e,!0)):(n.toRow!==e||n.toRowAfter)&&(o.parentNode.insertBefore(n.placeholderElement,o),n.moveRow(e,!1))}).bind(n),this.hasHandle||(r=e.getElement(),r.addEventListener("mousedown",function(s){s.which===1&&(n.checkTimeout=setTimeout(function(){n.startMove(s,e)},n.checkPeriod))}),r.addEventListener("mouseup",function(s){s.which===1&&n.checkTimeout&&clearTimeout(n.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var n=this,i=e.getElement(!0);i.addEventListener("mousedown",function(r){r.which===1&&(n.checkTimeout=setTimeout(function(){n.startMove(r,e.row)},n.checkPeriod))}),i.addEventListener("mouseup",function(r){r.which===1&&n.checkTimeout&&clearTimeout(n.checkTimeout)}),this.bindTouchEvents(e.row,i)}}bindTouchEvents(e,n){var i=!1,r,s,o,l,c,d;n.addEventListener("touchstart",f=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextRow(),o=r?r.getHeight()/2:0,s=e.prevRow(),l=s?s.getHeight()/2:0,c=0,d=0,i=!1,this.startMove(f,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,n.addEventListener("touchmove",f=>{var m,v;this.moving&&(f.preventDefault(),this.moveHover(f),i||(i=f.touches[0].pageY),m=f.touches[0].pageY-i,m>0?r&&m-c>o&&(v=r,v!==e&&(i=f.touches[0].pageY,v.getElement().parentNode.insertBefore(this.placeholderElement,v.getElement().nextSibling),this.moveRow(v,!0))):s&&-m-d>l&&(v=s,v!==e&&(i=f.touches[0].pageY,v.getElement().parentNode.insertBefore(this.placeholderElement,v.getElement()),this.moveRow(v,!1))),v&&(r=v.nextRow(),c=o,o=r?r.getHeight()/2:0,s=v.prevRow(),d=l,l=s?s.getHeight()/2:0))}),n.addEventListener("touchend",f=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(f),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,n){var i=n.getElement();this.setStartPosition(e,n),this.moving=n,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=n.getWidth()+"px",this.placeholderElement.style.height=n.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(n)):(i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i)),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",n.getComponent()),this.moveHover(e)}setStartPosition(e,n){var i=this.touchMove?e.touches[0].pageX:e.pageX,r=this.touchMove?e.touches[0].pageY:e.pageY,s,o;s=n.getElement(),this.connection?(o=s.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-r+window.pageYOffset):this.startY=r-s.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,n){this.toRow=e,this.toRowAfter=n}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var n=this.table.rowManager.getElement(),i=n.scrollTop,r=(this.touchMove?e.touches[0].pageY:e.pageY)-n.getBoundingClientRect().top+i;this.hoverElement.style.top=Math.min(r-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,n,i){this.dispatchExternal("movableRowsElementDrop",e,n,i?i.getComponent():!1)}connectToTables(e){var n;this.connectionSelectorsTables&&(n=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",n),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(i=>{typeof i=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(i))):this.connectionElements.push(i)}),this.connectionElements.forEach(i=>{var r=s=>{this.elementRowDrop(s,i,this.moving)};i.addEventListener("mouseup",r),i.tabulatorElementDropEvent=r,i.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(n=>{n.classList.remove("tabulator-movingrow-receiving"),n.removeEventListener("mouseup",n.tabulatorElementDropEvent),delete n.tabulatorElementDropEvent})}connect(e,n){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=n,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().addEventListener("mouseup",i.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",n,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(n=>{n.type==="row"&&n.modules.moveRow&&n.modules.moveRow.mouseup&&n.getElement().removeEventListener("mouseup",n.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,n,i){var r=!1;if(i){switch(typeof this.table.options.movableRowsSender){case"string":r=Kc.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender;break}r?r.call(this,this.moving?this.moving.getComponent():void 0,n?n.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),n?n.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),n?n.getComponent():void 0,e);this.endMove()}tableRowDrop(e,n){var i=!1,r=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":i=Kc.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver;break}i?r=i.call(this,this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),r?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:n,success:r})}commsReceived(e,n,i){switch(n){case"connect":return this.connect(e,i.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,i.row,i.success)}}};Ie(Kc,"moduleName","moveRow"),Ie(Kc,"senders",Mq),Ie(Kc,"receivers",Dq);let tE=Kc;var Nq={};const uf=class uf extends Rt{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,n,i){return this.transformRow(n,"data",i)}initializeColumn(e){var n=!1,i={};this.allowedTypes.forEach(r=>{var s="mutator"+(r.charAt(0).toUpperCase()+r.slice(1)),o;e.definition[s]&&(o=this.lookupMutator(e.definition[s]),o&&(n=!0,i[s]={mutator:o,params:e.definition[s+"Params"]||{}}))}),n&&(e.modules.mutate=i)}lookupMutator(e){var n=!1;switch(typeof e){case"string":uf.mutators[e]?n=uf.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":n=e;break}return n}transformRow(e,n,i){var r="mutator"+(n.charAt(0).toUpperCase()+n.slice(1)),s;return this.enabled&&this.table.columnManager.traverse(o=>{var l,c,d;o.modules.mutate&&(l=o.modules.mutate[r]||o.modules.mutate.mutator||!1,l&&(s=o.getFieldValue(typeof i<"u"?i:e),(n=="data"&&!i||typeof s<"u")&&(d=o.getComponent(),c=typeof l.params=="function"?l.params(s,e,n,d):l.params,o.setFieldValue(e,l.mutator(s,e,n,c,d)))))}),e}transformCell(e,n){if(e.column.modules.mutate){var i=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,r={};if(i)return r=Object.assign(r,e.row.getData()),e.column.setFieldValue(r,n),i.mutator(n,r,"edit",i.params,e.getComponent())}return n}mutateLink(e){var n=e.column.definition.mutateLink;n&&(Array.isArray(n)||(n=[n]),n.forEach(i=>{var r=e.row.getCell(i);r&&r.setValue(r.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};Ie(uf,"moduleName","mutator"),Ie(uf,"mutators",Nq);let nE=uf;function Lq(t,e,n,i,r){var s=document.createElement("span"),o=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span"),f=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",m=>{o.innerHTML=m}),this.table.modules.localize.langBind("pagination|counter|of",m=>{c.innerHTML=m}),this.table.modules.localize.langBind("pagination|counter|rows",m=>{f.innerHTML=m}),i?(l.innerHTML=" "+e+"-"+Math.min(e+t-1,i)+" ",d.innerHTML=" "+i+" ",s.appendChild(o),s.appendChild(l),s.appendChild(c),s.appendChild(d),s.appendChild(f)):(l.innerHTML=" 0 ",s.appendChild(o),s.appendChild(l),s.appendChild(f)),s}function Oq(t,e,n,i,r){var s=document.createElement("span"),o=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span"),f=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",m=>{o.innerHTML=m}),l.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|of",m=>{c.innerHTML=m}),d.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",m=>{f.innerHTML=m}),s.appendChild(o),s.appendChild(l),s.appendChild(c),s.appendChild(d),s.appendChild(f),s}var Pq={rows:Lq,pages:Oq};const xg=class xg extends Rt{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,n){var i=this.table.rowManager,r=i.getDisplayRows(),s;return n?r.length?s=r[0]:i.activeRows.length&&(s=i.activeRows[i.activeRows.length-1],n=!1):r.length&&(s=r[r.length-1],n=!(r.length<this.size)),{index:s,top:n}}calculatePageSizes(){var e,n;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",n=document.createElement("div"),n.classList.add("tabulator-cell"),n.innerHTML="Page Row Test",e.appendChild(n),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,n,i,r){return this.initialLoad||(this.progressiveLoad&&!i||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),r.page=this.page,this.size&&(r.size=this.size),r}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,n){var i,r,s;!n&&!this.table.dataLoader.loading&&(i=this.table.rowManager.getElement(),r=i.scrollHeight-i.clientHeight-e,s=this.table.options.progressiveLoadScrollMargin||i.clientHeight*2,r<s&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,n){return n||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let n=1;n<5;n++)e.push(this.size*n);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(n=>{var i=document.createElement("option");i.value=n,n===!0?this.langBind("pagination|all",function(r){i.innerHTML=r}):i.innerHTML=n,this.pageSizeSelect.appendChild(i)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,n=null;e&&(typeof e=="function"?n=e:n=xg.pageCounters[e],n?(this.pageCounter=n,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var n,i;e||(this.langBind("pagination|first",r=>{this.firstBut.innerHTML=r}),this.langBind("pagination|first_title",r=>{this.firstBut.setAttribute("aria-label",r),this.firstBut.setAttribute("title",r)}),this.langBind("pagination|prev",r=>{this.prevBut.innerHTML=r}),this.langBind("pagination|prev_title",r=>{this.prevBut.setAttribute("aria-label",r),this.prevBut.setAttribute("title",r)}),this.langBind("pagination|next",r=>{this.nextBut.innerHTML=r}),this.langBind("pagination|next_title",r=>{this.nextBut.setAttribute("aria-label",r),this.nextBut.setAttribute("title",r)}),this.langBind("pagination|last",r=>{this.lastBut.innerHTML=r}),this.langBind("pagination|last_title",r=>{this.lastBut.setAttribute("aria-label",r),this.lastBut.setAttribute("title",r)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(n=document.createElement("label"),this.langBind("pagination|page_size",r=>{this.pageSizeSelect.setAttribute("aria-label",r),this.pageSizeSelect.setAttribute("title",r),n.innerHTML=r}),this.element.appendChild(n),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",r=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(i=document.querySelector(this.table.options.paginationCounterElement),i?i.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var n=this.displayRows(-1),i=n.indexOf(e);if(i>-1){var r=this.size===!0?1:Math.ceil((i+1)/this.size);return this.setPage(r)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,n,i){var r;if(this.pageCounter)switch(this.mode==="remote"&&(n=this.size,i=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),r=this.pageCounter.call(this,n,i,this.page,e,this.max),typeof r){case"object":if(r instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(r)}else this.pageCounterElement.innerHTML="",r!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",r);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=r}}_setPageButtons(){let e=Math.floor((this.count-1)/2),n=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),r=this.page<=n?Math.min(this.count,this.max):Math.min(this.page+n,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let s=i;s<=r;s++)s>0&&s<=this.max&&this.pagesElement.appendChild(this._generatePageButton(s));this.footerRedraw()}_generatePageButton(e){var n=document.createElement("button");return n.classList.add("tabulator-page"),e==this.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),this.langBind("pagination|page_title",i=>{n.setAttribute("aria-label",i+" "+e),n.setAttribute("title",i+" "+e)}),n.setAttribute("data-page",e),n.textContent=e,n.addEventListener("click",i=>{this.setPage(e)}),n}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var n=0,i,r,s,o,l=e.filter(c=>c.type==="row");if(this.mode=="local"){i=[],this.setMaxRows(e.length),this.size===!0?(r=0,s=e.length):(r=this.size*(this.page-1),s=r+parseInt(this.size)),this._setPageButtons();for(let c=r;c<s;c++){let d=e[c];d&&(i.push(d),d.type==="row"&&(o||(o=d),n++))}return this._setPageCounter(l.length,n,o?l.indexOf(o)+1:0),i}else return this._setPageButtons(),this._setPageCounter(l.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var n,i;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),n=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+n&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else{if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),i=this.options("paginationOutOfRange"),i))return this.setPage(typeof i=="function"?i.call(this,this.page,this.max):i);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}};Ie(xg,"moduleName","page"),Ie(xg,"pageCounters",Pq);let iE=xg;var jq={local:function(t,e){var n=localStorage.getItem(t+"-"+e);return n?JSON.parse(n):!1},cookie:function(t,e){var n=document.cookie,i=t+"-"+e,r=n.indexOf(i+"="),s,o;return r>-1&&(n=n.slice(r),s=n.indexOf(";"),s>-1&&(n=n.slice(0,s)),o=n.replace(i+"=","")),o?JSON.parse(o):!1}},Iq={local:function(t,e,n){localStorage.setItem(t+"-"+e,JSON.stringify(n))},cookie:function(t,e,n){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(n)+"; expires="+i.toUTCString()}};const mr=class mr extends Rt{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,n=this.table.options.persistenceID,i;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:mr.readers[this.table.options.persistenceReaderFunc]?this.readFunc=mr.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):mr.readers[this.mode]?this.readFunc=mr.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:mr.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=mr.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):mr.writers[this.mode]?this.writeFunc=mr.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(n||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(i=this.retrieveData("page"),i&&(typeof i.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=i.paginationSize),typeof i.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=i.paginationInitialPage))),this.config.group&&(i=this.retrieveData("group"),i&&(typeof i.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=i.groupBy),typeof i.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=i.groupStartOpen),typeof i.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=i.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,n,i;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(n=this.load("filter"),n&&(this.table.options.initialFilter=n)),this.config.headerFilter&&(i=this.load("headerFilter"),i&&(this.table.options.initialHeaderFilter=i))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var n,i;this.config.columns&&(this.defWatcherBlock=!0,n=e.getDefinition(),i=this.config.columns===!0?Object.keys(n):this.config.columns,i.forEach(r=>{var s=Object.getOwnPropertyDescriptor(n,r),o=n[r];s&&Object.defineProperty(n,r,{set:l=>{o=l,this.defWatcherBlock||this.save("columns"),s.set&&s.set(l)},get:()=>(s.get&&s.get(),o)})}),this.defWatcherBlock=!1)}load(e,n){var i=this.retrieveData(e);return n&&(i=i?this.mergeDefinition(n,i):n),i}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,n,i){var r=[];return n=n||[],n.forEach((s,o)=>{var l=this._findColumn(e,s),c;l&&(i?c=Object.keys(s):this.config.columns===!0||this.config.columns==null?(c=Object.keys(l),c.push("width")):c=this.config.columns,c.forEach(d=>{d!=="columns"&&typeof s[d]<"u"&&(l[d]=s[d])}),l.columns&&(l.columns=this.mergeDefinition(l.columns,s.columns)),r.push(l))}),e.forEach((s,o)=>{var l=this._findColumn(n,s);l||(r.length>o?r.splice(o,0,s):r.push(s))}),r}_findColumn(e,n){var i=n.columns?"group":n.field?"field":"object";return e.find(function(r){switch(i){case"group":return r.title===n.title&&r.columns.length===n.columns.length;case"field":return r.field===n.field;case"object":return r===n}})}save(e){var n={};switch(e){case"columns":n=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":n=this.table.modules.filter.getFilters();break;case"headerFilter":n=this.table.modules.filter.getHeaderFilters();break;case"sort":n=this.validateSorters(this.table.modules.sort.getSort());break;case"group":n=this.getGroupConfig();break;case"page":n=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,n)}validateSorters(e){return e.forEach(function(n){n.column=n.field,delete n.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var n=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(r=>{var s={},o=r.getDefinition(),l;r.isGroup?(s.title=o.title,s.columns=this.parseColumns(r.getColumns())):(s.field=r.getField(),this.config.columns===!0||this.config.columns==null?(l=Object.keys(o),l.push("width"),l.push("visible")):l=this.config.columns,l.forEach(c=>{switch(c){case"width":s.width=r.getWidth();break;case"visible":s.visible=r.visible;break;default:typeof o[c]!="function"&&i.indexOf(c)===-1&&(s[c]=o[c])}})),n.push(s)}),n}};Ie(mr,"moduleName","persistence"),Ie(mr,"moduleInitOrder",-10),Ie(mr,"readers",jq),Ie(mr,"writers",Iq);let rE=mr;class FN extends Rt{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,n,i){this.loadPopupEvent(n,null,e,i)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var n=e.definition;n.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),n.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),n.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),n.headerPopup&&this.initializeColumnHeaderPopup(e),n.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),n.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),n.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var n=e.definition.headerPopupIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),n?(typeof n=="function"&&(n=n(e.getComponent())),n instanceof HTMLElement?i.appendChild(n):i.innerHTML=n):i.innerHTML="&vellip;",i.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,r,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadPopupTableCellEvent(e,n,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadPopupEvent(i.column.definition[e],n,i)}loadPopupTableColumnEvent(e,n,i){i._column&&(i=i._column),i.definition[e]&&this.loadPopupEvent(i.definition[e],n,i)}loadPopupEvent(e,n,i,r){var s;function o(l){s=l}i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,n,i.getComponent(),o):e,this.loadPopup(n,i,e,s,r)}loadPopup(e,n,i,r,s){var o=!(e instanceof MouseEvent),l,c;i instanceof HTMLElement?l=i:(l=document.createElement("div"),l.innerHTML=i),l.classList.add("tabulator-popup"),l.addEventListener("click",d=>{d.stopPropagation()}),o||e.preventDefault(),c=this.popup(l),typeof r=="function"&&c.renderCallback(r),e?c.show(e):c.show(n.getElement(),s||"center"),c.hideOnBlur(()=>{this.dispatchExternal("popupClosed",n.getComponent())}),this.dispatchExternal("popupOpened",n.getComponent())}}Ie(FN,"moduleName","popup");class HN extends Rt{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,n,i){var r=window.scrollX,s=window.scrollY,o=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.generateTable(typeof i<"u"?i:this.table.options.printConfig,typeof n<"u"?n:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),d,f;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),d=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof d=="string"?o.innerHTML=d:o.appendChild(d),this.element.appendChild(o)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),f=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof f=="string"?l.innerHTML=f:l.appendChild(f),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(r,s),this.manualBlock=!1}}Ie(HN,"moduleName","print");class BN extends Rt{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var n=this,i;this.currentVersion++,i=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s;return!n.blocked&&i===n.currentVersion&&(n.block("data-push"),r.forEach(o=>{n.table.rowManager.addRowActual(o,!1)}),s=n.origFuncs.push.apply(e,arguments),n.unblock("data-push")),s}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s;return!n.blocked&&i===n.currentVersion&&(n.block("data-unshift"),r.forEach(o=>{n.table.rowManager.addRowActual(o,!0)}),s=n.origFuncs.unshift.apply(e,arguments),n.unblock("data-unshift")),s}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var r,s;return!n.blocked&&i===n.currentVersion&&(n.block("data-shift"),n.data.length&&(r=n.table.rowManager.getRowFromDataObject(n.data[0]),r&&r.deleteActual()),s=n.origFuncs.shift.call(e),n.unblock("data-shift")),s}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var r,s;return!n.blocked&&i===n.currentVersion&&(n.block("data-pop"),n.data.length&&(r=n.table.rowManager.getRowFromDataObject(n.data[n.data.length-1]),r&&r.deleteActual()),s=n.origFuncs.pop.call(e),n.unblock("data-pop")),s}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s=r[0]<0?e.length+r[0]:r[0],o=r[1],l=r[2]?r.slice(2):!1,c,d;if(!n.blocked&&i===n.currentVersion){if(n.block("data-splice"),l&&(c=e[s]?n.table.rowManager.getRowFromDataObject(e[s]):!1,c?l.forEach(m=>{n.table.rowManager.addRowActual(m,!0,c,!0)}):(l=l.slice().reverse(),l.forEach(m=>{n.table.rowManager.addRowActual(m,!0,!1,!0)}))),o!==0){var f=e.slice(s,typeof r[1]>"u"?r[1]:s+o);f.forEach((m,v)=>{var w=n.table.rowManager.getRowFromDataObject(m);w&&w.deleteActual(v!==f.length-1)})}(l||o!==0)&&n.table.rowManager.reRenderInPosition(),d=n.origFuncs.splice.apply(e,arguments),n.unblock("data-splice")}return d}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var n=e.getData();for(var i in n)this.watchKey(e,n,i);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var n=this,i=e.getData()[this.table.options.dataTreeChildField],r={};i&&(r.push=i.push,Object.defineProperty(i,"push",{enumerable:!1,configurable:!0,value:()=>{if(!n.blocked){n.block("tree-push");var s=r.push.apply(i,arguments);this.rebuildTree(e),n.unblock("tree-push")}return s}}),r.unshift=i.unshift,Object.defineProperty(i,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!n.blocked){n.block("tree-unshift");var s=r.unshift.apply(i,arguments);this.rebuildTree(e),n.unblock("tree-unshift")}return s}}),r.shift=i.shift,Object.defineProperty(i,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!n.blocked){n.block("tree-shift");var s=r.shift.call(i);this.rebuildTree(e),n.unblock("tree-shift")}return s}}),r.pop=i.pop,Object.defineProperty(i,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!n.blocked){n.block("tree-pop");var s=r.pop.call(i);this.rebuildTree(e),n.unblock("tree-pop")}return s}}),r.splice=i.splice,Object.defineProperty(i,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!n.blocked){n.block("tree-splice");var s=r.splice.apply(i,arguments);this.rebuildTree(e),n.unblock("tree-splice")}return s}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,n,i){var r=this,s=Object.getOwnPropertyDescriptor(n,i),o=n[i],l=this.currentVersion;Object.defineProperty(n,i,{set:c=>{if(o=c,!r.blocked&&l===r.currentVersion){r.block("key");var d={};d[i]=c,e.updateData(d),r.unblock("key")}s.set&&s.set(c)},get:()=>(s.get&&s.get(),o)})}unwatchRow(e){var n=e.getData();for(var i in n)Object.defineProperty(n,i,{value:n[i]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}Ie(BN,"moduleName","reactiveData");class UN extends Rt{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var n=e.prevColumn();this.reinitializeColumn(e),n&&this.reinitializeColumn(n)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(n=>{this.reinitializeColumn(n)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(n=>{this.reinitializeColumn(n)}))}frozenColumnOffset(e){var n=!1;return e.modules.frozen&&(n=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?n+=e.getWidth()-3:n&&(n-=3)),n!==!1?n+"px":!1}reinitializeColumn(e){var n=this.frozenColumnOffset(e);e.cells.forEach(i=>{i.modules.resize&&i.modules.resize.handleEl&&(n&&(i.modules.resize.handleEl.style[e.modules.frozen.position]=n,i.modules.resize.handleEl.style["z-index"]=11),i.element.after(i.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(n&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=n),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,n,i,r){var s=this,o=!1,l=i.definition.resizable,c={},d=i.getLastColumn();if(e==="header"&&(o=i.definition.formatter=="textarea"||i.definition.variableHeight,c={variableHeight:o}),(l===!0||l==e)&&this._checkResizability(d)){var f=document.createElement("span");f.className="tabulator-col-resize-handle",f.addEventListener("click",function(v){v.stopPropagation()});var m=function(v){s.startColumn=i,s.initialNextColumn=s.nextColumn=d.nextColumn(),s._mouseDown(v,d,f)};f.addEventListener("mousedown",m),f.addEventListener("touchstart",m,{passive:!0}),f.addEventListener("dblclick",v=>{var w=d.getWidth();v.stopPropagation(),d.reinitializeWidth(!0),w!==d.getWidth()&&(s.dispatch("column-resized",d),s.dispatchExternal("columnResized",d.getComponent()))}),i.modules.frozen&&(f.style.position="sticky",f.style[i.modules.frozen.position]=this.frozenColumnOffset(i)),c.handleEl=f,r.parentNode&&i.visible&&r.after(f)}n.modules.resize=c}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(n=>{this.deInitializeComponent(n)})}deInitializeComponent(e){var n;e.modules.resize&&(n=e.modules.resize.handleEl,n&&n.parentElement&&n.parentElement.removeChild(n))}resizeHandle(e,n){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=n)}resize(e,n){var i=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r=i-this.startX,s=i-this.latestX,o,l;if(this.latestX=i,this.table.rtl&&(r=-r,s=-s),o=n.width==n.minWidth||n.width==n.maxWidth,n.setWidth(this.startWidth+r),l=n.width==n.minWidth||n.width==n.maxWidth,s<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&!(o&&l)){let c=this.nextColumn.getWidth();s>0&&c<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-s)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&n.modules.resize&&n.modules.resize.variableHeight&&n.checkCellHeights()}calcGuidePosition(e,n,i){var r=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,s=i.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,o=this.table.element.getBoundingClientRect().x,l=n.element.getBoundingClientRect().left-o,c=r-this.startX,d=Math.max(s+c,l+n.minWidth);return n.maxWidth&&(d=Math.min(d,l+n.maxWidth)),d}_checkResizability(e){return e.definition.resizable}_mouseDown(e,n,i){var r=this,s;this.dispatchExternal("columnResizing",n.getComponent()),r.table.options.resizableColumnGuide&&(s=document.createElement("span"),s.classList.add("tabulator-col-resize-guide"),r.table.element.appendChild(s),setTimeout(()=>{s.style.left=r.calcGuidePosition(e,n,i)+"px"})),r.table.element.classList.add("tabulator-block-select");function o(c){r.table.options.resizableColumnGuide?s.style.left=r.calcGuidePosition(c,n,i)+"px":r.resize(c,n)}function l(c){r.table.options.resizableColumnGuide&&(r.resize(c,n),s.remove()),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!1),r.table.browserSlow&&n.modules.resize&&n.modules.resize.variableHeight&&n.checkCellHeights(),document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),i.removeEventListener("touchend",l),r.table.element.classList.remove("tabulator-block-select"),r.startWidth!==n.getWidth()&&(r.table.columnManager.verticalAlignHeaders(),r.dispatch("column-resized",n),r.dispatchExternal("columnResized",n.getComponent()))}e.stopPropagation(),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!0),r.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r.latestX=r.startX,r.startWidth=n.getWidth(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",l),i.addEventListener("touchmove",o,{passive:!0}),i.addEventListener("touchend",l)}}Ie(UN,"moduleName","resizeColumns");class $N extends Rt{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var n=this,i=e.getElement(),r=document.createElement("div");r.className="tabulator-row-resize-handle";var s=document.createElement("div");s.className="tabulator-row-resize-handle prev",r.addEventListener("click",function(c){c.stopPropagation()});var o=function(c){n.startRow=e,n._mouseDown(c,e,r)};r.addEventListener("mousedown",o),r.addEventListener("touchstart",o,{passive:!0}),s.addEventListener("click",function(c){c.stopPropagation()});var l=function(c){var d=n.table.rowManager.prevDisplayRow(e);d&&(n.startRow=d,n._mouseDown(c,d,s))};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l,{passive:!0}),i.appendChild(r),i.appendChild(s)}resize(e,n){n.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,n,i){var r=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,s=i.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,o=this.table.element.getBoundingClientRect().y,l=n.element.getBoundingClientRect().top-o,c=r-this.startY;return Math.max(s+c,l)}_mouseDown(e,n,i){var r=this,s;r.dispatchExternal("rowResizing",n.getComponent()),r.table.options.resizableRowGuide&&(s=document.createElement("span"),s.classList.add("tabulator-row-resize-guide"),r.table.element.appendChild(s),setTimeout(()=>{s.style.top=r.calcGuidePosition(e,n,i)+"px"})),r.table.element.classList.add("tabulator-block-select");function o(c){r.table.options.resizableRowGuide?s.style.top=r.calcGuidePosition(c,n,i)+"px":r.resize(c,n)}function l(c){r.table.options.resizableRowGuide&&(r.resize(c,n),s.remove()),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),i.removeEventListener("touchend",l),r.table.element.classList.remove("tabulator-block-select"),r.dispatchExternal("rowResized",n.getComponent())}e.stopPropagation(),r.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,r.startHeight=n.getHeight(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",l),i.addEventListener("touchmove",o,{passive:!0}),i.addEventListener("touchend",l)}}Ie($N,"moduleName","resizeRows");class VN extends Rt{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,n;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(i[0].contentRect.height),s=Math.floor(i[0].contentRect.width);(this.tableHeight!=r||this.tableWidth!=s)&&(this.tableHeight=r,this.tableWidth=s,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),n=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(n.getPropertyValue("max-height")||n.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(i[0].contentRect.height),s=Math.floor(i[0].contentRect.width);(this.containerHeight!=r||this.containerWidth!=s)&&(this.containerHeight=r,this.containerWidth=s,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}Ie(VN,"moduleName","resizeTable");function zq(t,e,n){var i=document.createElement("div"),r=t.getRow()._row.modules.responsiveLayout;i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,t.getElement().classList.add("tabulator-row-handle");function s(o){var l=r.element;r.open=o,l&&(r.open?(i.classList.add("open"),l.style.display=""):(i.classList.remove("open"),l.style.display="none"))}return i.addEventListener("click",function(o){o.stopImmediatePropagation(),s(!r.open),t.getTable().rowManager.adjustTableSize()}),s(r.open),i}var Fq={format:{formatters:{responsiveCollapse:zq}}};class sE extends Rt{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((n,i)=>{n.modules.responsive&&n.modules.responsive.order&&n.modules.responsive.visible&&(n.modules.responsive.index=i,e.push(n),!n.visible&&this.mode==="collapse"&&this.hiddenColumns.push(n))}),e=e.reverse(),e=e.sort((n,i)=>{var r=i.modules.responsive.order-n.modules.responsive.order;return r||i.modules.responsive.index-n.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let n of this.table.columnManager.columnsByIndex)if(n.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=n;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var n=e.getDefinition();e.modules.responsive={order:typeof n.responsive>"u"?1:n.responsive,visible:n.visible!==!1}}initializeRow(e){var n;e.type!=="calc"&&(n=document.createElement("div"),n.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:n,open:this.collapseStartOpen},this.collapseStartOpen||(n.style.display="none"))}layoutRow(e){var n=e.getElement();e.modules.responsiveLayout&&(n.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,n){!n&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var n=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!n&&this.collapseHandleColumn.show())}showColumn(e){var n;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(n=this.hiddenColumns.indexOf(e),n>-1&&this.hiddenColumns.splice(n,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let n=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),i=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-n;if(i<0){let r=this.columns[this.index];r?(this.hideColumn(r),this.index++):e=!1}else{let r=this.columns[this.index-1];r&&i>0&&i>=r.getWidth()?(this.showColumn(r),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(n=>{this.generateCollapsedRowContent(n)})}generateCollapsedRowContent(e){var n,i;if(e.modules.responsiveLayout){for(n=e.modules.responsiveLayout.element;n.firstChild;)n.removeChild(n.firstChild);i=this.collapseFormatter(this.generateCollapsedRowData(e)),i&&n.appendChild(i),e.calcHeight(!0)}}generateCollapsedRowData(e){var n=e.getData(),i=[],r;return this.hiddenColumns.forEach(s=>{var o=s.getFieldValue(n);if(s.definition.title&&s.field)if(s.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let c=function(d){d()};var l=c;r={value:!1,data:{},getValue:function(){return o},getData:function(){return n},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return s.getComponent()},getTable:()=>this.table},i.push({field:s.field,title:s.definition.title,value:s.modules.format.formatter.call(this.table.modules.format,r,s.modules.format.params,c)})}else i.push({field:s.field,title:s.definition.title,value:o})}),i}formatCollapsedData(e){var n=document.createElement("table");return e.forEach(i=>{var r=document.createElement("tr"),s=document.createElement("td"),o=document.createElement("td"),l,c=document.createElement("strong");s.appendChild(c),this.modules.localize.bind("columns|"+i.field,function(d){c.innerHTML=d||i.title}),i.value instanceof Node?(l=document.createElement("div"),l.appendChild(i.value),o.appendChild(l)):o.innerHTML=i.value,r.appendChild(s),r.appendChild(o),n.appendChild(r)}),Object.keys(e).length?n:""}}Ie(sE,"moduleName","responsiveLayout"),Ie(sE,"moduleExtensions",Fq);function Hq(t,e,n){var i=document.createElement("input"),r=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",o=>{o.stopPropagation()}),typeof t.getRow=="function"){var s=t.getRow();s instanceof Aw?(i.addEventListener("change",o=>{this.table.options.selectableRowsRangeMode==="click"&&r?r=!1:s.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&i.addEventListener("click",o=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(s._row,o)}),i.checked=s.isSelected&&s.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(s,i)):i=""}else i.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}var Bq={format:{formatters:{rowSelection:Hq}}};class oE extends Rt{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(n,i){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,n){return e==="selected"?this.selectedRows:n}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var n=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],n&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var n=this,i=n.checkRowSelectability(e),r=e.getElement(),s=function(){setTimeout(function(){n.selecting=!1},50),document.body.removeEventListener("mouseup",s)};e.modules.select={selected:!1},r.classList.toggle("tabulator-selectable",i),r.classList.toggle("tabulator-unselectable",!i),n.checkRowSelectability(e)&&n.table.options.selectableRows&&n.table.options.selectableRows!="highlight"&&(n.table.options.selectableRowsRangeMode==="click"?r.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(r.addEventListener("click",function(o){(!n.table.modExists("edit")||!n.table.modules.edit.getCurrentCell())&&n.table._clearSelection(),n.selecting||n.toggleRow(e)}),r.addEventListener("mousedown",function(o){if(o.shiftKey)return n.table._clearSelection(),n.selecting=!0,n.selectPrev=[],document.body.addEventListener("mouseup",s),document.body.addEventListener("keyup",s),n.toggleRow(e),!1}),r.addEventListener("mouseenter",function(o){n.selecting&&(n.table._clearSelection(),n.toggleRow(e),n.selectPrev[1]==e&&n.toggleRow(n.selectPrev[0]))}),r.addEventListener("mouseout",function(o){n.selecting&&(n.table._clearSelection(),n.selectPrev.unshift(e))})))}handleComplexRowClick(e,n){if(n.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var i=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),r=this.table.rowManager.getDisplayRowIndex(e),s=i<=r?i:r,o=i>=r?i:r,l=this.table.rowManager.getDisplayRows().slice(0),c=l.splice(s,o-s+1);n.ctrlKey||n.metaKey?(c.forEach(d=>{d!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(d):this.toggleRow(d))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&c.length>this.table.options.selectableRows&&(c=c.slice(0,this.table.options.selectableRows)),this.selectRows(c)),this.table._clearSelection()}else n.ctrlKey||n.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var n=[],i,r;switch(typeof e){case"undefined":i=this.table.rowManager.rows;break;case"number":i=this.table.rowManager.findRow(e);break;case"string":i=this.table.rowManager.findRow(e),i||(i=this.table.rowManager.getRows(e));break;default:i=e;break}Array.isArray(i)?i.length&&(i.forEach(s=>{r=this._selectRow(s,!0,!0),r&&n.push(r)}),this._rowSelectionChanged(!1,n)):i&&this._selectRow(i,!1,!0)}_selectRow(e,n,i){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!i&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var r=this.table.rowManager.findRow(e);if(r){if(this.selectedRows.indexOf(r)==-1)return r.getElement().classList.add("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!0,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!0),this.selectedRows.push(r),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!0),this.dispatchExternal("rowSelected",r.getComponent()),this._rowSelectionChanged(n,r),r}else n||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,n){var i=[],r,s;switch(typeof e){case"undefined":r=Object.assign([],this.selectedRows);break;case"number":r=this.table.rowManager.findRow(e);break;case"string":r=this.table.rowManager.findRow(e),r||(r=this.table.rowManager.getRows(e));break;default:r=e;break}Array.isArray(r)?r.length&&(r.forEach(o=>{s=this._deselectRow(o,!0,!0),s&&i.push(s)}),this._rowSelectionChanged(n,[],i)):r&&this._deselectRow(r,n,!0)}_deselectRow(e,n){var i=this,r=i.table.rowManager.findRow(e),s,o;if(r){if(s=i.selectedRows.findIndex(function(l){return l==r}),s>-1)return o=r.getElement(),o&&o.classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(s,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),this.dispatchExternal("rowDeselected",r.getComponent()),i._rowSelectionChanged(n,void 0,r),r}else n||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(n){e.push(n.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(n){e.push(n.getComponent())}),e}_rowSelectionChanged(e,n=[],i=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(n)||(n=[n]),n=n.map(r=>r.getComponent()),Array.isArray(i)||(i=[i]),i=i.map(r=>r.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),n,i))}registerRowSelectCheckbox(e,n){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=n}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,n){var i=this.table.modules.dataTree.getChildren(e,!0,!0);if(n)for(let r of i)this._selectRow(r,!0);else for(let r of i)this._deselectRow(r,!0)}}Ie(oE,"moduleName","selectRow"),Ie(oE,"moduleExtensions",Bq);class Uq{constructor(e){return this._range=e,new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._range.table.componentFunctionBinder.handle("range",n._range,i)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,n){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,n&&n._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}let $q=class extends Ei{constructor(e,n,i,r){super(e),this.rangeManager=n,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(i,r)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,n){this._updateMinMax(),e&&this.setBounds(e,n||e)}setStart(e,n){(this.start.row!==e||this.start.col!==n)&&(this.start.row=e,this.start.col=n,this.initializing.start=!0,this._updateMinMax())}setEnd(e,n){(this.end.row!==e||this.end.col!==n)&&(this.end.row=e,this.end.col=n,this.initializing.end=!0,this._updateMinMax())}setBounds(e,n,i){e&&this.setStartBound(e),this.setEndBound(n||e),this.rangeManager.layoutElement(i)}setStartBound(e){var n,i;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(n=e.row.position-1,i=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(n,1):this.setStart(n,i))}setEndBound(e){var n=this._getTableRows().length,i,r,s;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(n-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(i=e.row.position-1,r=e.column.getPosition()-1,s=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(i,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&s?this.setEnd(i,0):this.rangeManager.selecting==="column"?this.setEnd(n-1,r):this.setEnd(i,r))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}layout(){var e=this.table.rowManager.renderer.vDomTop,n=this.table.rowManager.renderer.vDomBottom,i=this.table.columnManager.renderer.leftCol,r=this.table.columnManager.renderer.rightCol,s,o,l,c,d,f,m,v,w,C;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(r+=1),e==null&&(e=0),n==null&&(n=1/0),i==null&&(i=0),r==null&&(r=1/0),this.overlaps(i,e,r,n)&&(s=Math.max(this.top,e),o=Math.min(this.bottom,n),l=Math.max(this.left,i),c=Math.min(this.right,r),d=this.rangeManager.getCell(s,l),f=this.rangeManager.getCell(o,c),m=d.getElement(),v=f.getElement(),w=d.row.getElement(),C=f.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=w.offsetWidth-m.offsetLeft-m.offsetWidth+"px",this.element.style.width=m.offsetLeft+m.offsetWidth-v.offsetLeft+"px"):(this.element.style.left=w.offsetLeft+m.offsetLeft+"px",this.element.style.width=v.offsetLeft+v.offsetWidth-m.offsetLeft+"px"),this.element.style.top=w.offsetTop+"px",this.element.style.height=C.offsetTop+C.offsetHeight-w.offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,n,i,r){return!(this.left>i||e>this.right||this.top>r||n>this.bottom)}getData(){var e=[],n=this.getRows(),i=this.getColumns();return n.forEach(r=>{var s=r.getData(),o={};i.forEach(l=>{o[l.field]=s[l.field]}),e.push(o)}),e}getCells(e,n){var i=[],r=this.getRows(),s=this.getColumns();return e?i=r.map(o=>{var l=[];return o.getCells().forEach(c=>{s.includes(c.column)&&l.push(n?c.getComponent():c)}),l}):r.forEach(o=>{o.getCells().forEach(l=>{s.includes(l.column)&&i.push(n?l.getComponent():l)})}),i}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),n=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(i=>{i.setValue(n)}),this.table.restoreRedraw()}getBounds(e){var n=this.getCells(!1,e),i={start:null,end:null};return n.length?(i.start=n[0],i.end=n[n.length-1]):console.warn("No bounds defined on range"),i}getComponent(){return this.component||(this.component=new Uq(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}};var Vq={rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},Wq={rangeJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!1)},rangeJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!1)},rangeJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!1)},rangeJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!1)},rangeExpandLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!1,!0)},rangeExpandRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!1,!0)},rangeExpandUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!1,!0)},rangeExpandDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!1,!0)},rangeExpandJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!0)},rangeExpandJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!0)},rangeExpandJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!0)},rangeExpandJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!0)}},Gq={range:function(t){var e=[],n=this.table.modules.selectRange.activeRange,i=!1,r,s,o,l,c;return c=t.length,n&&(r=n.getBounds(),s=r.start,r.start===r.end&&(i=!0),s&&(e=this.table.rowManager.activeRows.slice(),o=e.indexOf(s.row),i?l=t.length:l=e.indexOf(r.end.row)-o+1,o>-1&&(this.table.blockRedraw(),e=e.slice(o,o+l),e.forEach((d,f)=>{d.updateData(t[f%c])}),this.table.restoreRedraw()))),e}},qq={range:function(t){var e=[],n=[],i=this.table.modules.selectRange.activeRange,r=!1,s,o,l,c,d;return i&&(s=i.getBounds(),o=s.start,s.start===s.end&&(r=!0),o&&(t=t.split(`
`),t.forEach(function(f){e.push(f.split("	"))}),e.length&&(c=this.table.columnManager.getVisibleColumnsByIndex(),d=c.indexOf(o.column),d>-1)))?(r?l=e[0].length:l=c.indexOf(s.end.column)-d+1,c=c.slice(d,d+l),e.forEach(f=>{var m={},v=f.length;c.forEach(function(w,C){m[w.field]=f[C%v]}),n.push(m)}),n):!1}},Yq={range:function(){var t=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&t.unshift(this.columnManager.rowHeader),t}},Xq={range:function(){return this.modules.selectRange.selectedRows()}},Kq={keybindings:{bindings:Vq,actions:Wq},clipboard:{pasteActions:Gq,pasteParsers:qq},export:{columnLookups:Yq,rowLookups:Xq}};class a0 extends Rt{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&(e=this.table.modules.frozenColumns.getFrozenColumns(),(e.length>1||e.length===1&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior"))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,n){return e=e?e._cell:null,n=n?n._cell:null,this.addRange(e,n)}cellGetRanges(e){var n=[];return e.column===this.rowHeader?n=this.ranges.filter(i=>i.occupiesRow(e.row)):n=this.ranges.filter(i=>i.occupies(e)),n.map(i=>i.getComponent())}rowGetRanges(e){var n=this.ranges.filter(i=>i.occupiesRow(e));return n.map(i=>i.getComponent())}colGetRanges(e){var n=this.ranges.filter(i=>i.occupiesColumn(e));return n.map(i=>i.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var n;this.restoreFocus();try{document.selection?(n=document.body.createTextRange(),n.moveToElementText(e.getElement()),n.select()):window.getSelection&&(n=document.createRange(),n.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(n))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var n;this.selecting!=="column"&&this.selecting!=="all"||(n=this.ranges.some(i=>i.occupiesColumn(e)),n&&this.ranges.forEach(i=>{var r=i.getColumns(!0);r.forEach(s=>{s!==e&&s.setWidth(e.width)})}))}handleColumnMoving(e,n){this.resetRanges().setBounds(n),this.overlay.style.visibility="hidden"}handleColumnMoved(e,n,i){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,n){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(n)||this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(n)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,n))}handleColumnMouseMove(e,n){n===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,n,!0)}renderCell(e){var n=e.getElement(),i=this.ranges.findIndex(r=>r.occupies(e));n.classList.toggle("tabulator-range-selected",i!==-1),n.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),n.dataset.range=i}handleCellMouseDown(e,n){e.button===2&&(this.activeRange.occupies(n)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(n.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,n))}handleCellMouseMove(e,n){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,n,!0)}handleCellClick(e,n){this.initializeFocus(n)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,n){this.navigate(!1,!1,e),n.preventDefault()}keyNavigateRange(e,n,i,r){this.navigate(i,r,n),e.preventDefault()}navigate(e,n,i){var r=!1,s,o,l,c,d,f,m,v,w,C,S;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(_=>_===this.activeRange?(_.setEnd(_.start.row,_.start.col),!0):(_.destroy(),!1))),s=this.activeRange,l={top:s.top,bottom:s.bottom,left:s.left,right:s.right},o=n?s.end:s.start,c=o.row,d=o.col,e)switch(i){case"left":d=this.findJumpCellLeft(s.start.row,o.col);break;case"right":d=this.findJumpCellRight(s.start.row,o.col);break;case"up":c=this.findJumpCellUp(o.row,s.start.col);break;case"down":c=this.findJumpCellDown(o.row,s.start.col);break}else{if(n&&(this.selecting==="row"&&(i==="left"||i==="right")||this.selecting==="column"&&(i==="up"||i==="down")))return;switch(i){case"left":d=Math.max(d-1,0);break;case"right":d=Math.min(d+1,this.getTableColumns().length-1);break;case"up":c=Math.max(c-1,0);break;case"down":c=Math.min(c+1,this.getTableRows().length-1);break}}if(this.rowHeader&&d===0&&(d=1),n||s.setStart(c,d),s.setEnd(c,d),n||(this.selecting="cell"),r=l.top!==s.top||l.bottom!==s.bottom||l.left!==s.left||l.right!==s.right,r)return f=this.getRowByRangePos(s.end.row),m=this.getColumnByRangePos(s.end.col),v=f.getElement().getBoundingClientRect(),C=m.getElement().getBoundingClientRect(),w=this.table.rowManager.getElement().getBoundingClientRect(),S=this.table.columnManager.getElement().getBoundingClientRect(),v.top>=w.top&&v.bottom<=w.bottom||(f.getElement().parentNode&&m.getElement().parentNode?this.autoScroll(s,f.getElement(),m.getElement()):f.getComponent().scrollTo(void 0,!1)),C.left>=S.left+this.getRowHeaderWidth()&&C.right<=S.right||(f.getElement().parentNode&&m.getElement().parentNode?this.autoScroll(s,f.getElement(),m.getElement()):m.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(n=>n!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,n,i,r,s){return i&&(n=n.reverse()),this.findJumpItem(r,s,n,function(o){return o.getData()[e.getField()]})}findJumpCol(e,n,i,r,s){return i&&(n=n.reverse()),this.findJumpItem(r,s,n,function(o){return e.getData()[o.getField()]})}findJumpItem(e,n,i,r){var s;for(let o of i){let l=r(o);if(e){if(s=o,l)break}else if(n){if(s=o,l)break}else if(l)s=o;else break}return s}findJumpCellLeft(e,n){var i=this.getRowByRangePos(e),r=this.getTableColumns(),s=this.isEmpty(i.getData()[r[n].getField()]),o=r[n-1]?this.isEmpty(i.getData()[r[n-1].getField()]):!1,l=this.rowHeader?r.slice(1,n):r.slice(0,n),c=this.findJumpCol(i,l,!0,s,o);return c?c.getPosition()-1:n}findJumpCellRight(e,n){var i=this.getRowByRangePos(e),r=this.getTableColumns(),s=this.isEmpty(i.getData()[r[n].getField()]),o=r[n+1]?this.isEmpty(i.getData()[r[n+1].getField()]):!1,l=this.findJumpCol(i,r.slice(n+1,r.length),!1,s,o);return l?l.getPosition()-1:n}findJumpCellUp(e,n){var i=this.getColumnByRangePos(n),r=this.getTableRows(),s=this.isEmpty(r[e].getData()[i.getField()]),o=r[e-1]?this.isEmpty(r[e-1].getData()[i.getField()]):!1,l=this.findJumpRow(i,r.slice(0,e),!0,s,o);return l?l.position-1:e}findJumpCellDown(e,n){var i=this.getColumnByRangePos(n),r=this.getTableRows(),s=this.isEmpty(r[e].getData()[i.getField()]),o=r[e+1]?this.isEmpty(r[e+1].getData()[i.getField()]):!1,l=this.findJumpRow(i,r.slice(e+1,r.length),!1,s,o);return l?l.position-1:e}newSelection(e,n){var i;if(n.type==="column"){if(!this.columnSelection)return;if(n===this.rowHeader){i=this.resetRanges(),this.selecting="all";var r,s=this.getCell(-1,-1);this.rowHeader?r=this.getCell(0,1):r=this.getCell(0,0),i.setBounds(r,s);return}else this.selecting="column"}else n.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,n):e.ctrlKey?this.addRange().setBounds(n):this.resetRanges().setBounds(n)}autoScroll(e,n,i){var r=this.table.rowManager.element,s,o,l,c;typeof n>"u"&&(n=this.getRowByRangePos(e.end.row).getElement()),typeof i>"u"&&(i=this.getColumnByRangePos(e.end.col).getElement()),s={left:i.offsetLeft,right:i.offsetLeft+i.offsetWidth,top:n.offsetTop,bottom:n.offsetTop+n.offsetHeight},o={left:r.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(r.scrollLeft+r.clientWidth),top:r.scrollTop,bottom:r.scrollTop+r.offsetHeight-this.table.rowManager.scrollbarWidth},l=o.left<s.left&&s.left<o.right&&o.left<s.right&&s.right<o.right,c=o.top<s.top&&s.top<o.bottom&&o.top<s.bottom&&s.bottom<o.bottom,l||(s.left<o.left?r.scrollLeft=s.left-this.getRowHeaderWidth():s.right>o.right&&(r.scrollLeft=Math.min(s.right-r.clientWidth,s.left-this.getRowHeaderWidth()))),c||(s.top<o.top?r.scrollTop=s.top:s.bottom>o.bottom&&(r.scrollTop=s.bottom-r.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var n;e?n=this.table.rowManager.getVisibleRows(!0):n=this.table.rowManager.getRows(),n.forEach(i=>{i.type==="row"&&(this.layoutRow(i),i.cells.forEach(r=>this.renderCell(r)))}),this.getTableColumns().forEach(i=>{this.layoutColumn(i)}),this.layoutRanges()}layoutRow(e){var n=e.getElement(),i=!1,r=this.ranges.some(s=>s.occupiesRow(e));this.selecting==="row"?i=r:this.selecting==="all"&&(i=!0),n.classList.toggle("tabulator-range-selected",i),n.classList.toggle("tabulator-range-highlight",r)}layoutColumn(e){var n=e.getElement(),i=!1,r=this.ranges.some(s=>s.occupiesColumn(e));this.selecting==="column"?i=r:this.selecting==="all"&&(i=!0),n.classList.toggle("tabulator-range-selected",i),n.classList.toggle("tabulator-range-highlight",r)}layoutRanges(){var e,n,i;this.table.initialized&&(e=this.getActiveCell(),e&&(n=e.getElement(),i=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=i.offsetWidth-n.offsetLeft-n.offsetWidth+"px":this.activeRangeCellElement.style.left=i.offsetLeft+n.offsetLeft+"px",this.activeRangeCellElement.style.top=i.offsetTop+"px",this.activeRangeCellElement.style.width=n.offsetWidth+"px",this.activeRangeCellElement.style.height=i.offsetHeight+"px",this.ranges.forEach(r=>r.layout()),this.overlay.style.visibility="visible"))}getCell(e,n){var i;return n<0&&(n=this.getTableColumns().length+n,n<0)?null:(e<0&&(e=this.getTableRows().length+e),i=this.table.rowManager.getRowFromPosition(e+1),i?i.getCells(!1,!0).filter(r=>r.column.visible)[n]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,n){var i;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),i=new $q(this.table,this,e,n),this.activeRange=i,this.ranges.push(i),this.rangeContainer.appendChild(i.element),i}resetRanges(){var e,n,i;return this.ranges.forEach(r=>r.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(i=this.table.rowManager.activeRows[0].cells.filter(r=>r.column.visible),n=i[this.rowHeader?1:0],n&&(e.setBounds(n),this.options("selectableRangeAutoFocus")&&this.initializeFocus(n))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(n=>n.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(n=>n.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(e){return e==null||e===""}}Ie(a0,"moduleName","selectRange"),Ie(a0,"moduleInitOrder",1),Ie(a0,"moduleExtensions",Kq);function Jq(t,e,n,i,r,s,o){var l=o.alignEmptyValues,c=o.decimalSeparator,d=o.thousandSeparator,f=0;if(t=String(t),e=String(e),d&&(t=t.split(d).join(""),e=e.split(d).join("")),c&&(t=t.split(c).join("."),e=e.split(c).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))f=isNaN(e)?0:-1;else if(isNaN(e))f=1;else return t-e;return(l==="top"&&s==="desc"||l==="bottom"&&s==="asc")&&(f*=-1),f}function Zq(t,e,n,i,r,s,o){var l=o.alignEmptyValues,c=0,d;if(!t)c=e?-1:0;else if(!e)c=1;else{switch(typeof o.locale){case"boolean":o.locale&&(d=this.langLocale());break;case"string":d=o.locale;break}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),d)}return(l==="top"&&s==="desc"||l==="bottom"&&s==="asc")&&(c*=-1),c}function RS(t,e,n,i,r,s,o){var l=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),c=o.format||"dd/MM/yyyy HH:mm:ss",d=o.alignEmptyValues,f=0;if(typeof l<"u"){if(l.isDateTime(t)||(c==="iso"?t=l.fromISO(String(t)):t=l.fromFormat(String(t),c)),l.isDateTime(e)||(c==="iso"?e=l.fromISO(String(e)):e=l.fromFormat(String(e),c)),!t.isValid)f=e.isValid?-1:0;else if(!e.isValid)f=1;else return t-e;return(d==="top"&&s==="desc"||d==="bottom"&&s==="asc")&&(f*=-1),f}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function Qq(t,e,n,i,r,s,o){return o.format||(o.format="dd/MM/yyyy"),RS.call(this,t,e,n,i,r,s,o)}function eY(t,e,n,i,r,s,o){return o.format||(o.format="HH:mm"),RS.call(this,t,e,n,i,r,s,o)}function tY(t,e,n,i,r,s,o){var l=t===!0||t==="true"||t==="True"||t===1?1:0,c=e===!0||e==="true"||e==="True"||e===1?1:0;return l-c}function nY(t,e,n,i,r,s,o){var l=o.type||"length",c=o.alignEmptyValues,d=0,f=this.table,m;o.valueMap&&(typeof o.valueMap=="string"?m=function(w){return w.map(C=>un.retrieveNestedData(f.options.nestedFieldSeparator,o.valueMap,C))}:m=o.valueMap);function v(w){var C;switch(m&&(w=m(w)),l){case"length":C=w.length;break;case"sum":C=w.reduce(function(S,_){return S+_});break;case"max":C=Math.max.apply(null,w);break;case"min":C=Math.min.apply(null,w);break;case"avg":C=w.reduce(function(S,_){return S+_})/w.length;break;case"string":C=w.join("");break}return C}if(!Array.isArray(t))d=Array.isArray(e)?-1:0;else if(!Array.isArray(e))d=1;else return l==="string"?String(v(t)).toLowerCase().localeCompare(String(v(e)).toLowerCase()):v(e)-v(t);return(c==="top"&&s==="desc"||c==="bottom"&&s==="asc")&&(d*=-1),d}function iY(t,e,n,i,r,s,o){var l=typeof t>"u"?0:1,c=typeof e>"u"?0:1;return l-c}function rY(t,e,n,i,r,s,o){var l,c,d,f,m=0,v,w=/(\d+)|(\D+)/g,C=/\d/,S=o.alignEmptyValues,_=0;if(!t&&t!==0)_=!e&&e!==0?0:-1;else if(!e&&e!==0)_=1;else{if(isFinite(t)&&isFinite(e))return t-e;if(l=String(t).toLowerCase(),c=String(e).toLowerCase(),l===c)return 0;if(!(C.test(l)&&C.test(c)))return l>c?1:-1;for(l=l.match(w),c=c.match(w),v=l.length>c.length?c.length:l.length;m<v;)if(d=l[m],f=c[m++],d!==f)return isFinite(d)&&isFinite(f)?(d.charAt(0)==="0"&&(d="."+d),f.charAt(0)==="0"&&(f="."+f),d-f):d>f?1:-1;return l.length>c.length}return(S==="top"&&s==="desc"||S==="bottom"&&s==="asc")&&(_*=-1),_}var sY={number:Jq,string:Zq,date:Qq,time:eY,datetime:RS,boolean:tY,array:nY,exists:iY,alphanum:rY};const Jc=class Jc extends Rt{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,n,i,r){var s=this.getSort();return s.forEach(o=>{delete o.column}),r.sort=s,r}userSetSort(e,n){this.setSort(e,n),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var n=!1,i,r;switch(typeof e.definition.sorter){case"string":Jc.sorters[e.definition.sorter]?n=Jc.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":n=e.definition.sorter;break}if(e.modules.sort={sorter:n,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(i=e.getElement(),i.classList.add("tabulator-sortable"),r=document.createElement("div"),r.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":r.classList.add("tabulator-col-sorter-element");break;case"header":i.classList.add("tabulator-col-sorter-element");break;default:i.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":r.appendChild(this.table.options.headerSortElement);break;default:r.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(r),e.modules.sort.element=r,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&r.addEventListener("mousedown",s=>{s.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?r:i).addEventListener("click",s=>{var o="",l=[],c=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(s.shiftKey||s.ctrlKey)?(l=this.getSort(),c=l.findIndex(d=>d.field===e.getField()),c>-1?(l[c].dir=o,c=l.splice(c,1)[0],o!="none"&&l.push(c)):o!="none"&&l.push({column:e,dir:o}),this.setSort(l)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,n=[];return e.sortList.forEach(function(i){i.column&&n.push({column:i.column.getComponent(),field:i.column.getField(),dir:i.dir})}),n}setSort(e,n){var i=this,r=[];Array.isArray(e)||(e=[{column:e,dir:n}]),e.forEach(function(s){var o;o=i.table.columnManager.findColumn(s.column),o?(s.column=o,r.push(s),i.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",s.column)}),i.sortList=r,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var n=this.table.rowManager.activeRows[0],i="string",r,s;if(n&&(n=n.getData(),r=e.getField(),r))switch(s=e.getFieldValue(n),typeof s){case"undefined":i="string";break;case"boolean":i="boolean";break;default:!isNaN(s)&&s!==""?i="number":s.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum");break}return Jc.sorters[i]}sort(e,n){var i=this,r=this.table.options.sortOrderReverse?i.sortList.slice().reverse():i.sortList,s=[],o=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",i.getSort()),n||i.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(r.forEach(function(l,c){var d;l.column&&(d=l.column.modules.sort,d&&(d.sorter||(d.sorter=i.findSorter(l.column)),l.params=typeof d.params=="function"?d.params(l.column.getComponent(),l.dir):d.params,s.push(l)),n||i.setColumnHeader(l.column,l.dir))}),s.length&&i._sortItems(e,s)):n||r.forEach(function(l,c){i.setColumnHeader(l.column,l.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(l=>{o.push(l.getComponent())}),this.dispatchExternal("dataSorted",i.getSort(),o)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,n){e.modules.sort.dir=n,e.getElement().setAttribute("aria-sort",n==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,n)}setColumnHeaderSortIcon(e,n){var i=e.modules.sort.element,r;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;i.firstChild;)i.removeChild(i.firstChild);r=this.table.options.headerSortElement.call(this.table,e.getComponent(),n),typeof r=="object"?i.appendChild(r):i.innerHTML=r}}_sortItems(e,n){var i=n.length-1;e.sort((r,s)=>{for(var o,l=i;l>=0;l--){let c=n[l];if(o=this._sortRow(r,s,c.column,c.dir,c.params),o!==0)break}return o})}_sortRow(e,n,i,r,s){var o,l,c=r=="asc"?e:n,d=r=="asc"?n:e;return e=i.getFieldValue(c.getData()),n=i.getFieldValue(d.getData()),e=typeof e<"u"?e:"",n=typeof n<"u"?n:"",o=c.getComponent(),l=d.getComponent(),i.modules.sort.sorter.call(this,e,n,o,l,i.getComponent(),r,s)}};Ie(Jc,"moduleName","sort"),Ie(Jc,"sorters",sY);let aE=Jc;class oY{constructor(e,n){this.columnCount=e,this.rowCount=n,this.columnString=[],this.columns=[],this.rows=[]}genColumns(e){var n=Math.max(this.columnCount,Math.max(...e.map(i=>i.length)));this.columnString=[],this.columns=[];for(let i=1;i<=n;i++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(e){var n=Math.max(this.rowCount,e.length);this.rows=[];for(let i=1;i<=n;i++)this.rows.push(i);return this.rows}incrementChar(e){let n=this.columnString[e];n?n!=="Z"?this.columnString[e]=String.fromCharCode(this.columnString[e].charCodeAt(0)+1):(this.columnString[e]="A",e?this.incrementChar(e-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(e){this.rowCount=e}setColumnCount(e){this.columnCount=e}}class WN{constructor(e){return this._sheet=e,new Proxy(this,{get:function(n,i,r){return typeof n[i]<"u"?n[i]:n._sheet.table.componentFunctionBinder.handle("sheet",n._sheet,i)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(e){return this._sheet.setData(e)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(e){return this._sheet.setTitle(e)}setRows(e){return this._sheet.setRows(e)}setColumns(e){return this._sheet.setColumns(e)}}class _T extends Ei{constructor(e,n){super(e.table),this.spreadsheetManager=e,this.definition=n,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new oY(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(e=>{var n=Object.assign({},this.columnDefinition);n.field=e,n.title=e,this.columnDefs.push(n)})}initializeRows(){var e;this.grid.setRowCount(this.rowCount),e=this.grid.genRows(this.data),this.rowDefs=[],e.forEach((n,i)=>{var r={_id:n},s=this.data[i];s&&s.forEach((o,l)=>{var c=this.columnFields[l];c&&(r[c]=o)}),this.rowDefs.push(r)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var e=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),e&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new WN(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(e){var n=[],i,r,s;return this.rowDefs.forEach(o=>{var l=[];this.columnFields.forEach(c=>{l.push(o[c])}),n.push(l)}),!e&&!this.options("spreadsheetOutputFull")&&(i=n.map(o=>o.findLastIndex(l=>typeof l<"u")+1),r=Math.max(...i),s=i.findLastIndex(o=>o>0)+1,n=n.slice(0,s),n=n.map(o=>o.slice(0,r))),n}setData(e){this.data=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(e){this.title=e,this.element.innerText=e,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(e){this.rowCount=e,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(e){this.columnCount=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}class GN extends Rt{constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&(e=document.querySelector(e),e||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,n,i){return console.log("data",e,n,i),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e),!1}loadData(e){var n={data:e};this.loadSheet(this.newSheet(n))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(n=>{this.newSheet(n)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var n;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),n=new _T(this,e),this.sheets.push(n),this.element&&this.element.appendChild(n.element),n}removeSheet(e){var n=this.sheets.indexOf(e),i;this.sheets.length>1?n>-1&&(this.sheets.splice(n,1),e.destroy(),this.activeSheet===e&&(i=this.sheets[n-1]||this.sheets[0],i?this.loadSheet(i):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof _T?e:e instanceof WN?e._sheet:this.sheets.find(n=>n.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var n=this.lookupSheet(e);return n?n.getComponent():!1}setSheetData(e,n){e&&!n&&(n=e,e=!1);var i=this.lookupSheet(e);return i?i.setData(n):!1}getSheetData(e){var n=this.lookupSheet(e);return n?n.getData():!1}clearSheet(e){var n=this.lookupSheet(e);return n?n.clear():!1}removeSheetFunc(e){var n=this.lookupSheet(e);n&&this.removeSheet(n)}activeSheetFunc(e){var n=this.lookupSheet(e);return n?this.loadSheet(n):!1}}Ie(GN,"moduleName","spreadsheet");class qN extends Rt{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,n,i){var r=e==="tooltip"?i.column.definition.tooltip:i.definition.headerTooltip;r&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,n,i,r),this.table.options.tooltipDelay))}mouseoutCheck(e,n,i){this.popupInstance||this.clearPopup()}clearPopup(e,n,i){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,n,i){var r,s,o;function l(c){s=c}typeof i=="function"&&(i=i(e,n.getComponent(),l)),i instanceof HTMLElement?r=i:(r=document.createElement("div"),i===!0&&(n instanceof ov?i=n.value:n.definition.field?this.langBind("columns|"+n.definition.field,c=>{r.innerHTML=i=c||n.definition.title}):i=n.definition.title),r.innerHTML=i),(i||i===0||i===!1)&&(r.classList.add("tabulator-tooltip"),r.addEventListener("mousemove",c=>c.preventDefault()),this.popupInstance=this.popup(r),typeof s=="function"&&this.popupInstance.renderCallback(s),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",n.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",n.getComponent()))}}Ie(qN,"moduleName","tooltip");var aY={integer:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(t,e,n){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(/^[a-z0-9]+$/i);return i.test(e)},max:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=n},min:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=n},starts:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:String(e).length>=n},maxLength:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:String(e).length<=n},in:function(t,e,n){return e===""||e===null||typeof e>"u"?!0:(typeof n=="string"&&(n=n.split("|")),n.indexOf(e)>-1)},regex:function(t,e,n){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(n);return i.test(e)},unique:function(t,e,n){if(e===""||e===null||typeof e>"u")return!0;var i=!0,r=t.getData(),s=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var l=o.getData();l!==r&&e==s.getFieldValue(l)&&(i=!1)}),i},required:function(t,e,n){return e!==""&&e!==null&&typeof e<"u"}};const Cg=class Cg extends Rt{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,n,i){var r=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,n):!0;return r!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),n,r)}),r}editorClear(e,n){n&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var n=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&n.push(i.getComponent())}),n.length?n:!0}rowValidate(e){var n=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&n.push(i.getComponent())}),n.length?n:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(n=>{this.clearValidation(n._getSelf())})}userValidate(e){var n=[];return this.table.rowManager.rows.forEach(i=>{i=i.getComponent();var r=i.validate();r!==!0&&(n=n.concat(r))}),n.length?n:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var n=this,i=[],r;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(s=>{r=n._extractValidator(s),r&&i.push(r)}):(r=this._extractValidator(e.definition.validator),r&&i.push(r)),e.modules.validate=i.length?i:!1)}_extractValidator(e){var n,i,r;switch(typeof e){case"string":return r=e.indexOf(":"),r>-1?(n=e.substring(0,r),i=e.substring(r+1)):n=e,this._buildValidator(n,i);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,n){var i=typeof e=="function"?e:Cg.validators[e];return i?{type:typeof e=="function"?"function":e,func:i,params:n}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,n,i){var r=this,s=[],o=this.invalidCells.indexOf(n);return e&&e.forEach(l=>{l.func.call(r,n.getComponent(),i,l.params)||s.push({type:l.type,parameters:l.params})}),n.modules.validate||(n.modules.validate={}),s.length?(n.modules.validate.invalid=s,this.table.options.validationMode!=="manual"&&n.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(n)):(n.modules.validate.invalid=!1,n.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),s.length?s:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(n=>{e.push(n.getComponent())}),e}clearValidation(e){var n;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,n=this.invalidCells.indexOf(e),n>-1&&this.invalidCells.splice(n,1))}};Ie(Cg,"moduleName","validate"),Ie(Cg,"validators",aY);let lE=Cg;var j1=Object.freeze({__proto__:null,AccessorModule:BC,AjaxModule:VC,ClipboardModule:WC,ColumnCalcsModule:GC,DataTreeModule:DN,DownloadModule:qC,EditModule:YC,ExportModule:XC,FilterModule:KC,FormatModule:JC,FrozenColumnsModule:NN,FrozenRowsModule:LN,GroupRowsModule:PN,HistoryModule:ZC,HtmlTableImportModule:jN,ImportModule:QC,InteractionModule:IN,KeybindingsModule:eE,MenuModule:kq,MoveColumnsModule:zN,MoveRowsModule:tE,MutatorModule:nE,PageModule:iE,PersistenceModule:rE,PopupModule:FN,PrintModule:HN,ReactiveDataModule:BN,ResizeColumnsModule:UN,ResizeRowsModule:$N,ResizeTableModule:VN,ResponsiveLayoutModule:sE,SelectRangeModule:a0,SelectRowModule:oE,SortModule:aE,SpreadsheetModule:GN,TooltipModule:qN,ValidateModule:lE}),lY={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class YN{constructor(e,n,i={}){this.table=e,this.msgType=n,this.registeredDefaults=Object.assign({},i)}register(e,n){this.registeredDefaults[e]=n}generate(e,n={}){var i=Object.assign({},this.registeredDefaults),r=this.table.options.debugInvalidOptions||n.debugInvalidOptions===!0;Object.assign(i,e);for(let s in n)i.hasOwnProperty(s)||(r&&console.warn("Invalid "+this.msgType+" option:",s),i[s]=n.key);for(let s in i)s in n?i[s]=n[s]:Array.isArray(i[s])?i[s]=Object.assign([],i[s]):typeof i[s]=="object"&&i[s]!==null?i[s]=Object.assign({},i[s]):typeof i[s]>"u"&&delete i[s];return i}}class Mw extends Ei{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,n){}renderRowCells(e){}rerenderRowCells(e,n){}scrollColumns(e,n){}scrollRows(e,n){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,n){var i=e.getElement();n%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,n,i){var r=this.rows().indexOf(e),s=e.getElement(),o=0;return new Promise((l,c)=>{if(r>-1){if(typeof i>"u"&&(i=this.table.options.scrollToRowIfVisible),!i&&un.elVisible(s)&&(o=un.elOffset(s).top-un.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-s.offsetHeight))return l(),!1;switch(typeof n>"u"&&(n=this.table.options.scrollToRowPosition),n==="nearest"&&(n=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),n){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(s.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-s.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-s.offsetTop)+s.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+s.offsetHeight;break;case"top":this.elementVertical.scrollTop=s.offsetTop;break}l()}else console.warn("Scroll Error - Row not visible"),c("Scroll Error - Row not visible")})}}class uY extends Mw{constructor(e){super(e)}renderRowCells(e,n){const i=document.createDocumentFragment();e.cells.forEach(r=>{i.appendChild(r.getElement())}),e.element.appendChild(i),n||e.cells.forEach(r=>{r.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(n){n.reinitializeWidth()})}}class cY extends Mw{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,n){this.dataChange()}scrollColumns(e,n){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(n=>{if(n.visible){var i=n.getWidth();i>e&&(e=i)}}),this.windowBuffer=e*2}rerenderColumns(e,n){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},r=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(s=>{var o={},l;s.visible&&(s.modules.frozen||(l=s.getWidth(),o.leftPos=r,o.rightPos=r+l,o.width=l,this.isFitData&&(o.fitDataCheck=s.modules.vdomHoz?s.modules.vdomHoz.fitDataCheck:!0),r+l>this.vDomScrollPosLeft&&r<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=r),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=l),this.columns.push(s),s.modules.vdomHoz=o,r+=l))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,n||(!e||this.reinitChanged(i))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const n=document.createDocumentFragment();e.cells.forEach(i=>{n.appendChild(i.getElement())}),e.element.appendChild(n),e.cells.forEach(i=>{i.cellRendered()})}}rerenderRowCells(e,n){this.reinitializeRow(e,n)}reinitializeColumnWidths(e){for(let n=this.leftCol;n<=this.rightCol;n++){let i=this.columns[n];i&&i.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,n,i;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,n=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],n)){i=n.getElement(),n.generateCells(),this.tableElement.appendChild(i);for(let r=0;r<n.cells.length;r++){let s=n.cells[r];i.appendChild(s.getElement()),s.column.reinitializeWidth()}i.parentNode.removeChild(i),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var n=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((i,r)=>{i!==this.columns[r]&&(n=!1)}),!n)}reinitializeRows(){var e=this.getVisibleRows(),n=this.table.rowManager.getRows().filter(i=>!e.includes(i));e.forEach(i=>{this.reinitializeRow(i,!0)}),n.forEach(i=>{i.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,n,i){for(let r=e;r<n;r++){let s=this.columns[r];s.modules.vdomHoz.leftPos+=i,s.modules.vdomHoz.rightPos+=i}}addColRight(){for(var e=!1,n=!0;n;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);r.getElement().insertBefore(s.getElement(),r.getCell(this.columns[this.rightCol]).getElement().nextSibling),s.cellRendered()}}),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):n=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,n=!0;n;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var o=s.getCell(i);s.getElement().insertBefore(o.getElement(),s.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let r=this.fitDataColActualWidthCheck(i);r&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+r,this.vDomPadRight-=r)}else n=!1;else n=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,n=!0;n;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);try{r.getElement().removeChild(s.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)})):n=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,n=!0;n;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);try{r.getElement().removeChild(s.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)})):n=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var n,i;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),n=e.getWidth(),i=n-e.modules.vdomHoz.width,i&&(e.modules.vdomHoz.rightPos+=i,e.modules.vdomHoz.width=n,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,i)),e.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(n=>{this.appendCell(e,n)});for(let n=this.leftCol;n<=this.rightCol;n++)this.appendCell(e,this.columns[n]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(n=>{this.appendCell(e,n)})}}appendCell(e,n){if(n&&n.visible){let i=e.getCell(n);e.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(e,n){if(e.type!=="group"&&(n||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=e.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(e)}}}class dY extends Ei{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new YN(this.table,"column definition",MN),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,n={virtual:cY,basic:uY};typeof this.table.options.renderHorizontal=="string"?e=n[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var n;e.deltaX&&(n=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(n),this.table.columnManager.scrollHorizontal(n))})}generateColumnsFromRowData(e){var n=[],i={},r=this.table.options.autoColumns==="full"?e:[e[0]],s=this.table.options.autoColumnsDefinitions;if(e&&e.length){if(r.forEach(o=>{Object.keys(o).forEach((l,c)=>{let d=o[l],f;i[l]?i[l]!==!0&&typeof d<"u"&&(i[l].sorter=this.calculateSorterFromValue(d),i[l]=!0):(f={field:l,title:l,sorter:this.calculateSorterFromValue(d)},n.splice(c,0,f),i[l]=typeof d>"u"?f:!0)})}),s)switch(typeof s){case"function":this.table.options.columns=s.call(this.table,n);break;case"object":Array.isArray(s)?n.forEach(o=>{var l=s.find(c=>c.field===o.field);l&&Object.assign(o,l)}):n.forEach(o=>{s[o.field]&&Object.assign(o,s[o.field])}),this.table.options.columns=n;break}else this.table.options.columns=n;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(e){var n;switch(typeof e){case"undefined":n="string";break;case"boolean":n="boolean";break;case"number":n="number";break;case"object":Array.isArray(e)?n="array":n="string";break;default:!isNaN(e)&&e!==""?n="number":e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?n="alphanum":n="string";break}return n}setColumns(e,n){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new td(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),e.forEach((i,r)=>{this._addColumn(i)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,n,i){var r=new td(e,this),s=r.getElement(),o=i&&this.findColumnIndex(i);if(n&&this.rowHeader&&(!i||i===this.rowHeader)&&(n=!1,i=this.rowHeader,o=0),i&&o>-1){var l=i.getTopColumn(),c=this.columns.indexOf(l),d=l.getElement();n?(this.columns.splice(c,0,r),d.parentNode.insertBefore(s,d)):(this.columns.splice(c+1,0,r),d.parentNode.insertBefore(s,d.nextSibling))}else n?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement()));return r.columnRendered(),r}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(n=>{n.clearVerticalAlign()}),this.columns.forEach(n=>{var i=n.getHeight();i>e&&(e=i)}),this.headersElement.style.height=e+"px",this.columns.forEach(n=>{n.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var n;if(typeof e=="object"){if(e instanceof td)return e;if(e instanceof kN)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return n=[],this.columns.forEach(r=>{n.push(r),n=n.concat(r.getColumns(!0))}),n.find(r=>r.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var n=[];return Object.keys(this.columnsByField).forEach(i=>{var r=this.table.options.nestedFieldSeparator?i.split(this.table.options.nestedFieldSeparator)[0]:i;r===e&&n.push(this.columnsByField[i])}),n}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(n=>n.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(n=>e===n)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((n,i)=>{e(n,i)})}getDefinitions(e){var n=[];return this.columnsByIndex.forEach(i=>{(!e||e&&i.visible)&&n.push(i.getDefinition())}),n}getDefinitionTree(){var e=[];return this.columns.forEach(n=>{e.push(n.getDefinition(!0))}),e}getComponents(e){var n=[],i=e?this.columns:this.columnsByIndex;return i.forEach(r=>{n.push(r.getComponent())}),n}getWidth(){var e=0;return this.columnsByIndex.forEach(n=>{n.visible&&(e+=n.getWidth())}),e}moveColumn(e,n,i){n.element.parentNode.insertBefore(e.element,n.element),i&&n.element.parentNode.insertBefore(n.element,e.element),this.moveColumnActual(e,n,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,n,i){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,n,i):this._moveColumnInArray(this.columns,e,n,i),this._moveColumnInArray(this.columnsByIndex,e,n,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,n,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,n,i,r,s){var o=e.indexOf(n),l,c=[];o>-1&&(e.splice(o,1),l=e.indexOf(i),l>-1?r&&(l=l+1):l=o,e.splice(l,0,n),s&&(c=this.chain("column-moving-rows",[n,i,r],null,[])||[],c=c.concat(this.table.rowManager.rows),c.forEach(function(d){if(d.cells.length){var f=d.cells.splice(o,1)[0];d.cells.splice(l,0,f)}})))}scrollToColumn(e,n,i){var r=0,s=e.getLeftOffset(),o=0,l=e.getElement();return new Promise((c,d)=>{if(typeof n>"u"&&(n=this.table.options.scrollToColumnPosition),typeof i>"u"&&(i=this.table.options.scrollToColumnIfVisible),e.visible){switch(n){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=l.clientWidth-this.headersElement.clientWidth;break}if(!i&&s>0&&s+l.offsetWidth<this.element.clientWidth)return!1;r=s+o,r=Math.max(Math.min(r,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(r),this.scrollHorizontal(r),c()}else console.warn("Scroll Error - Column not visible"),d("Scroll Error - Column not visible")})}generateCells(e){var n=[];return this.columnsByIndex.forEach(i=>{n.push(i.generateCell(e))}),n}getFlexBaseWidth(){var e=this.table.element.clientWidth,n=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var r,s,o;i.visible&&(r=i.definition.width||0,s=parseInt(i.minWidth),typeof r=="string"?r.indexOf("%")>-1?o=e/100*parseInt(r):o=parseInt(r):o=r,n+=o>s?o:s)}),n}addColumn(e,n,i){return new Promise((r,s)=>{var o=this._addColumn(e,n,i);this._reIndexColumns(),this.dispatch("column-add",e,n,i),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),r(o)})}deregisterColumn(e){var n=e.getField(),i;n&&delete this.columnsByField[n],i=this.columnsByIndex.indexOf(e),i>-1&&this.columnsByIndex.splice(i,1),i=this.columns.indexOf(e),i>-1&&this.columns.splice(i,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,n){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,n)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){un.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class hY extends Mw{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,n=!0,i=document.createDocumentFragment(),r=this.rows();r.forEach((s,o)=>{this.styleRow(s,o),s.initialize(!1,!0),s.type!=="group"&&(n=!1),i.appendChild(s.getElement())}),e.appendChild(i),r.forEach(s=>{s.rendered(),s.heightInitialized||s.calcHeight(!0)}),r.forEach(s=>{s.heightInitialized||s.setCellHeight()}),n?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var n=un.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-n)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-n))}scrollToRow(e){var n=e.getElement();this.elementVertical.scrollTop=un.elOffset(n).top-un.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class fY extends Mw{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var n=this.elementVertical.scrollTop,i=!1,r=!1,s=this.table.rowManager.scrollLeft,o=this.rows(),l=this.vDomTop;l<=this.vDomBottom;l++)if(o[l]){var c=n-o[l].getElement().offsetTop;if(r===!1||Math.abs(c)<r)r=c,i=l;else break}o.forEach(d=>{d.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(i===!1?this.rows.length-1:i,!0,r||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(s)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,n){var i=e-this.vDomScrollPosTop,r=e-this.vDomScrollPosBottom,s=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-i>s||r>s){var l=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(l)}else n?(i<0&&this._addTopRow(o,-i),r<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-r):this.vDomScrollPosBottom=this.scrollTop)):(r>=0&&this._addBottomRow(o,r),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var n=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-n)>Math.abs(this.vDomBottom-n))}scrollToRow(e){var n=this.rows().indexOf(e);n>-1&&this._virtualRenderFill(n,!0)}visibleRows(e){var n=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+n,r=!1,s=0,o=0,l=this.rows();if(e)s=this.vDomTop,o=this.vDomBottom;else for(var c=this.vDomTop;c<=this.vDomBottom;c++)if(l[c])if(r)if(i-l[c].getElement().offsetTop>=0)o=c;else break;else if(n-l[c].getElement().offsetTop>=0)s=c;else if(r=!0,i-l[c].getElement().offsetTop>=0)o=c;else break;return l.slice(s,o+1)}_virtualRenderFill(e,n,i){var r=this.tableElement,s=this.elementVertical,o=0,l=0,c=0,d=0,f=0,m=0,v=this.rows(),w=v.length,C=0,S,_,R=[],M=0,k=0,D=this.table.rowManager.fixedHeight,P=this.elementVertical.clientHeight,O=this.table.options.rowHeight,j=!0;if(e=e||0,i=i||0,!e)this.clear();else{for(;r.firstChild;)r.removeChild(r.firstChild);d=(w-e+1)*this.vDomRowHeight,d<P&&(e-=Math.ceil((P-d)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(w&&un.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,D||this.table.options.maxHeight?(O&&(k=P/O+this.vDomWindowBuffer/O),k=Math.max(this.vDomWindowMinTotalRows,Math.ceil(k))):k=w;(k==w||l<=P+this.vDomWindowBuffer||M<this.vDomWindowMinTotalRows)&&this.vDomBottom<w-1;){for(R=[],_=document.createDocumentFragment(),m=0;m<k&&this.vDomBottom<w-1;)C=this.vDomBottom+1,S=v[C],this.styleRow(S,C),S.initialize(!1,!0),!S.heightInitialized&&!this.table.options.rowHeight&&S.clearCellHeight(),_.appendChild(S.getElement()),R.push(S),this.vDomBottom++,m++;if(!R.length)break;r.appendChild(_),R.forEach(B=>{B.rendered(),B.heightInitialized||B.calcHeight(!0)}),R.forEach(B=>{B.heightInitialized||B.setCellHeight()}),R.forEach(B=>{c=B.getHeight(),M<o?f+=c:l+=c,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=c*2),M++}),j=this.table.rowManager.adjustTableSize(),P=this.elementVertical.clientHeight,j&&(D||this.table.options.maxHeight)&&(O=l/M,k=Math.max(this.vDomWindowMinTotalRows,Math.ceil(P/O+this.vDomWindowBuffer/O)))}e?(this.vDomTopPad=n?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-f,this.vDomBottomPad=this.vDomBottom==w-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-l-f,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((l+f)/M),this.vDomBottomPad=this.vDomRowHeight*(w-this.vDomBottom-1),this.vDomScrollHeight=f+l+this.vDomBottomPad-P),r.style.paddingTop=this.vDomTopPad+"px",r.style.paddingBottom=this.vDomBottomPad+"px",n&&(this.scrollTop=this.vDomTopPad+f+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-P:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-P),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&n&&(this.scrollTop+=this.elementVertical.offsetHeight-P),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,s.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,n){for(var i=this.tableElement,r=[],s=0,o=this.vDomTop-1,l=0,c=!0;c;)if(this.vDomTop){let d=e[o],f,m;d&&l<this.vDomMaxRenderChain?(f=d.getHeight()||this.vDomRowHeight,m=d.initialized,n>=f?(this.styleRow(d,o),i.insertBefore(d.getElement(),i.firstChild),(!d.initialized||!d.heightInitialized)&&r.push(d),d.initialize(),m||(f=d.getElement().offsetHeight,f>this.vDomWindowBuffer&&(this.vDomWindowBuffer=f*2)),n-=f,s+=f,this.vDomTop--,o--,l++):c=!1):c=!1}else c=!1;for(let d of r)d.clearCellHeight();this._quickNormalizeRowHeight(r),s&&(this.vDomTopPad-=s,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=s)}_removeTopRow(e,n){for(var i=[],r=0,s=0,o=!0;o;){let l=e[this.vDomTop],c;l&&s<this.vDomMaxRenderChain?(c=l.getHeight()||this.vDomRowHeight,n>=c?(this.vDomTop++,n-=c,r+=c,i.push(l),s++):o=!1):o=!1}for(let l of i){let c=l.getElement();c.parentNode&&c.parentNode.removeChild(c)}r&&(this.vDomTopPad+=r,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer)}_addBottomRow(e,n){for(var i=this.tableElement,r=[],s=0,o=this.vDomBottom+1,l=0,c=!0;c;){let d=e[o],f,m;d&&l<this.vDomMaxRenderChain?(f=d.getHeight()||this.vDomRowHeight,m=d.initialized,n>=f?(this.styleRow(d,o),i.appendChild(d.getElement()),(!d.initialized||!d.heightInitialized)&&r.push(d),d.initialize(),m||(f=d.getElement().offsetHeight,f>this.vDomWindowBuffer&&(this.vDomWindowBuffer=f*2)),n-=f,s+=f,this.vDomBottom++,o++,l++):c=!1):c=!1}for(let d of r)d.clearCellHeight();this._quickNormalizeRowHeight(r),s&&(this.vDomBottomPad-=s,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=s)}_removeBottomRow(e,n){for(var i=[],r=0,s=0,o=!0;o;){let l=e[this.vDomBottom],c;l&&s<this.vDomMaxRenderChain?(c=l.getHeight()||this.vDomRowHeight,n>=c?(this.vDomBottom--,n-=c,r+=c,i.push(l),s++):o=!1):o=!1}for(let l of i){let c=l.getElement();c.parentNode&&c.parentNode.removeChild(c)}r&&(this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r)}_quickNormalizeRowHeight(e){for(let n of e)n.calcHeight();for(let n of e)n.setCellHeight()}}class pY extends Ei{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let n=document.createElement("div");if(n.classList.add("tabulator-placeholder"),typeof e=="string"){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=e,n.appendChild(i),this.placeholderContents=i}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(n.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=n}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,n=this.scrollLeft>e,i=this.element.scrollTop,r=this.scrollTop>i;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,n),this.dispatchExternal("scrollHorizontal",e,n),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,r),this.dispatch("scroll-vertical",i,r),this.dispatchExternal("scrollVertical",i,r))})}findRow(e){if(typeof e=="object"){if(e instanceof Di)return e;if(e instanceof Aw)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(i=>i.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(i=>i.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var n=this.rows.find(i=>i.data===e);return n||!1}getRowFromPosition(e){return this.getDisplayRows().find(n=>n.type==="row"&&n.getPosition()===e&&n.isDisplayed())}scrollToRow(e,n,i){return this.renderer.scrollToRowPosition(e,n,i)}setData(e,n,i){return new Promise((r,s)=>{n&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),r()})}_setDataActual(e,n){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((i,r)=>{if(i&&typeof i=="object"){var s=new Di(i,this);this.rows.push(s)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",i)}),this.refreshActiveData(!1,!1,n),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,n){var i=this.rows.indexOf(e),r=this.activeRows.indexOf(e);r>-1&&this.activeRows.splice(r,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator(s=>{var o=s.indexOf(e);o>-1&&s.splice(o,1)}),n||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,n,i,r){var s=this.addRowActual(e,n,i,r);return s}addRows(e,n,i,r){var s=[];return new Promise((o,l)=>{n=this.findAddRowPos(n),Array.isArray(e)||(e=[e]),(typeof i>"u"&&n||typeof i<"u"&&!n)&&e.reverse(),e.forEach((c,d)=>{var f=this.addRow(c,n,i,!0);s.push(f),this.dispatch("row-added",f,c,n,i)}),this.refreshActiveData(r?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),o(s)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,n,i,r){var s=e instanceof Di?e:new Di(e||{},this),o=this.findAddRowPos(n),l=-1,c,d;return i||(d=this.chain("row-adding-position",[s,o],null,{index:i,top:o}),i=d.index,o=d.top),typeof i<"u"&&(i=this.findRow(i)),i=this.chain("row-adding-index",[s,i,o],null,i),i&&(l=this.rows.indexOf(i)),i&&l>-1?(c=this.activeRows.indexOf(i),this.displayRowIterator(function(f){var m=f.indexOf(i);m>-1&&f.splice(o?m:m+1,0,s)}),c>-1&&this.activeRows.splice(o?c:c+1,0,s),this.rows.splice(o?l:l+1,0,s)):o?(this.displayRowIterator(function(f){f.unshift(s)}),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator(function(f){f.push(s)}),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",s.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r||this.reRenderInPosition(),s}moveRow(e,n,i){this.dispatch("row-move",e,n,i),this.moveRowActual(e,n,i),this.regenerateRowPositions(),this.dispatch("row-moved",e,n,i),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,n,i){this.moveRowInArray(this.rows,e,n,i),this.moveRowInArray(this.activeRows,e,n,i),this.displayRowIterator(r=>{this.moveRowInArray(r,e,n,i)}),this.dispatch("row-moving",e,n,i)}moveRowInArray(e,n,i,r){var s,o,l,c;if(n!==i&&(s=e.indexOf(n),s>-1&&(e.splice(s,1),o=e.indexOf(i),o>-1?r?e.splice(o+1,0,n):e.splice(o,0,n):e.splice(s,0,n)),e===this.getDisplayRows())){l=s<o?s:o,c=o>s?o:s+1;for(let d=l;d<=c;d++)e[d]&&this.styleRow(e[d],d)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var n=this.getDisplayRows().indexOf(e);return n>-1?n:!1}nextDisplayRow(e,n){var i=this.getDisplayRowIndex(e),r=!1;return i!==!1&&i<this.displayRowsCount-1&&(r=this.getDisplayRows()[i+1]),r&&(!(r instanceof Di)||r.type!="row")?this.nextDisplayRow(r,n):r}prevDisplayRow(e,n){var i=this.getDisplayRowIndex(e),r=!1;return i&&(r=this.getDisplayRows()[i-1]),n&&r&&(!(r instanceof Di)||r.type!="row")?this.prevDisplayRow(r,n):r}findRowIndex(e,n){var i;return e=this.findRow(e),e&&(i=n.indexOf(e),i>-1)?i:!1}getData(e,n){var i=[],r=this.getRows(e);return r.forEach(function(s){s.type=="row"&&i.push(s.getData(n||"data"))}),i}getComponents(e){var n=[],i=this.getRows(e);return i.forEach(function(r){n.push(r.getComponent())}),n}getDataCount(e){var n=this.getRows(e);return n.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,n){typeof n<"u"?(this.dataPipeline.push({handler:e,priority:n}),this.dataPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,n){typeof n<"u"?(this.displayPipeline.push({handler:e,priority:n}),this.displayPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,n,i){var r=this.table,s="",o=0,l=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(c=>c.handler===e),o>-1)s="dataPipeline",n&&(o==this.dataPipeline.length-1?s="display":o++);else if(o=this.displayPipeline.findIndex(c=>c.handler===e),o>-1)s="displayPipeline",n&&(o==this.displayPipeline.length-1?s="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else s=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===s&&o<this.redrawBlockRestoreConfig.index||l.indexOf(s)<l.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:n,renderInPosition:i,stage:s,index:o});return}else un.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,e,s,o,i)):(this.refreshPipelines(e,s,o,i),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),r.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,s,o,i),this.dispatch("data-refreshed")}}refreshPipelines(e,n,i,r){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),n){case"all":case"dataPipeline":for(let s=i;s<this.dataPipeline.length;s++){let o=this.dataPipeline[s].handler(this.activeRowsPipeline[s].slice(0));this.activeRowsPipeline[s+1]=o||this.activeRowsPipeline[s].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let s=i;s<this.displayPipeline.length;s++){let o=this.displayPipeline[s].handler((s?this.getDisplayRows(s-1):this.activeRows).slice(0),r);this.setDisplayRows(o||this.getDisplayRows(s-1).slice(0),s)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),n=1;e.forEach(i=>{i.type==="row"&&(i.setPosition(n),n++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,n){this.displayRows[n]=e,n==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,n){var i=Object.assign([],this.renderer.visibleRows(!n));return e&&(i=this.chain("rows-visible",[n],i,i)),i}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var n=[];switch(e){case"active":n=this.activeRows;break;case"display":n=this.table.rowManager.getDisplayRows();break;case"visible":n=this.getVisibleRows(!1,!0);break;default:n=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return n}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,n={virtual:fY,basic:hY};typeof this.table.options.renderVertical=="string"?e=n[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,n){var i=e.getElement();n%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(e){this.activeRows.forEach(function(n){n.normalizeHeight(e)})}adjustTableSize(){let e=this.element.clientHeight,n,i=!1;if(this.renderer.verticalFillMode==="fill"){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){n=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const s="calc(100% - "+r+"px)";this.element.style.minHeight=n||"calc(100% - "+r+"px)",this.element.style.height=s,this.element.style.maxHeight=s}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(i=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),i}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class mY extends Ei{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class gY extends Ei{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(n=>{e[n]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,n,i){this.pseudoTrackers[e].target!==i&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",n,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,n),this.pseudoTrackers[e].target=i,this.dispatch(e+"-mouseenter",n,i))}pseudoMouseLeave(e,n){var i=Object.keys(this.pseudoTrackers),r={row:["cell"],cell:["row"]};i=i.filter(s=>{var o=r[e];return s!==e&&(!o||o&&!o.includes(s))}),i.forEach(s=>{var o=this.pseudoTrackers[s].target;this.pseudoTrackers[s].target&&(this.dispatch(s+"-mouseleave",n,o),this.pseudoTrackers[s].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),n=Object.values(this.componentMap);for(let i of n)for(let r of e){let s=i+"-"+r;this.subscriptionChange(s,this.subscriptionChanged.bind(this,i,r))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,n,i){var r=this.listeners[n].components,s=r.indexOf(e),o=!1;i?s===-1&&(r.push(e),o=!0):this.subscribed(e+"-"+n)||s>-1&&(r.splice(s,1),o=!0),(n==="mouseenter"||n==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let n=this.listeners[e];n.components.length?n.handler||(n.handler=this.track.bind(this,e),this.el.addEventListener(e,n.handler)):n.handler&&(this.el.removeEventListener(e,n.handler),n.handler=null)}}track(e,n){var i=n.composedPath&&n.composedPath()||n.path,r=this.findTargets(i);r=this.bindComponents(e,r),this.triggerEvents(e,n,r),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(r).length&&this.pseudoMouseLeave("none",n)}findTargets(e){var n={};let i=Object.keys(this.componentMap);for(let r of e){let s=r.classList?[...r.classList]:[];if(s.filter(c=>this.abortClasses.includes(c)).length)break;let l=s.filter(c=>i.includes(c));for(let c of l)n[this.componentMap[c]]||(n[this.componentMap[c]]=r)}return n.group&&n.group===n.row&&delete n.row,n}bindComponents(e,n){var i=Object.keys(n).reverse(),r=this.listeners[e],s={},o={},l={};for(let c of i){let d,f=n[c],m=this.previousTargets[c];if(m&&m.target===f)d=m.component;else switch(c){case"row":case"group":(r.components.includes("row")||r.components.includes("cell")||r.components.includes("group"))&&(d=this.table.rowManager.getVisibleRows(!0).find(w=>w.getElement()===f),n.row&&n.row.parentNode&&n.row.parentNode.closest(".tabulator-row")&&(n[c]=!1));break;case"column":r.components.includes("column")&&(d=this.table.columnManager.findColumn(f));break;case"cell":r.components.includes("cell")&&(s.row instanceof Di?d=s.row.findCell(f):n.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}d&&(s[c]=d,l[c]={target:f,component:d})}return this.previousTargets=l,Object.keys(n).forEach(c=>{let d=s[c];o[c]=d}),o}triggerEvents(e,n,i){var r=this.listeners[e];for(let s in i)i[s]&&r.components.includes(s)&&this.dispatch(s+"-"+e,n,i[s])}clearWatchers(){for(let e in this.listeners){let n=this.listeners[e];n.handler&&(this.el.removeEventListener(e,n.handler),n.handler=null)}}}class vY{constructor(e){this.table=e,this.bindings={}}bind(e,n,i){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][n]?console.warn("Unable to bind component handler, a matching function name is already bound",e,n,i):this.bindings[e][n]=i}handle(e,n,i){if(this.bindings[e]&&this.bindings[e][i]&&typeof this.bindings[e][i].bind=="function")return this.bindings[e][i].bind(null,n);i!=="then"&&typeof i=="string"&&!i.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+i+" function, have you checked that you have the correct Tabulator module installed?")}}class bY extends Ei{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,n,i,r,s,o){var l=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,n,i,s])){this.loading=!0,s||this.alertLoader(),n=this.chain("data-params",[e,i,s],n||{},n||{}),n=this.mapParams(n,this.table.options.dataSendParams);var c=this.chain("data-load",[e,n,i,s],!1,Promise.resolve([]));return c.then(d=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(d)&&typeof d=="object"&&(d=this.mapParams(d,this.objectInvert(this.table.options.dataReceiveParams)));var f=this.chain("data-loaded",[d],null,d);l==this.requestOrder?(this.clearAlert(),f!==!1&&(this.dispatchExternal("dataLoaded",f),this.table.rowManager.setData(f,r,typeof o>"u"?!r:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(d=>{console.error("Data Load Error: ",d),this.dispatchExternal("dataLoadError",d),s||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,r,typeof o>"u"?!r:o),Promise.resolve()}mapParams(e,n){var i={};for(let r in e)i[n.hasOwnProperty(r)?n[r]:r]=e[r];return i}objectInvert(e){var n={};for(let i in e)n[e[i]]=i;return n}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class yY{constructor(e,n,i){this.table=e,this.events={},this.optionsList=n||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(e,n){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(n),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n),this._notifySubscriptionChange(e,!0)}unsubscribe(e,n){var i;if(this.events[e])if(n)if(i=this.events[e].findIndex(r=>r===n),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,n);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,n){var i=this.subscriptionNotifiers[e];i&&i.forEach(r=>{r(n)})}_dispatch(){var e=Array.from(arguments),n=e.shift(),i;return this.events[n]&&this.events[n].forEach((r,s)=>{let o=r.apply(this.table,e);s||(i=o)}),i}_debugDispatch(){var e=Array.from(arguments),n=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(n))&&console.log(...e),this._dispatch(...arguments)}}class wY{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,n){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(n),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,n,i=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:n,priority:i}),this.events[e].sort((r,s)=>r.priority-s.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,n){var i;if(this.events[e]){if(n)if(i=this.events[e].findIndex(r=>r.callback===n),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,n);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,n,i,r){var s=i;return Array.isArray(n)||(n=[n]),this.subscribed(e)?(this.events[e].forEach((o,l)=>{s=o.callback.apply(this,n.concat([s]))}),s):typeof r=="function"?r():r}_confirm(e,n){var i=!1;return Array.isArray(n)||(n=[n]),this.subscribed(e)&&this.events[e].forEach((r,s)=>{r.callback.apply(this,n)&&(i=!0)}),i}_notifySubscriptionChange(e,n){var i=this.subscriptionNotifiers[e];i&&i.forEach(r=>{r(n)})}_dispatch(){var e=Array.from(arguments),n=e.shift();this.events[n]&&this.events[n].forEach(i=>{i.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),n=e[0];return e[0]="InternalEvent:"+n,(this.debug===!0||this.debug.includes(n))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),n=e[0];return e[0]="InternalEvent:"+n,(this.debug===!0||this.debug.includes(n))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),n=e[0];return e[0]="InternalEvent:"+n,(this.debug===!0||this.debug.includes(n))&&console.log(...e),this._confirm(...arguments)}}class xY extends Ei{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,n,i){var r="";return typeof this.options(e)<"u"?(r="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",n?(r=r+", Please use the %c"+n+"%c option instead",this._warnUser(r,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),i&&(this.table.options[n]=this.table.options[e])):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,n){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+n,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class CY extends Ei{constructor(e){super(e),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(e,n,i){if(Array.isArray(e)){for(const s of e){var r=this.lookup(s,n,!0);if(r)break}if(r)return r;this.error(e)}else return n?this.lookupProp(e,n,i):this.lookupKey(e,i)}lookupProp(e,n,i){var r;if(this.props[e]&&this.props[e][n])return this.props[e][n];if(r=this.lookupKey(e,i),r)return this.props[e]||(this.props[e]={}),this.props[e][n]=r[n]||r,this.props[e][n]}lookupKey(e,n){var i;return this.deps[e]?i=this.deps[e]:window[e]?(this.deps[e]=window[e],i=this.deps[e]):n||this.error(e),i}error(e){console.error("Unable to find dependency",e,"Please check documentation and ensure you have imported the required library into your project")}}function EY(t,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(t),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function AT(t,e){t.forEach(function(n){n.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function SY(t,e){var n=0,i=this.table.rowManager.element.clientWidth,r=0,s=!1;t.forEach((o,l)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(s=o),o.visible&&(n+=o.getWidth())}),s?(r=i-n+s.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(s.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?s.setWidth(r):s.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function RY(t,e){var n=this.table.rowManager.element.getBoundingClientRect().width,i=0,r=0,s=0,o=0,l=[],c=[],d=0,f=0,m=0;function v(C){var S;return typeof C=="string"?C.indexOf("%")>-1?S=n/100*parseInt(C):S=parseInt(C):S=C,S}function w(C,S,_,R){var M=[],k=0,D=0,P=0,O=s,j=0,B=0,W=[];function z(Z){return _*(Z.column.definition.widthGrow||1)}function Q(Z){return v(Z.width)-_*(Z.column.definition.widthShrink||0)}return C.forEach(function(Z,ne){var H=R?Q(Z):z(Z);Z.column.minWidth>=H?M.push(Z):Z.column.maxWidth&&Z.column.maxWidth<H?(Z.width=Z.column.maxWidth,S-=Z.column.maxWidth,O-=R?Z.column.definition.widthShrink||1:Z.column.definition.widthGrow||1,O&&(_=Math.floor(S/O))):(W.push(Z),B+=R?Z.column.definition.widthShrink||1:Z.column.definition.widthGrow||1)}),M.length?(M.forEach(function(Z){k+=R?Z.width-Z.column.minWidth:Z.column.minWidth,Z.width=Z.column.minWidth}),D=S-k,P=B?Math.floor(D/B):D,j=w(W,D,P,R)):(j=B?S-Math.floor(S/B)*B:S,W.forEach(function(Z){Z.width=R?Q(Z):z(Z)})),j}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach(function(C){var S,_,R;C.visible&&(S=C.definition.width,_=parseInt(C.minWidth),S?(R=v(S),i+=R>_?R:_,C.definition.widthShrink&&(c.push({column:C,width:R>_?R:_}),d+=C.definition.widthShrink)):(l.push({column:C,width:0}),s+=C.definition.widthGrow||1))}),r=n-i,o=Math.floor(r/s),m=w(l,r,o,!1),l.length&&m>0&&(l[l.length-1].width+=m),l.forEach(function(C){r-=C.width}),f=Math.abs(m)+r,f>0&&d&&(m=w(c,f,Math.floor(f/d),!0)),m&&c.length&&(c[c.length-1].width-=m),l.forEach(function(C){C.column.setWidth(C.width)}),c.forEach(function(C){C.column.setWidth(C.width)})}var TY={fitData:EY,fitDataFill:AT,fitDataTable:AT,fitDataStretch:SY,fitColumns:RY};const cf=class cf extends Rt{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;cf.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){var n=this.table.columnManager.columnsByIndex.find(i=>i.definition.variableHeight||i.definition.formatter==="textarea");this.dispatch("layout-refreshing"),cf.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),n&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}};Ie(cf,"moduleName","layout"),Ie(cf,"modes",TY);let uE=cf;var _Y={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const Eg=class Eg extends Rt{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=un.deepClone(Eg.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,n){this.langList[e]?this._setLangProp(this.langList[e],n):this.langList[e]=n}_setLangProp(e,n){for(let i in n)e[i]&&typeof e[i]=="object"?this._setLangProp(e[i],n[i]):e[i]=n[i]}setLocale(e){e=e||"default";function n(i,r){for(var s in i)typeof i[s]=="object"?(r[s]||(r[s]={}),n(i[s],r[s])):r[s]=i[s]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let i=e.split("-")[0];this.langList[i]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,i),e=i):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=un.deepClone(this.langList.default||{}),e!="default"&&n(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,n){var i=n?e+"|"+n:e,r=i.split("|"),s=this._getLangElement(r,this.locale);return s||""}_getLangElement(e,n){var i=this.lang;return e.forEach(function(r){var s;i&&(s=i[r],typeof s<"u"?i=s:i=!1)}),i}bind(e,n){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(n),n(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(n=>{n(this.getText(e),this.lang)})}};Ie(Eg,"moduleName","localize"),Ie(Eg,"langs",_Y);let cE=Eg;class XN extends Rt{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var n=[],i;return i=this.table.constructor.registry.lookupTable(e),i.forEach(r=>{this.table!==r&&n.push(r)}),n}send(e,n,i,r){var s=this.getConnections(e);s.forEach(o=>{o.tableComms(this.table.element,n,i,r)}),!s.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,n,i,r){if(this.table.modExists(n))return this.table.modules[n].commsReceived(e,i,r);console.warn("Inter-table Comms Error - no such module:",n)}}Ie(XN,"moduleName","comms");var AY=Object.freeze({__proto__:null,CommsModule:XN,LayoutModule:uE,LocalizeModule:cE});const Br=class Br{static findTable(e){var n=Br.registry.lookupTable(e,!0);return Array.isArray(n)&&!n.length?!1:n}};Ie(Br,"registry",{tables:[],register(e){Br.registry.tables.push(e)},deregister(e){var n=Br.registry.tables.indexOf(e);n>-1&&Br.registry.tables.splice(n,1)},lookupTable(e,n){var i=[],r,s;if(typeof e=="string"){if(r=document.querySelectorAll(e),r.length)for(var o=0;o<r.length;o++)s=Br.registry.matchElement(r[o]),s&&i.push(s)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof Br?(s=Br.registry.matchElement(e),s&&i.push(s)):Array.isArray(e)?e.forEach(function(l){i=i.concat(Br.registry.lookupTable(l))}):n||console.warn("Table Connection Error - Invalid Selector",e);return i},matchElement(e){return Br.registry.tables.find(function(n){return e instanceof Br?n===e:n.element===e})}});let dE=Br;const on=class on extends dE{constructor(){super()}static initializeModuleBinder(e){on.modulesRegistered||(on.modulesRegistered=!0,on._registerModules(AY,!0),e&&on._registerModules(e))}static _extendModule(e,n,i){if(on.moduleBindings[e]){var r=on.moduleBindings[e][n];if(r)if(typeof i=="object")for(let s in i)r[s]=i[s];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",n)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,n){var i=Object.values(e);n&&i.forEach(r=>{r.prototype.moduleCore=!0}),on._registerModule(i)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(n=>{on._registerModuleBinding(n),on._registerModuleExtensions(n)})}static _registerModuleBinding(e){e.moduleName?on.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var n=e.moduleExtensions;if(e.moduleExtensions)for(let i in n){let r=n[i];if(on.moduleBindings[i])for(let s in r)on._extendModule(i,s,r[s]);else{on.moduleExtensions[i]||(on.moduleExtensions[i]={});for(let s in r)on.moduleExtensions[i][s]||(on.moduleExtensions[i][s]={}),Object.assign(on.moduleExtensions[i][s],r[s])}}on._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var n=on.moduleExtensions[e.moduleName];if(n)for(let i in n)on._extendModule(e.moduleName,i,n[i])}_bindModules(){var e=[],n=[],i=[];this.modules={};for(var r in on.moduleBindings){let s=on.moduleBindings[r],o=new s(this);this.modules[r]=o,s.prototype.moduleCore?this.modulesCore.push(o):s.moduleInitOrder?s.moduleInitOrder<0?e.push(o):n.push(o):i.push(o)}e.sort((s,o)=>s.moduleInitOrder>o.moduleInitOrder?1:-1),n.sort((s,o)=>s.moduleInitOrder>o.moduleInitOrder?1:-1),this.modulesRegular=e.concat(i.concat(n))}};Ie(on,"moduleBindings",{}),Ie(on,"moduleExtensions",{}),Ie(on,"modulesRegistered",!1),Ie(on,"defaultModules",!1);let hE=on;class kY extends Ei{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,n="msg"){if(e){for(this.clear(),this.dispatch("alert-show",n),this.type=n;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const Xa=class Xa extends hE{static extendModule(){Xa.initializeModuleBinder(),Xa._extendModule(...arguments)}static registerModule(){Xa.initializeModuleBinder(),Xa._registerModule(...arguments)}constructor(e,n,i){super(),Xa.initializeModuleBinder(i),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new vY(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new xY(this),this.optionsList=new YN(this,"table constructor"),this.dependencyRegistry=new CY(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(n),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new dY(this),this.rowManager=new pY(this),this.footerManager=new mY(this),this.dataLoader=new bY(this),this.alertManager=new kY(this),this._bindModules(),this.options=this.optionsList.generate(Xa.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new yY(this,this.options,this.options.debugEventsExternal),this.eventBus=new wY(this.options.debugEventsInternal),this.interactionMonitor=new gY(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,n=this.options,i;if(e.tagName==="TABLE"){this.originalElement=this.element,i=document.createElement("div");var r=e.attributes;for(var s in r)typeof r[s]=="object"&&i.setAttribute(r[s].name,r[s].value);e.parentNode.replaceChild(i,e),this.element=e=i}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",e.style.height=n.height),n.minHeight!==!1&&(n.minHeight=isNaN(n.minHeight)?n.minHeight:n.minHeight+"px",e.style.minHeight=n.minHeight),n.maxHeight!==!1&&(n.maxHeight=isNaN(n.maxHeight)?n.maxHeight:n.maxHeight+"px",e.style.maxHeight=n.maxHeight)}_initializeTable(){var e=this.element,n=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(i=>{i.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),n.autoColumns&&n.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(i=>{i.initialize()}),this.columnManager.setColumns(n.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,n){var i,r;return this.options.debugInitialization&&!this.initialized&&(e||(i=new Error().stack.split(`
`),r=i[0]=="Error"?i[2]:i[1],r[0]==" "?e=r.trim().split(" ")[1].split(".")[1]:e=r.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(n?" "+n:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,n,i){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,n,i,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,n,i){return this.initGuard(),this.dataLoader.load(e,n,i,!0,!0)}updateData(e){var n=0;return this.initGuard(),new Promise((i,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(s=>{var o=this.rowManager.findRow(s[this.options.index]);o?(n++,o.updateData(s).then(()=>{n--,n||i()}).catch(l=>{r("Update Error - Unable to update row",s,l)})):r("Update Error - Unable to find row",s)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}addData(e,n,i){return this.initGuard(),new Promise((r,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,n,i).then(o=>{var l=[];o.forEach(function(c){l.push(c.getComponent())}),r(l)}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}updateOrAddData(e){var n=[],i=0;return this.initGuard(),new Promise((r,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var l=this.rowManager.findRow(o[this.options.index]);i++,l?l.updateData(o).then(()=>{i--,n.push(l.getComponent()),i||r(n)}):this.rowManager.addRows(o).then(c=>{i--,n.push(c[0].getComponent()),i||r(n)})}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}getRow(e){var n=this.rowManager.findRow(e);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var n=this.rowManager.getRowFromPosition(e);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var n=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let i of e){let r=this.rowManager.findRow(i,!0);if(r)n.push(r);else return console.error("Delete Error - No matching row found:",i),Promise.reject("Delete Error - No matching row found")}return n.sort((i,r)=>this.rowManager.rows.indexOf(i)>this.rowManager.rows.indexOf(r)?1:-1),n.forEach(i=>{i.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,n,i){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,n,i,!0).then(r=>r[0].getComponent())}updateOrAddRow(e,n){var i=this.rowManager.findRow(e);return this.initGuard(),typeof n=="string"&&(n=JSON.parse(n)),i?i.updateData(n).then(()=>i.getComponent()):this.rowManager.addRows(n).then(r=>r[0].getComponent())}updateRow(e,n){var i=this.rowManager.findRow(e);return this.initGuard(),typeof n=="string"&&(n=JSON.parse(n)),i?i.updateData(n).then(()=>Promise.resolve(i.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,n,i){var r=this.rowManager.findRow(e);return r?this.rowManager.scrollToRow(r,n,i):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,n,i){var r=this.rowManager.findRow(e);this.initGuard(),r?r.moveToRow(n,i):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var n=this.rowManager.findRow(e);return n?n.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var n=this.columnManager.findColumn(e);return n?n.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var n=this.columnManager.findColumn(e);if(this.initGuard(),n)n.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var n=this.columnManager.findColumn(e);if(this.initGuard(),n)n.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var n=this.columnManager.findColumn(e);if(this.initGuard(),n)n.visible?n.hide():n.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,n,i){var r=this.columnManager.findColumn(i);return this.initGuard(),this.columnManager.addColumn(e,n,r).then(s=>s.getComponent())}deleteColumn(e){var n=this.columnManager.findColumn(e);return this.initGuard(),n?n.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,n){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.updateDefinition(n):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,n,i){var r=this.columnManager.findColumn(e),s=this.columnManager.findColumn(n);this.initGuard(),r?s?this.columnManager.moveColumn(r,s,i):console.warn("Move Error - No matching column found:",s):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,n,i){return new Promise((r,s)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,n,i):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,n){this.externalEvents.subscribe(e,n)}off(e,n){this.externalEvents.unsubscribe(e,n)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,n){this.initGuard(),this.alertManager.alert(e,n)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,n){return this.modules[e]?!0:(n&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var n=this.modules[e];return n||console.error("Tabulator module not installed: "+e),n}};Ie(Xa,"defaultOptions",lY);let fE=Xa;var Jm=fE;class MY extends Jm{static extendModule(){Jm.initializeModuleBinder(j1),Jm._extendModule(...arguments)}static registerModule(){Jm.initializeModuleBinder(j1),Jm._registerModule(...arguments)}constructor(e,n,i){super(e,n,j1)}}var av=MY;function _f(t){return parseInt(t,2).toString()}function $t(t){return(~~parseInt(t,2)).toString()}function KN(t){const e=t.length,n=parseInt(t,2);return t[0]==="1"?(n-(1<<e)).toString():n.toString()}function DY(t){const e=(t>>>0).toString(2);return t<0?e.padStart(32,"1"):e.padStart(32,"0")}function NY(t){return t.toString(16).toUpperCase()}function Yr(t){return en(DY(t))}function pE(t){return parseInt(t,16).toString()}function en(t){const e=parseInt(t,2);return isNaN(e)?"XX":e.toString(16)}function TS(t){const e=t.match(/.{1,8}/g);return e?e.map(i=>{const r=parseInt(i,2);return String.fromCharCode(r)}).join(""):"fix me!!"}function LY(t){const e=/^\d+$/g;return parseInt(t)<=4294967295&&e.test(t)}function OY(t){const e=/^[01]+$/g;return t.length<=32&&e.test(t)}function PY(t){const e=/^[-+]?\d+$/g,r=parseInt(t);return r>=-2147483648&&r<=2147483647&&e.test(t)}function jY(t){return/^[A-Fa-f0-9]{1,8}$/g.test(t)}function IY(t){return t.length<=4}function JN(t){var i;const e=zY(t);let n="32'b";return e&&(((i=e.y)==null?void 0:i.length)===0?n=n+"0":n=n+e.y),n}function zY(t){var i,r;const e=/^(?<x>0*)(?<y>1*[01]*)$/,n=t.match(e);return n?{x:(i=n.groups)==null?void 0:i.x,y:(r=n.groups)==null?void 0:r.y}:null}function FY(t,e){switch(e){case 2:return t;case"unsigned":return parseInt(t).toString(2);case"signed":return(parseInt(t)>>>0).toString(2);case 16:return parseInt(t,16).toString(2);case"ascii":return Array.from(t).reduce((r,s)=>{const l=s.charCodeAt(0).toString(2).padStart(8,"0");return r+l},"")}return""}function HY(t){return(t>>>0).toString(2).padStart(32,"0")}const BY=t=>{const{name:e}=t.getData(),[n,i]=e.split(" ");return n+" ("+i+")"},UY=t=>{const{value:e,viewType:n}=t.getData(),{theme:i}=t.getColumn().getDefinition().formatterParams||{};switch(n){case 2:{const r=Number($t(e)),s=JN(e);return r<0?i==="dark"?`<div class="monospace text-[#8BA0AA]">${s}</div>`:`<div class="monospace text-[#3A6973]">${s}</div>`:`<div class="monospace">${s}</div>`}case"signed":return $t(e);case"unsigned":return _f(e);case 16:return en(e).toUpperCase();case"ascii":return TS(e);default:return e}},$Y=(t,e,n,i)=>{const{value:r,viewType:s}=t.getRow().getData(),o=document.createElement("input");o.className="px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",s===2?o.value=r:o.value=WY(r,s);const l=()=>{const c=o.value;VY(c,s)?n(s===2?c:FY(c,s)):o.classList.add("border-red-500")};return e(()=>o.focus()),s===2?o.addEventListener("keydown",c=>{c.key==="0"||c.key==="1"?(c.preventDefault(),o.value=o.value.substring(1)+c.key):c.key==="Backspace"||c.key==="Delete"?(c.preventDefault(),o.value="0"+o.value.substring(0,o.value.length-1)):c.key==="Enter"?l():c.key==="Escape"?i():c.preventDefault()}):o.addEventListener("keydown",c=>{c.key==="Enter"&&l(),c.key==="Escape"&&i()}),o.addEventListener("blur",l),o},VY=(t,e)=>{switch(e){case 2:return OY(t)&&t.length===32;case"unsigned":return LY(t);case"signed":return PY(t);case 16:return jY(t);case"ascii":return IY(t);default:return!1}},WY=(t,e)=>{switch(e){case"unsigned":return _f(t);case"signed":return $t(t);case 16:return en(t);case"ascii":return TS(t);default:return t}},kT=t=>{var d;const e=t.getElement();let n=e.innerHTML;const i=t.getRow().getCell("viewType");let r;{const f=(d=i==null?void 0:i.getElement)==null?void 0:d.call(i);f&&f instanceof HTMLElement&&(r=f.innerHTML)}let s=!1,o=null;const l=f=>{var _;if(s||document.querySelector("input.register-editor")||document.querySelector("input.binary-editor"))return;const v=t.getData().value,w=f.key.toLowerCase();let C=null,S=null;switch(w){case"b":C=JN(v),S="bin";break;case"h":C=en(v).toUpperCase(),S="hex";break;case"s":{const R=_f(v),M=$t(v);C=R.toString()===M.toString()?M.toString():`${M} / ${R}`,S="±10";break}case"u":C=_f(v).toString(),S="10";break;case"a":C=TS(v),S="ascii";break}if(C!==null&&(s=!0,o=w,e.innerHTML=C,S!==null)){const R=(_=i==null?void 0:i.getElement)==null?void 0:_.call(i);R&&R instanceof HTMLElement&&(R.innerHTML=S)}},c=f=>{var m;if(f.key.toLowerCase()===o&&s){s=!1,o=null,e.innerHTML=n;const v=(m=i==null?void 0:i.getElement)==null?void 0:m.call(i);v&&v instanceof HTMLElement&&r!==void 0&&(v.innerHTML=r),t.getRow().reformat()}};e.addEventListener("mouseenter",()=>{var m;n=e.innerHTML;const f=(m=i==null?void 0:i.getElement)==null?void 0:m.call(i);f&&f instanceof HTMLElement&&(r=f.innerHTML),document.addEventListener("keydown",l),document.addEventListener("keyup",c)}),e.addEventListener("mouseleave",()=>{var f;if(document.removeEventListener("keydown",l),document.removeEventListener("keyup",c),s){s=!1,o=null,e.innerHTML=n;const m=(f=i==null?void 0:i.getElement)==null?void 0:f.call(i);m&&m instanceof HTMLElement&&r!==void 0&&(m.innerHTML=r)}})},ZN=(t,e,n,i)=>{const r=document.createElement("input");r.className="binary-editor",r.value=t.getValue(),r.maxLength=8,e(()=>{r.focus(),r.select()});const s=l=>l.padStart(8,"0").slice(0,8),o=()=>{const l=r.value.replace(/[^01]/g,""),c=s(l);r.value=c,n(c)};return r.addEventListener("input",()=>{r.value=r.value.replace(/[^01]/g,"")}),r.addEventListener("blur",o),r.addEventListener("keydown",l=>{l.key==="Enter"&&o(),l.key==="Escape"&&i()}),r},QN=(t,e,n)=>{const i=e.getValue(),r=document.createElement("div");return r.className=" text-white rounded-md px-2 py-1 overflow-hidden shadow-md max-w-min h-[1.8rem] z-[99999]",r.innerHTML=i,n(()=>{r.style.backgroundColor="transparent",r.style.border="none",r.style.position="absolute",r.style.left=`${t.clientX+17}px`,r.style.top=`${t.clientY-22}px`,document.body.appendChild(r)}),r},k0=t=>{const e=t.getElement(),n=t.getField()==="address",i=n?e.querySelector(".address-value"):e,r=i?i.innerHTML:e.innerHTML;let s=!1,o=null;const l=m=>{if(s||document.querySelector("input.binary-editor")||document.querySelector("input.register-editor"))return;const v=t.getValue();let w=null;const C=m.key.toLowerCase();if(n)C==="b"?(w=parseInt(v,16).toString(2),o="b"):C==="s"?(w=pE(v).toString(),o="s"):C==="u"&&(w=pE(v).toString(),o="u");else if(t.getField().startsWith("value"))switch(C){case"b":w=v.padStart(8,"0"),o="b";break;case"h":w=en(v).toUpperCase(),o="h";break;case"s":{const S=$t(v),_=_f(v);w=S.toString()===_.toString()?S.toString():`${S} / ${_}`,o="s";break}case"u":w=_f(v).toString(),o="u";break;case"a":try{const S=parseInt(v,2),_=String.fromCharCode(S);w=/^[\x20-\x7E]$/.test(_)?`'${_}'`:" ",o="a"}catch{w=" ",o="a"}break}w&&i&&(s=!0,i.innerHTML=w)},c=m=>{o&&m.key.toLowerCase()===o&&s&&i&&(s=!1,o=null,i.innerHTML=r)},d=()=>{document.addEventListener("keydown",l),document.addEventListener("keyup",c)},f=()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",c),s&&i&&(s=!1,o=null,i.innerHTML=r)};e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",f)},eL=["x0 zero","x1 ra","x2 sp","x3 gp","x4 tp","x5 t0","x6 t1","x7 t2","x8 s0","x9 s1","x10 a0","x11 a1","x12 a2","x13 a3","x14 a4","x15 a5","x16 a6","x17 a7","x18 s2","x19 s3","x20 s4","x21 s5","x22 s6","x23 s7","x24 s8","x25 s9","x26 s10","x27 s11","x28 t3","x29 t4","x30 t5","x31 t6"],GY=[2,"signed","unsigned",16,"ascii"],tL=(t,e,n)=>{const r={...{title:"",visible:!0,headerSort:!1,headerHozAlign:"center",formatter:"html",cssClass:"monospace"},frozen:!0},s={...r,editor:$Y,editable:function(o){return e?!1:o.getData().name!=="x0 zero"},cellMouseEnter:(o,l)=>{kT(l)}};return[{...r,title:"Name",field:"name",frozen:!0,width:100,formatter:BY,cellClick:(o,l)=>{const c=l.getData(),d={...c,watched:!c.watched};l.getRow().update(d),l.getTable().setGroupBy("watched")}},{...s,title:"Value",field:"value",width:160,formatter:UY,formatterParams:{theme:n},cellMouseEnter:(o,l)=>{kT(l)}},{title:"Type",field:"viewType",width:80,editor:"list",editorParams:{values:GY},formatter:t,cellEdited:o=>o.getRow().reformat(),editable:()=>!0},{title:"Watched",field:"watched",visible:!1}]},nL=t=>{const e={title:"",visible:!0,headerSort:!1,headerHozAlign:"center",formatter:"html",cssClass:"monospace"},n={...e,frozen:!0},i={...n,editor:ZN,editable:function(s){const o=s.getRow().getData(),l=!t.current,c=o.segment==="program"||o.segment==="constants";return l&&!c},cellMouseEnter:(s,o)=>k0(o)};return[{...e,visible:!1,field:"index"},{...n,title:"Info",field:"info",width:60,formatter:s=>`<span class="block whitespace-nowrap overflow-hidden truncate text-white ">${s.getValue()}</span>`,tooltip:(s,o,l)=>QN(s,o,l)},{...n,title:"Addr.",field:"address",sorter:(s,o)=>parseInt(s,16)-parseInt(o,16),headerSort:!0,width:75,formatter:s=>`<span class="address-value">${s.getValue().toUpperCase()}</span>`,cellMouseEnter:(s,o)=>k0(o)},{...i,title:"0x3",field:"value3",width:83},{...i,title:"0x2",field:"value2",width:83},{...i,title:"0x1",field:"value1",width:83},{...i,title:"0x0",field:"value0",width:83},{...n,title:"HEX",field:"hex",width:110,formatter:s=>`<span class="hex-value">${s.getValue().toUpperCase()}</span>`}]},qY=t=>{const e={title:"",visible:!0,headerSort:!1,headerHozAlign:"center",formatter:"html",cssClass:"monospace"},n={...e,frozen:!0},i={...n,editor:ZN,editable:function(s){const o=s.getRow().getData(),l=!t.current,c=o.segment==="program"||o.segment==="constants";return l&&!c},cellMouseEnter:(s,o)=>k0(o)};return[{...e,visible:!1,field:"index"},{...n,title:"Info",field:"info",width:60,formatter:s=>`<span class="block whitespace-nowrap overflow-hidden truncate text-white ">${s.getValue()}</span>`,tooltip:(s,o,l)=>QN(s,o,l)},{...n,title:"Addr.",field:"address",sorter:(s,o)=>parseInt(s,16)-parseInt(o,16),headerSort:!0,width:75,formatter:s=>`<span class="address-value">${s.getValue().toUpperCase()}</span>`,cellMouseEnter:(s,o)=>k0(o)},{...i,title:"0x3",field:"value3",width:83,visible:!1},{...i,title:"0x2",field:"value2",width:83,visible:!1},{...i,title:"0x1",field:"value1",width:83,visible:!1},{...i,title:"0x0",field:"value0",width:83,visible:!1},{...n,title:"HEX",field:"hex",width:110,formatter:s=>`<span class="hex-value">${s.getValue().toUpperCase()}</span>`}]},vr=({event:t,...e})=>{window.postMessage({from:"react",event:t,...e},"*")},YY=({tableRef:t,tabulatorInstance:e,isCreatedMemoryTable:n,registerData:i,setRegisterData:r,viewTypeFormatterCustom:s,isFirstStep:o,theme:l,setTableBuilt:c})=>{x.useEffect(()=>{if(!t.current||e.current)return;const d=eL.map((f,m)=>({name:f,rawName:f.split(" ")[0],value:i[m],viewType:16,watched:!1,modified:0,id:m}));return e.current=new av(t.current,{data:d,columns:tL(s,o,l),layout:"fitColumns",renderVertical:"virtual",reactiveData:!0,groupBy:"watched",groupValues:[[!0,!1]],groupHeader:(f,m)=>`${f?"Watched":"Unwatched"} (${m} registers)`,movableRows:!0,index:"rawName"}),e.current.on("tableBuilt",()=>{c(!0)}),e.current.on("cellEdited",f=>{if(f.getField()==="value"){let{value:m}=f.getData();const{id:v}=f.getData();m.length<32&&(m=m.padStart(32,"0")),r(w=>{const C=[...w];return C[v]=m,vr({event:"registersChanged",registers:C}),C})}}),()=>{e.current&&(e.current.destroy(),e.current=null,c(!1))}},[n])},XY=({tabulatorInstance:t,isTableBuilt:e,writeInRegister:n,setWriteInRegister:i,setRegisterData:r,checkFixedRegisters:s,fixedchangedRegisters:o,setFixedchangedRegisters:l})=>{x.useEffect(()=>{var d,f;if(!e||n.value===""||n.registerName==="x0")return;const c=Number(n.registerName.replace("x",""));if(r(m=>{const v=[...m];return v[c]=n.value,v}),nG(t,n.registerName,n.value),s){const m=(d=t.current)==null?void 0:d.getRow(n.registerName);m&&!m.getData().watched&&(m.update({watched:!0}),(f=t.current)==null||f.setGroupBy("watched"),setTimeout(()=>{var v;(v=t.current)==null||v.scrollToRow(n.registerName,"center",!1)},0))}l(m=>[...m,n.registerName]),i({registerName:"",value:""})},[n,i,e,l,s,r,t]),x.useEffect(()=>{var d,f;if(!e||!s)return;let c=!1;(d=t.current)==null||d.getRows().forEach(m=>{const v=m.getData();o.includes(v.rawName)&&!v.watched&&(m.update({watched:!0}),c=!0)}),c&&((f=t.current)==null||f.setGroupBy("watched"))},[s,e,o,t])},KY=({tabulatorInstance:t,isTableBuilt:e,importRegister:n,setImportRegister:i})=>{x.useEffect(()=>{var r;!e||n.length===0||((r=t.current)==null||r.setData(n),i([]))},[n,i,e])},JY=({tabulatorInstance:t,isFirstStep:e,theme:n,viewTypeFormatterCustom:i})=>{x.useEffect(()=>{t.current&&t.current.setColumns(tL(i,e,n))},[e])},ZY=({tabulatorInstance:t,isTableBuilt:e,searchInRegisters:n,theme:i})=>{x.useEffect(()=>{!t.current||!e||(n.trim()===""?(t.current.clearFilter(!0),RN(t.current)):oG(n,t.current,i))},[n,e])},QY=()=>{const{theme:t}=ho(),{isCreatedMemoryTable:e}=Kr(),{registerData:n,setRegisterData:i}=cM(),{writeInRegister:r,setWriteInRegister:s,importRegister:o,setImportRegister:l,searchInRegisters:c}=Nf(),{checkFixedRegisters:d,fixedchangedRegisters:f,setFixedchangedRegisters:m}=zf(),[v,w]=x.useState(!0),C=x.useRef(null),S=x.useRef(null),_=x.useRef(null),R=x.useRef(null),[M,k]=x.useState(!1),{isFirstStep:D}=lt(),P=x.useMemo(()=>rG(O=>{R.current=O}),[]);return lG({isCreatedMemoryTable:e,setRegisterData:i,setFixedchangedRegisters:m}),uG({isTableBuilt:M,hoveredCellRef:R}),YY({tableRef:S,tabulatorInstance:_,isCreatedMemoryTable:e,registerData:n,setRegisterData:i,viewTypeFormatterCustom:P,isFirstStep:D,theme:t,setTableBuilt:k}),XY({tabulatorInstance:_,isTableBuilt:M,writeInRegister:r,setWriteInRegister:s,setRegisterData:i,checkFixedRegisters:d,fixedchangedRegisters:f,setFixedchangedRegisters:m}),KY({tabulatorInstance:_,isTableBuilt:M,importRegister:o,setImportRegister:l}),JY({tabulatorInstance:_,isFirstStep:D,theme:t,viewTypeFormatterCustom:P}),ZY({tabulatorInstance:_,isTableBuilt:M,searchInRegisters:c,theme:t}),g.jsxs(g.Fragment,{children:[g.jsxs("div",{ref:C,id:"registerTable",className:`shadow-lg min-h-min max-h-[calc(100dvh-2.3rem)] mx-4 ${!v&&"hidden"} min-w-[22.7rem] relative `,children:[!M&&g.jsx(aG,{}),e&&g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:S,className:`w-full  h-full ${t==="light"?"theme-light":"theme-dark"}`}),g.jsx(nv,{id:"closeRT",onClick:()=>w(!1),strokeWidth:1.5,className:"absolute right-[.13rem] top-[.4rem] min-w-[1.3rem] min-h-[1.3rem] w-[1.3rem] h-[1.3rem] text-black cursor-pointer"})]})]}),!v&&g.jsxs("div",{onClick:()=>w(!0),className:`h-full w-[1.6rem] cursor-pointer rounded-[.2rem] border flex flex-col items-center uppercase hover:opacity-[0.9] transition-all ease-in-out duration-200
    bg-[#FFF9C4] border-gray-700 text-black`,children:[g.jsx(iv,{strokeWidth:1.5,className:`mt-[0.35rem] mb-1  min-w-[.9rem] min-h-[.9rem] w-[.9rem] h-[.9rem]
      `}),"registers".split("").map((O,j)=>g.jsx("span",{className:`text-[.45rem] font-bold leading-[.91rem]  ease-in-out   
        `,children:O===" "?" ":O},j))]})]})},_S=()=>g.jsx("div",{className:"min-w-[37.36rem] max-h-[calc(100dvh-2.3rem)] overflow-hidden z-100 absolute top-0 left-0",children:g.jsx("div",{className:"flex flex-col gap-[.6rem]",children:Array.from({length:15}).map((n,i)=>g.jsxs("div",{className:"flex gap-[.5rem]",children:[g.jsx(gf,{className:"h-8 w-[3.6rem]"}),g.jsx("div",{className:"flex gap-[.8rem]",children:Array.from({length:5}).map((r,s)=>g.jsx(gf,{className:"h-8 w-[4.3rem]"},`row-${i}-col-${s}`))}),g.jsx(gf,{className:"h-8 w-[7rem]"})]},`row-${i}`))})});function Cs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function iL(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,eX(r,...e)]}function eX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Bf(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function tX({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=nX({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:i,l=Bf(n),c=x.useCallback(d=>{if(s){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else r(d)},[s,t,r,l]);return[o,c]}function nX({defaultProp:t,onChange:e}){const n=x.useState(t),[i]=n,r=x.useRef(i),s=Bf(e);return x.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}function MT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rL(...t){return e=>{let n=!1;const i=t.map(r=>{const s=MT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():MT(t[r],null)}}}}function Uf(...t){return x.useCallback(rL(...t),t)}function iX(t){const e=rX(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(oX);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function rX(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=lX(r),l=aX(s,r.props);return r.type!==x.Fragment&&(l.ref=i?rL(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sX=Symbol("radix.slottable");function oX(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sX}function aX(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{s(...l),r(...l)}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function lX(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hd=uX.reduce((t,e)=>{const n=iX(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function cX(t,e){t&&Df.flushSync(()=>t.dispatchEvent(e))}var dX="Arrow",sL=x.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return g.jsx(hd.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});sL.displayName=dX;var hX=sL,Af=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function fX(t){const[e,n]=x.useState(void 0);return Af(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var AS="Popper",[oL,aL]=iL(AS),[pX,lL]=oL(AS),uL=t=>{const{__scopePopper:e,children:n}=t,[i,r]=x.useState(null);return g.jsx(pX,{scope:e,anchor:i,onAnchorChange:r,children:n})};uL.displayName=AS;var cL="PopperAnchor",dL=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=lL(cL,n),o=x.useRef(null),l=Uf(e,o);return x.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:g.jsx(hd.div,{...r,ref:l})});dL.displayName=cL;var kS="PopperContent",[mX,gX]=oL(kS),hL=x.forwardRef((t,e)=>{var Ce,Ee,ke,je,Ne,ye;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:C,...S}=t,_=lL(kS,n),[R,M]=x.useState(null),k=Uf(e,Oe=>M(Oe)),[D,P]=x.useState(null),O=fX(D),j=(O==null?void 0:O.width)??0,B=(O==null?void 0:O.height)??0,W=i+(s!=="center"?"-"+s:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],Z=Q.length>0,ne={padding:z,boundary:Q.filter(bX),altBoundary:Z},{refs:H,floatingStyles:Y,placement:U,isPositioned:J,middlewareData:X}=bw({strategy:"fixed",placement:W,whileElementsMounted:(...Oe)=>vw(...Oe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[yw({mainAxis:r+B,alignmentAxis:o}),c&&ww({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xw():void 0,...ne}),c&&Cw({...ne}),Ew({...ne,apply:({elements:Oe,rects:ze,availableWidth:Qe,availableHeight:gt})=>{const{width:bt,height:tn}=ze.reference,yt=Oe.floating.style;yt.setProperty("--radix-popper-available-width",`${Qe}px`),yt.setProperty("--radix-popper-available-height",`${gt}px`),yt.setProperty("--radix-popper-anchor-width",`${bt}px`),yt.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),D&&Rw({element:D,padding:l}),yX({arrowWidth:j,arrowHeight:B}),v&&Sw({strategy:"referenceHidden",...ne})]}),[K,L]=mL(U),ee=Bf(C);Af(()=>{J&&(ee==null||ee())},[J,ee]);const ue=(Ce=X.arrow)==null?void 0:Ce.x,V=(Ee=X.arrow)==null?void 0:Ee.y,fe=((ke=X.arrow)==null?void 0:ke.centerOffset)!==0,[be,ve]=x.useState();return Af(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(je=X.transformOrigin)==null?void 0:je.x,(Ne=X.transformOrigin)==null?void 0:Ne.y].join(" "),...((ye=X.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(mX,{scope:n,placedSide:K,onArrowChange:P,arrowX:ue,arrowY:V,shouldHideArrow:fe,children:g.jsx(hd.div,{"data-side":K,"data-align":L,...S,ref:k,style:{...S.style,animation:J?void 0:"none"}})})})});hL.displayName=kS;var fL="PopperArrow",vX={top:"bottom",right:"left",bottom:"top",left:"right"},pL=x.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=gX(fL,i),o=vX[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(hX,{...r,ref:n,style:{...r.style,display:"block"}})})});pL.displayName=fL;function bX(t){return t!==null}var yX=t=>({name:"transformOrigin",options:t,fn(e){var _,R,M;const{placement:n,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=mL(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((R=r.arrow)==null?void 0:R.x)??0)+l/2,w=(((M=r.arrow)==null?void 0:M.y)??0)+c/2;let C="",S="";return d==="bottom"?(C=o?m:`${v}px`,S=`${-c}px`):d==="top"?(C=o?m:`${v}px`,S=`${i.floating.height+c}px`):d==="right"?(C=`${-c}px`,S=o?m:`${w}px`):d==="left"&&(C=`${i.floating.width+c}px`,S=o?m:`${w}px`),{data:{x:C,y:S}}}});function mL(t){const[e,n="center"]=t.split("-");return[e,n]}var wX=uL,xX=dL,CX=hL,EX=pL,SX="Portal",gL=x.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=x.useState(!1);Af(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rw.createPortal(g.jsx(hd.div,{...i,ref:e}),o):null});gL.displayName=SX;function RX(t,e){return x.useReducer((n,i)=>e[n][i]??n,t)}var MS=t=>{const{present:e,children:n}=t,i=TX(e),r=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),s=Uf(i.ref,_X(r));return typeof n=="function"||i.isPresent?x.cloneElement(r,{ref:s}):null};MS.displayName="Presence";function TX(t){const[e,n]=x.useState(),i=x.useRef({}),r=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=RX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=zy(i.current);s.current=l==="mounted"?d:"none"},[l]),Af(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,w=zy(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Af(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const S=zy(i.current).includes(w.animationName);if(w.target===e&&S&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(s.current=zy(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function zy(t){return(t==null?void 0:t.animationName)||"none"}function _X(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function AX(t,e=globalThis==null?void 0:globalThis.document){const n=Bf(t);x.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var kX="DismissableLayer",mE="dismissableLayer.update",MX="dismissableLayer.pointerDownOutside",DX="dismissableLayer.focusOutside",DT,vL=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bL=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(vL),[f,m]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),C=Uf(e,j=>m(j)),S=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(_),M=f?S.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,D=M>=R,P=OX(j=>{const B=j.target,W=[...d.branches].some(z=>z.contains(B));!D||W||(r==null||r(j),o==null||o(j),j.defaultPrevented||l==null||l())},v),O=PX(j=>{const B=j.target;[...d.branches].some(z=>z.contains(B))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},v);return AX(j=>{M===d.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},v),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(DT=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),NT(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=DT)}},[f,v,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),NT())},[f,d]),x.useEffect(()=>{const j=()=>w({});return document.addEventListener(mE,j),()=>document.removeEventListener(mE,j)},[]),g.jsx(hd.div,{...c,ref:C,style:{pointerEvents:k?D?"auto":"none":void 0,...t.style},onFocusCapture:Cs(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Cs(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Cs(t.onPointerDownCapture,P.onPointerDownCapture)})});bL.displayName=kX;var NX="DismissableLayerBranch",LX=x.forwardRef((t,e)=>{const n=x.useContext(vL),i=x.useRef(null),r=Uf(e,i);return x.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(hd.div,{...t,ref:r})});LX.displayName=NX;function OX(t,e=globalThis==null?void 0:globalThis.document){const n=Bf(t),i=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let c=function(){yL(MX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function PX(t,e=globalThis==null?void 0:globalThis.document){const n=Bf(t),i=x.useRef(!1);return x.useEffect(()=>{const r=s=>{s.target&&!i.current&&yL(DX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function NT(){const t=new CustomEvent(mE);document.dispatchEvent(t)}function yL(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?cX(r,s):r.dispatchEvent(s)}var I1,DS="HoverCard",[wL,Wme]=iL(DS,[aL]),Dw=aL(),[jX,Nw]=wL(DS),xL=t=>{const{__scopeHoverCard:e,children:n,open:i,defaultOpen:r,onOpenChange:s,openDelay:o=700,closeDelay:l=300}=t,c=Dw(e),d=x.useRef(0),f=x.useRef(0),m=x.useRef(!1),v=x.useRef(!1),[w=!1,C]=tX({prop:i,defaultProp:r,onChange:s}),S=x.useCallback(()=>{clearTimeout(f.current),d.current=window.setTimeout(()=>C(!0),o)},[o,C]),_=x.useCallback(()=>{clearTimeout(d.current),!m.current&&!v.current&&(f.current=window.setTimeout(()=>C(!1),l))},[l,C]),R=x.useCallback(()=>C(!1),[C]);return x.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(f.current)},[]),g.jsx(jX,{scope:e,open:w,onOpenChange:C,onOpen:S,onClose:_,onDismiss:R,hasSelectionRef:m,isPointerDownOnContentRef:v,children:g.jsx(wX,{...c,children:n})})};xL.displayName=DS;var CL="HoverCardTrigger",EL=x.forwardRef((t,e)=>{const{__scopeHoverCard:n,...i}=t,r=Nw(CL,n),s=Dw(n);return g.jsx(xX,{asChild:!0,...s,children:g.jsx(hd.a,{"data-state":r.open?"open":"closed",...i,ref:e,onPointerEnter:Cs(t.onPointerEnter,D0(r.onOpen)),onPointerLeave:Cs(t.onPointerLeave,D0(r.onClose)),onFocus:Cs(t.onFocus,r.onOpen),onBlur:Cs(t.onBlur,r.onClose),onTouchStart:Cs(t.onTouchStart,o=>o.preventDefault())})})});EL.displayName=CL;var NS="HoverCardPortal",[IX,zX]=wL(NS,{forceMount:void 0}),SL=t=>{const{__scopeHoverCard:e,forceMount:n,children:i,container:r}=t,s=Nw(NS,e);return g.jsx(IX,{scope:e,forceMount:n,children:g.jsx(MS,{present:n||s.open,children:g.jsx(gL,{asChild:!0,container:r,children:i})})})};SL.displayName=NS;var M0="HoverCardContent",RL=x.forwardRef((t,e)=>{const n=zX(M0,t.__scopeHoverCard),{forceMount:i=n.forceMount,...r}=t,s=Nw(M0,t.__scopeHoverCard);return g.jsx(MS,{present:i||s.open,children:g.jsx(FX,{"data-state":s.open?"open":"closed",...r,onPointerEnter:Cs(t.onPointerEnter,D0(s.onOpen)),onPointerLeave:Cs(t.onPointerLeave,D0(s.onClose)),ref:e})})});RL.displayName=M0;var FX=x.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,...l}=t,c=Nw(M0,n),d=Dw(n),f=x.useRef(null),m=Uf(e,f),[v,w]=x.useState(!1);return x.useEffect(()=>{if(v){const C=document.body;return I1=C.style.userSelect||C.style.webkitUserSelect,C.style.userSelect="none",C.style.webkitUserSelect="none",()=>{C.style.userSelect=I1,C.style.webkitUserSelect=I1}}},[v]),x.useEffect(()=>{if(f.current){const C=()=>{w(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var _;((_=document.getSelection())==null?void 0:_.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",C),()=>{document.removeEventListener("pointerup",C),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),x.useEffect(()=>{f.current&&UX(f.current).forEach(S=>S.setAttribute("tabindex","-1"))}),g.jsx(bL,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:Cs(s,C=>{C.preventDefault()}),onDismiss:c.onDismiss,children:g.jsx(CX,{...d,...l,onPointerDown:Cs(l.onPointerDown,C=>{C.currentTarget.contains(C.target)&&w(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:m,style:{...l.style,userSelect:v?"text":void 0,WebkitUserSelect:v?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),HX="HoverCardArrow",BX=x.forwardRef((t,e)=>{const{__scopeHoverCard:n,...i}=t,r=Dw(n);return g.jsx(EX,{...r,...i,ref:e})});BX.displayName=HX;function D0(t){return e=>e.pointerType==="touch"?void 0:t()}function UX(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var $X=xL,VX=EL,WX=SL,GX=RL;function il({...t}){return g.jsx($X,{"data-slot":"hover-card",...t})}function rl({...t}){return g.jsx(VX,{"data-slot":"hover-card-trigger",...t})}function sl({className:t,align:e="center",sideOffset:n=4,...i}){return g.jsx(WX,{"data-slot":"hover-card-portal",children:g.jsx(GX,{"data-slot":"hover-card-content",align:e,sideOffset:n,className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}var rg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var qX=rg.exports,LT;function YX(){return LT||(LT=1,function(t,e){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",m=1,v=2,w=4,C=1,S=2,_=1,R=2,M=4,k=8,D=16,P=32,O=64,j=128,B=256,W=512,z=30,Q="...",Z=800,ne=16,H=1,Y=2,U=3,J=1/0,X=9007199254740991,K=17976931348623157e292,L=NaN,ee=4294967295,ue=ee-1,V=ee>>>1,fe=[["ary",j],["bind",_],["bindKey",R],["curry",k],["curryRight",D],["flip",W],["partial",P],["partialRight",O],["rearg",B]],be="[object Arguments]",ve="[object Array]",Ce="[object AsyncFunction]",Ee="[object Boolean]",ke="[object Date]",je="[object DOMException]",Ne="[object Error]",ye="[object Function]",Oe="[object GeneratorFunction]",ze="[object Map]",Qe="[object Number]",gt="[object Null]",bt="[object Object]",tn="[object Promise]",yt="[object Proxy]",dn="[object RegExp]",an="[object Set]",Xn="[object String]",ti="[object Symbol]",Fn="[object Undefined]",ni="[object WeakMap]",we="[object WeakSet]",Le="[object ArrayBuffer]",Xe="[object DataView]",st="[object Float32Array]",ft="[object Float64Array]",kn="[object Int8Array]",Kn="[object Int16Array]",hn="[object Int32Array]",ln="[object Uint8Array]",Oi="[object Uint8ClampedArray]",Xt="[object Uint16Array]",rn="[object Uint32Array]",hi=/\b__p \+= '';/g,cl=/\b(__p \+=) '' \+/g,Iu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,es=/[&<>"']/g,Qi=RegExp(Qr.source),Rs=RegExp(es.source),ts=/<%-([\s\S]+?)%>/g,zu=/<%([\s\S]+?)%>/g,Fu=/<%=([\s\S]+?)%>/g,bd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hu=/^\w*$/,fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bu=/[\\^$.*+?()[\]{}|]/g,yd=RegExp(Bu.source),dl=/^\s+/,wd=/\s/,xd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gf=/\{\n\/\* \[wrapped with (.+)\] \*/,ns=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ii=/[()=,{}\[\]\/\s]/,Ts=/\\(\\)?/g,hl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cd=/\w*$/,qf=/^[-+]0x[0-9a-f]+$/i,Ed=/^0b[01]+$/i,pa=/^\[object .+?Constructor\]$/,Uu=/^0o[0-7]+$/i,_s=/^(?:0|[1-9]\d*)$/,go=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wr=/($^)/,vo=/['\n\r\u2028\u2029\\]/g,bn="\\ud800-\\udfff",Sd="\\u0300-\\u036f",Rd="\\ufe20-\\ufe2f",As="\\u20d0-\\u20ff",ks=Sd+Rd+As,er="\\u2700-\\u27bf",$u="a-z\\xdf-\\xf6\\xf8-\\xff",Td="\\xac\\xb1\\xd7\\xf7",_d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yf="\\u2000-\\u206f",fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ma="A-Z\\xc0-\\xd6\\xd8-\\xde",tr="\\ufe0e\\ufe0f",fi=Td+_d+Yf+fl,Ms="['’]",Xf="["+bn+"]",ga="["+fi+"]",Ds="["+ks+"]",va="\\d+",Kf="["+er+"]",ri="["+$u+"]",Ad="[^"+bn+fi+va+er+$u+ma+"]",kd="\\ud83c[\\udffb-\\udfff]",Jf="(?:"+Ds+"|"+kd+")",ba="[^"+bn+"]",Md="(?:\\ud83c[\\udde6-\\uddff]){2}",Dd="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+ma+"]",yv="\\u200d",Zf="(?:"+ri+"|"+Ad+")",wv="(?:"+xr+"|"+Ad+")",Nd="(?:"+Ms+"(?:d|ll|m|re|s|t|ve))?",xv="(?:"+Ms+"(?:D|LL|M|RE|S|T|VE))?",Cv=Jf+"?",Vu="["+tr+"]?",Qf="(?:"+yv+"(?:"+[ba,Md,Dd].join("|")+")"+Vu+Cv+")*",ep="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ya=Vu+Cv+Qf,Ev="(?:"+[Kf,Md,Dd].join("|")+")"+ya,tp="(?:"+[ba+Ds+"?",Ds,Md,Dd,Xf].join("|")+")",Sv=RegExp(Ms,"g"),Wu=RegExp(Ds,"g"),Gu=RegExp(kd+"(?="+kd+")|"+tp+ya,"g"),qu=RegExp([xr+"?"+ri+"+"+Nd+"(?="+[ga,xr,"$"].join("|")+")",wv+"+"+xv+"(?="+[ga,xr+Zf,"$"].join("|")+")",xr+"?"+Zf+"+"+Nd,xr+"+"+xv,pl,ep,va,Ev].join("|"),"g"),bo=RegExp("["+yv+bn+ks+tr+"]"),np=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ld=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rv=-1,Kt={};Kt[st]=Kt[ft]=Kt[kn]=Kt[Kn]=Kt[hn]=Kt[ln]=Kt[Oi]=Kt[Xt]=Kt[rn]=!0,Kt[be]=Kt[ve]=Kt[Le]=Kt[Ee]=Kt[Xe]=Kt[ke]=Kt[Ne]=Kt[ye]=Kt[ze]=Kt[Qe]=Kt[bt]=Kt[dn]=Kt[an]=Kt[Xn]=Kt[ni]=!1;var Yt={};Yt[be]=Yt[ve]=Yt[Le]=Yt[Xe]=Yt[Ee]=Yt[ke]=Yt[st]=Yt[ft]=Yt[kn]=Yt[Kn]=Yt[hn]=Yt[ze]=Yt[Qe]=Yt[bt]=Yt[dn]=Yt[an]=Yt[Xn]=Yt[ti]=Yt[ln]=Yt[Oi]=Yt[Xt]=Yt[rn]=!0,Yt[Ne]=Yt[ye]=Yt[ni]=!1;var Tv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Si={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Od={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yu=parseFloat,Jw=parseInt,Pd=typeof by=="object"&&by&&by.Object===Object&&by,ip=typeof self=="object"&&self&&self.Object===Object&&self,Mn=Pd||ip||Function("return this")(),ml=e&&!e.nodeType&&e,yo=ml&&!0&&t&&!t.nodeType&&t,_v=yo&&yo.exports===ml,rp=_v&&Pd.process,nr=function(){try{var ce=yo&&yo.require&&yo.require("util").types;return ce||rp&&rp.binding&&rp.binding("util")}catch{}}(),jd=nr&&nr.isArrayBuffer,Av=nr&&nr.isDate,kv=nr&&nr.isMap,Mv=nr&&nr.isRegExp,Dv=nr&&nr.isSet,Nv=nr&&nr.isTypedArray;function Ri(ce,xe,ge){switch(ge.length){case 0:return ce.call(xe);case 1:return ce.call(xe,ge[0]);case 2:return ce.call(xe,ge[0],ge[1]);case 3:return ce.call(xe,ge[0],ge[1],ge[2])}return ce.apply(xe,ge)}function Zw(ce,xe,ge,He){for(var et=-1,At=ce==null?0:ce.length;++et<At;){var Dn=ce[et];xe(He,Dn,ge(Dn),ce)}return He}function ir(ce,xe){for(var ge=-1,He=ce==null?0:ce.length;++ge<He&&xe(ce[ge],ge,ce)!==!1;);return ce}function Qw(ce,xe){for(var ge=ce==null?0:ce.length;ge--&&xe(ce[ge],ge,ce)!==!1;);return ce}function Lv(ce,xe){for(var ge=-1,He=ce==null?0:ce.length;++ge<He;)if(!xe(ce[ge],ge,ce))return!1;return!0}function is(ce,xe){for(var ge=-1,He=ce==null?0:ce.length,et=0,At=[];++ge<He;){var Dn=ce[ge];xe(Dn,ge,ce)&&(At[et++]=Dn)}return At}function Id(ce,xe){var ge=ce==null?0:ce.length;return!!ge&&gl(ce,xe,0)>-1}function sp(ce,xe,ge){for(var He=-1,et=ce==null?0:ce.length;++He<et;)if(ge(xe,ce[He]))return!0;return!1}function fn(ce,xe){for(var ge=-1,He=ce==null?0:ce.length,et=Array(He);++ge<He;)et[ge]=xe(ce[ge],ge,ce);return et}function Ns(ce,xe){for(var ge=-1,He=xe.length,et=ce.length;++ge<He;)ce[et+ge]=xe[ge];return ce}function op(ce,xe,ge,He){var et=-1,At=ce==null?0:ce.length;for(He&&At&&(ge=ce[++et]);++et<At;)ge=xe(ge,ce[et],et,ce);return ge}function ex(ce,xe,ge,He){var et=ce==null?0:ce.length;for(He&&et&&(ge=ce[--et]);et--;)ge=xe(ge,ce[et],et,ce);return ge}function ap(ce,xe){for(var ge=-1,He=ce==null?0:ce.length;++ge<He;)if(xe(ce[ge],ge,ce))return!0;return!1}var tx=Fd("length");function nx(ce){return ce.split("")}function ix(ce){return ce.match(Gn)||[]}function Ov(ce,xe,ge){var He;return ge(ce,function(et,At,Dn){if(xe(et,At,Dn))return He=At,!1}),He}function zd(ce,xe,ge,He){for(var et=ce.length,At=ge+(He?1:-1);He?At--:++At<et;)if(xe(ce[At],At,ce))return At;return-1}function gl(ce,xe,ge){return xe===xe?ax(ce,xe,ge):zd(ce,vl,ge)}function lp(ce,xe,ge,He){for(var et=ge-1,At=ce.length;++et<At;)if(He(ce[et],xe))return et;return-1}function vl(ce){return ce!==ce}function Pv(ce,xe){var ge=ce==null?0:ce.length;return ge?Bd(ce,xe)/ge:L}function Fd(ce){return function(xe){return xe==null?n:xe[ce]}}function Hd(ce){return function(xe){return ce==null?n:ce[xe]}}function up(ce,xe,ge,He,et){return et(ce,function(At,Dn,Jt){ge=He?(He=!1,At):xe(ge,At,Dn,Jt)}),ge}function jv(ce,xe){var ge=ce.length;for(ce.sort(xe);ge--;)ce[ge]=ce[ge].value;return ce}function Bd(ce,xe){for(var ge,He=-1,et=ce.length;++He<et;){var At=xe(ce[He]);At!==n&&(ge=ge===n?At:ge+At)}return ge}function wo(ce,xe){for(var ge=-1,He=Array(ce);++ge<ce;)He[ge]=xe(ge);return He}function rx(ce,xe){return fn(xe,function(ge){return[ge,ce[ge]]})}function Iv(ce){return ce&&ce.slice(0,dp(ce)+1).replace(dl,"")}function Pi(ce){return function(xe){return ce(xe)}}function Ud(ce,xe){return fn(xe,function(ge){return ce[ge]})}function bl(ce,xe){return ce.has(xe)}function yl(ce,xe){for(var ge=-1,He=ce.length;++ge<He&&gl(xe,ce[ge],0)>-1;);return ge}function wl(ce,xe){for(var ge=ce.length;ge--&&gl(xe,ce[ge],0)>-1;);return ge}function sx(ce,xe){for(var ge=ce.length,He=0;ge--;)ce[ge]===xe&&++He;return He}var $d=Hd(Tv),zv=Hd(Si);function Fv(ce){return"\\"+Od[ce]}function cp(ce,xe){return ce==null?n:ce[xe]}function xo(ce){return bo.test(ce)}function Hv(ce){return np.test(ce)}function Bv(ce){for(var xe,ge=[];!(xe=ce.next()).done;)ge.push(xe.value);return ge}function Vd(ce){var xe=-1,ge=Array(ce.size);return ce.forEach(function(He,et){ge[++xe]=[et,He]}),ge}function Uv(ce,xe){return function(ge){return ce(xe(ge))}}function Co(ce,xe){for(var ge=-1,He=ce.length,et=0,At=[];++ge<He;){var Dn=ce[ge];(Dn===xe||Dn===f)&&(ce[ge]=f,At[et++]=ge)}return At}function Wd(ce){var xe=-1,ge=Array(ce.size);return ce.forEach(function(He){ge[++xe]=He}),ge}function ox(ce){var xe=-1,ge=Array(ce.size);return ce.forEach(function(He){ge[++xe]=[He,He]}),ge}function ax(ce,xe,ge){for(var He=ge-1,et=ce.length;++He<et;)if(ce[He]===xe)return He;return-1}function ji(ce,xe,ge){for(var He=ge+1;He--;)if(ce[He]===xe)return He;return He}function rs(ce){return xo(ce)?Vv(ce):tx(ce)}function rr(ce){return xo(ce)?hp(ce):nx(ce)}function dp(ce){for(var xe=ce.length;xe--&&wd.test(ce.charAt(xe)););return xe}var $v=Hd(wa);function Vv(ce){for(var xe=Gu.lastIndex=0;Gu.test(ce);)++xe;return xe}function hp(ce){return ce.match(Gu)||[]}function lx(ce){return ce.match(qu)||[]}var ux=function ce(xe){xe=xe==null?Mn:Cr.defaults(Mn.Object(),xe,Cr.pick(Mn,Ld));var ge=xe.Array,He=xe.Date,et=xe.Error,At=xe.Function,Dn=xe.Math,Jt=xe.Object,Ls=xe.RegExp,Wv=xe.String,Ii=xe.TypeError,Xu=ge.prototype,cx=At.prototype,xl=Jt.prototype,Gd=xe["__core-js_shared__"],Ku=cx.toString,Wt=xl.hasOwnProperty,Gv=0,sr=function(){var p=/[^.]+$/.exec(Gd&&Gd.keys&&Gd.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),pi=xl.toString,Cl=Ku.call(Jt),fp=Mn._,qd=Ls("^"+Ku.call(Wt).replace(Bu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xa=_v?xe.Buffer:n,ss=xe.Symbol,Er=xe.Uint8Array,pp=xa?xa.allocUnsafe:n,Ca=Uv(Jt.getPrototypeOf,Jt),Ea=Jt.create,mp=xl.propertyIsEnumerable,mi=Xu.splice,Sa=ss?ss.isConcatSpreadable:n,os=ss?ss.iterator:n,as=ss?ss.toStringTag:n,Ra=function(){try{var p=Nr(Jt,"defineProperty");return p({},"",{}),p}catch{}}(),or=xe.clearTimeout!==Mn.clearTimeout&&xe.clearTimeout,ar=He&&He.now!==Mn.Date.now&&He.now,Ta=xe.setTimeout!==Mn.setTimeout&&xe.setTimeout,lr=Dn.ceil,ur=Dn.floor,Os=Jt.getOwnPropertySymbols,qv=xa?xa.isBuffer:n,Yd=xe.isFinite,gp=Xu.join,gi=Uv(Jt.keys,Jt),kt=Dn.max,ot=Dn.min,Sr=He.now,ls=xe.parseInt,Xd=Dn.random,_a=Xu.reverse,Kd=Nr(xe,"DataView"),El=Nr(xe,"Map"),Aa=Nr(xe,"Promise"),us=Nr(xe,"Set"),Ps=Nr(xe,"WeakMap"),js=Nr(Jt,"create"),Ju=Ps&&new Ps,Eo={},Yv=ki(Kd),Jd=ki(El),Xv=ki(Aa),Zu=ki(us),Kv=ki(Ps),Is=ss?ss.prototype:n,zs=Is?Is.valueOf:n,Qu=Is?Is.toString:n;function $(p){if(_n(p)&&!ut(p)&&!(p instanceof dt)){if(p instanceof zi)return p;if(Wt.call(p,"__wrapped__"))return wh(p)}return new zi(p)}var Fs=function(){function p(){}return function(b){if(!gn(b))return{};if(Ea)return Ea(b);p.prototype=b;var T=new p;return p.prototype=n,T}}();function ec(){}function zi(p,b){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}$.templateSettings={escape:ts,evaluate:zu,interpolate:Fu,variable:"",imports:{_:$}},$.prototype=ec.prototype,$.prototype.constructor=$,zi.prototype=Fs(ec.prototype),zi.prototype.constructor=zi;function dt(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Jv(){var p=new dt(this.__wrapped__);return p.__actions__=vi(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=vi(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=vi(this.__views__),p}function Sl(){if(this.__filtered__){var p=new dt(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Zd(){var p=this.__wrapped__.value(),b=this.__dir__,T=ut(p),N=b<0,F=T?p.length:0,q=Io(0,F,this.__views__),re=q.start,se=q.end,de=se-re,Te=N?se:re-1,Ae=this.__iteratees__,De=Ae.length,Fe=0,Ye=ot(de,this.__takeCount__);if(!T||!N&&F==de&&Ye==de)return uh(p,this.__actions__);var it=[];e:for(;de--&&Fe<Ye;){Te+=b;for(var St=-1,rt=p[Te];++St<De;){var Dt=Ae[St],zt=Dt.iteratee,Ir=Dt.type,Ki=zt(rt);if(Ir==Y)rt=Ki;else if(!Ki){if(Ir==H)continue e;break e}}it[Fe++]=rt}return it}dt.prototype=Fs(ec.prototype),dt.prototype.constructor=dt;function So(p){var b=-1,T=p==null?0:p.length;for(this.clear();++b<T;){var N=p[b];this.set(N[0],N[1])}}function vp(){this.__data__=js?js(null):{},this.size=0}function bp(p){var b=this.has(p)&&delete this.__data__[p];return this.size-=b?1:0,b}function cr(p){var b=this.__data__;if(js){var T=b[p];return T===c?n:T}return Wt.call(b,p)?b[p]:n}function cs(p){var b=this.__data__;return js?b[p]!==n:Wt.call(b,p)}function Ro(p,b){var T=this.__data__;return this.size+=this.has(p)?0:1,T[p]=js&&b===n?c:b,this}So.prototype.clear=vp,So.prototype.delete=bp,So.prototype.get=cr,So.prototype.has=cs,So.prototype.set=Ro;function ds(p){var b=-1,T=p==null?0:p.length;for(this.clear();++b<T;){var N=p[b];this.set(N[0],N[1])}}function To(){this.__data__=[],this.size=0}function Hs(p){var b=this.__data__,T=Ma(b,p);if(T<0)return!1;var N=b.length-1;return T==N?b.pop():mi.call(b,T,1),--this.size,!0}function Hn(p){var b=this.__data__,T=Ma(b,p);return T<0?n:b[T][1]}function Qd(p){return Ma(this.__data__,p)>-1}function dx(p,b){var T=this.__data__,N=Ma(T,p);return N<0?(++this.size,T.push([p,b])):T[N][1]=b,this}ds.prototype.clear=To,ds.prototype.delete=Hs,ds.prototype.get=Hn,ds.prototype.has=Qd,ds.prototype.set=dx;function Bs(p){var b=-1,T=p==null?0:p.length;for(this.clear();++b<T;){var N=p[b];this.set(N[0],N[1])}}function hx(){this.size=0,this.__data__={hash:new So,map:new(El||ds),string:new So}}function Bn(p){var b=$l(this,p).delete(p);return this.size-=b?1:0,b}function yp(p){return $l(this,p).get(p)}function tc(p){return $l(this,p).has(p)}function nc(p,b){var T=$l(this,p),N=T.size;return T.set(p,b),this.size+=T.size==N?0:1,this}Bs.prototype.clear=hx,Bs.prototype.delete=Bn,Bs.prototype.get=yp,Bs.prototype.has=tc,Bs.prototype.set=nc;function Us(p){var b=-1,T=p==null?0:p.length;for(this.__data__=new Bs;++b<T;)this.add(p[b])}function Rl(p){return this.__data__.set(p,c),this}function Tl(p){return this.__data__.has(p)}Us.prototype.add=Us.prototype.push=Rl,Us.prototype.has=Tl;function Rr(p){var b=this.__data__=new ds(p);this.size=b.size}function Zv(){this.__data__=new ds,this.size=0}function fx(p){var b=this.__data__,T=b.delete(p);return this.size=b.size,T}function Qv(p){return this.__data__.get(p)}function ka(p){return this.__data__.has(p)}function wp(p,b){var T=this.__data__;if(T instanceof ds){var N=T.__data__;if(!El||N.length<r-1)return N.push([p,b]),this.size=++T.size,this;T=this.__data__=new Bs(N)}return T.set(p,b),this.size=T.size,this}Rr.prototype.clear=Zv,Rr.prototype.delete=fx,Rr.prototype.get=Qv,Rr.prototype.has=ka,Rr.prototype.set=wp;function ic(p,b){var T=ut(p),N=!T&&Uo(p),F=!T&&!N&&$o(p),q=!T&&!N&&!F&&jr(p),re=T||N||F||q,se=re?wo(p.length,Wv):[],de=se.length;for(var Te in p)(b||Wt.call(p,Te))&&!(re&&(Te=="length"||F&&(Te=="offset"||Te=="parent")||q&&(Te=="buffer"||Te=="byteLength"||Te=="byteOffset")||Lr(Te,de)))&&se.push(Te);return se}function xp(p){var b=p.length;return b?p[lh(0,b-1)]:n}function _o(p,b){return yc(vi(p),Da(b,0,p.length))}function wt(p){return yc(vi(p))}function Gt(p,b,T){(T!==n&&!fr(p[b],T)||T===n&&!(b in p))&&Fi(p,b,T)}function pn(p,b,T){var N=p[b];(!(Wt.call(p,b)&&fr(N,T))||T===n&&!(b in p))&&Fi(p,b,T)}function Ma(p,b){for(var T=p.length;T--;)if(fr(p[T][0],b))return T;return-1}function _l(p,b,T,N){return Mo(p,function(F,q,re){b(N,F,T(F),re)}),N}function Ao(p,b){return p&&_r(b,$n(b),p)}function eh(p,b){return p&&_r(b,wi(b),p)}function Fi(p,b,T){b=="__proto__"&&Ra?Ra(p,b,{configurable:!0,enumerable:!0,value:T,writable:!0}):p[b]=T}function ko(p,b){for(var T=-1,N=b.length,F=ge(N),q=p==null;++T<N;)F[T]=q?n:nu(p,b[T]);return F}function Da(p,b,T){return p===p&&(T!==n&&(p=p<=T?p:T),b!==n&&(p=p>=b?p:b)),p}function Ft(p,b,T,N,F,q){var re,se=b&m,de=b&v,Te=b&w;if(T&&(re=F?T(p,N,F,q):T(p)),re!==n)return re;if(!gn(p))return p;var Ae=ut(p);if(Ae){if(re=Pa(p),!se)return vi(p,re)}else{var De=Pn(p),Fe=De==ye||De==Oe;if($o(p))return Hp(p,se);if(De==bt||De==be||Fe&&!F){if(re=de||Fe?{}:Ai(p),!se)return de?hc(p,eh(re,p)):gb(p,Ao(re,p))}else{if(!Yt[De])return F?p:{};re=bb(p,De,se)}}q||(q=new Rr);var Ye=q.get(p);if(Ye)return Ye;q.set(p,re),ws(p)?p.forEach(function(rt){re.add(Ft(rt,b,T,rt,p,q))}):ny(p)&&p.forEach(function(rt,Dt){re.set(Dt,Ft(rt,b,T,Dt,p,q))});var it=Te?de?mc:ms:de?wi:$n,St=Ae?n:it(p);return ir(St||p,function(rt,Dt){St&&(Dt=rt,rt=p[Dt]),pn(re,Dt,Ft(rt,b,T,Dt,p,q))}),re}function Cp(p){var b=$n(p);return function(T){return th(T,p,b)}}function th(p,b,T){var N=T.length;if(p==null)return!N;for(p=Jt(p);N--;){var F=T[N],q=b[F],re=p[F];if(re===n&&!(F in p)||!q(re))return!1}return!0}function Ep(p,b,T){if(typeof p!="function")throw new Ii(o);return ai(function(){p.apply(n,T)},b)}function Al(p,b,T,N){var F=-1,q=Id,re=!0,se=p.length,de=[],Te=b.length;if(!se)return de;T&&(b=fn(b,Pi(T))),N?(q=sp,re=!1):b.length>=r&&(q=bl,re=!1,b=new Us(b));e:for(;++F<se;){var Ae=p[F],De=T==null?Ae:T(Ae);if(Ae=N||Ae!==0?Ae:0,re&&De===De){for(var Fe=Te;Fe--;)if(b[Fe]===De)continue e;de.push(Ae)}else q(b,De,N)||de.push(Ae)}return de}var Mo=Vp(dr),nh=Vp(Tr,!0);function Sp(p,b){var T=!0;return Mo(p,function(N,F,q){return T=!!b(N,F,q),T}),T}function kl(p,b,T){for(var N=-1,F=p.length;++N<F;){var q=p[N],re=b(q);if(re!=null&&(se===n?re===re&&!Yi(re):T(re,se)))var se=re,de=q}return de}function Ti(p,b,T,N){var F=p.length;for(T=mt(T),T<0&&(T=-T>F?0:F+T),N=N===n||N>F?F:mt(N),N<0&&(N+=F),N=T>N?0:Im(N);T<N;)p[T++]=b;return p}function Nn(p,b){var T=[];return Mo(p,function(N,F,q){b(N,F,q)&&T.push(N)}),T}function On(p,b,T,N,F){var q=-1,re=p.length;for(T||(T=wb),F||(F=[]);++q<re;){var se=p[q];b>0&&T(se)?b>1?On(se,b-1,T,N,F):Ns(F,se):N||(F[F.length]=se)}return F}var Na=Wp(),rc=Wp(!0);function dr(p,b){return p&&Na(p,b,$n)}function Tr(p,b){return p&&rc(p,b,$n)}function La(p,b){return is(b,function(T){return Qs(p[T])})}function $s(p,b){b=Ws(b,p);for(var T=0,N=b.length;p!=null&&T<N;)p=p[bi(b[T++])];return T&&T==N?p:n}function ih(p,b,T){var N=b(p);return ut(p)?N:Ns(N,T(p))}function si(p){return p==null?p===n?Fn:gt:as&&as in Jt(p)?bc(p):Ui(p)}function rh(p,b){return p>b}function eb(p,b){return p!=null&&Wt.call(p,b)}function tb(p,b){return p!=null&&b in Jt(p)}function nb(p,b,T){return p>=ot(b,T)&&p<kt(b,T)}function sh(p,b,T){for(var N=T?sp:Id,F=p[0].length,q=p.length,re=q,se=ge(q),de=1/0,Te=[];re--;){var Ae=p[re];re&&b&&(Ae=fn(Ae,Pi(b))),de=ot(Ae.length,de),se[re]=!T&&(b||F>=120&&Ae.length>=120)?new Us(re&&Ae):n}Ae=p[0];var De=-1,Fe=se[0];e:for(;++De<F&&Te.length<de;){var Ye=Ae[De],it=b?b(Ye):Ye;if(Ye=T||Ye!==0?Ye:0,!(Fe?bl(Fe,it):N(Te,it,T))){for(re=q;--re;){var St=se[re];if(!(St?bl(St,it):N(p[re],it,T)))continue e}Fe&&Fe.push(it),Te.push(Ye)}}return Te}function Rp(p,b,T,N){return dr(p,function(F,q,re){b(N,T(F),q,re)}),N}function Ml(p,b,T){b=Ws(b,p),p=Qp(p,b);var N=p==null?p:p[bi(yi(b))];return N==null?n:Ri(N,p,T)}function ib(p){return _n(p)&&si(p)==be}function rb(p){return _n(p)&&si(p)==Le}function sb(p){return _n(p)&&si(p)==ke}function Dl(p,b,T,N,F){return p===b?!0:p==null||b==null||!_n(p)&&!_n(b)?p!==p&&b!==b:Tp(p,b,T,N,Dl,F)}function Tp(p,b,T,N,F,q){var re=ut(p),se=ut(b),de=re?ve:Pn(p),Te=se?ve:Pn(b);de=de==be?bt:de,Te=Te==be?bt:Te;var Ae=de==bt,De=Te==bt,Fe=de==Te;if(Fe&&$o(p)){if(!$o(b))return!1;re=!0,Ae=!1}if(Fe&&!Ae)return q||(q=new Rr),re||jr(p)?jo(p,b,T,N,F,q):oi(p,b,de,T,N,F,q);if(!(T&C)){var Ye=Ae&&Wt.call(p,"__wrapped__"),it=De&&Wt.call(b,"__wrapped__");if(Ye||it){var St=Ye?p.value():p,rt=it?b.value():b;return q||(q=new Rr),F(St,rt,T,N,q)}}return Fe?(q||(q=new Rr),vh(p,b,T,N,F,q)):!1}function ob(p){return _n(p)&&Pn(p)==ze}function oh(p,b,T,N){var F=T.length,q=F,re=!N;if(p==null)return!q;for(p=Jt(p);F--;){var se=T[F];if(re&&se[2]?se[1]!==p[se[0]]:!(se[0]in p))return!1}for(;++F<q;){se=T[F];var de=se[0],Te=p[de],Ae=se[1];if(re&&se[2]){if(Te===n&&!(de in p))return!1}else{var De=new Rr;if(N)var Fe=N(Te,Ae,de,p,b,De);if(!(Fe===n?Dl(Ae,Te,C|S,N,De):Fe))return!1}}return!0}function _p(p){if(!gn(p)||Jp(p))return!1;var b=Qs(p)?qd:pa;return b.test(ki(p))}function ab(p){return _n(p)&&si(p)==dn}function lb(p){return _n(p)&&Pn(p)==an}function px(p){return _n(p)&&Dh(p.length)&&!!Kt[si(p)]}function Ap(p){return typeof p=="function"?p:p==null?Bt:typeof p=="object"?ut(p)?ah(p[0],p[1]):kp(p):kR(p)}function Do(p){if(!Rn(p))return gi(p);var b=[];for(var T in Jt(p))Wt.call(p,T)&&T!="constructor"&&b.push(T);return b}function ub(p){if(!gn(p))return jn(p);var b=Rn(p),T=[];for(var N in p)N=="constructor"&&(b||!Wt.call(p,N))||T.push(N);return T}function Nl(p,b){return p<b}function sc(p,b){var T=-1,N=pt(p)?ge(p.length):[];return Mo(p,function(F,q,re){N[++T]=b(F,q,re)}),N}function kp(p){var b=vc(p);return b.length==1&&b[0][2]?Cb(b[0][0],b[0][1]):function(T){return T===p||oh(T,p,b)}}function ah(p,b){return Vl(p)&&Zp(b)?Cb(bi(p),b):function(T){var N=nu(T,p);return N===n&&N===b?Bm(T,p):Dl(b,N,C|S)}}function oc(p,b,T,N,F){p!==b&&Na(b,function(q,re){if(F||(F=new Rr),gn(q))cb(p,b,re,T,oc,N,F);else{var se=N?N(em(p,re),q,re+"",p,b,F):n;se===n&&(se=q),Gt(p,re,se)}},wi)}function cb(p,b,T,N,F,q,re){var se=em(p,T),de=em(b,T),Te=re.get(de);if(Te){Gt(p,T,Te);return}var Ae=q?q(se,de,T+"",p,b,re):n,De=Ae===n;if(De){var Fe=ut(de),Ye=!Fe&&$o(de),it=!Fe&&!Ye&&jr(de);Ae=de,Fe||Ye||it?ut(se)?Ae=se:xn(se)?Ae=vi(se):Ye?(De=!1,Ae=Hp(de,!0)):it?(De=!1,Ae=Bp(de,!0)):Ae=[]:ui(de)||Uo(de)?(Ae=se,Uo(se)?Ae=Ql(se):(!gn(se)||Qs(se))&&(Ae=Ai(de))):De=!1}De&&(re.set(de,Ae),F(Ae,de,N,q,re),re.delete(de)),Gt(p,T,Ae)}function Mp(p,b){var T=p.length;if(T)return b+=b<0?T:0,Lr(b,T)?p[b]:n}function Dp(p,b,T){b.length?b=fn(b,function(q){return ut(q)?function(re){return $s(re,q.length===1?q[0]:q)}:q}):b=[Bt];var N=-1;b=fn(b,Pi(Je()));var F=sc(p,function(q,re,se){var de=fn(b,function(Te){return Te(q)});return{criteria:de,index:++N,value:q}});return jv(F,function(q,re){return Jn(q,re,T)})}function Np(p,b){return Lp(p,b,function(T,N){return Bm(p,N)})}function Lp(p,b,T){for(var N=-1,F=b.length,q={};++N<F;){var re=b[N],se=$s(p,re);T(se,re)&&Ll(q,Ws(re,p),se)}return q}function db(p){return function(b){return $s(b,p)}}function ac(p,b,T,N){var F=N?lp:gl,q=-1,re=b.length,se=p;for(p===b&&(b=vi(b)),T&&(se=fn(p,Pi(T)));++q<re;)for(var de=0,Te=b[q],Ae=T?T(Te):Te;(de=F(se,Ae,de,N))>-1;)se!==p&&mi.call(se,de,1),mi.call(p,de,1);return p}function Op(p,b){for(var T=p?b.length:0,N=T-1;T--;){var F=b[T];if(T==N||F!==q){var q=F;Lr(F)?mi.call(p,F,1):hs(p,F)}}return p}function lh(p,b){return p+ur(Xd()*(b-p+1))}function mx(p,b,T,N){for(var F=-1,q=kt(lr((b-p)/(T||1)),0),re=ge(q);q--;)re[N?q:++F]=p,p+=T;return re}function lc(p,b){var T="";if(!p||b<1||b>X)return T;do b%2&&(T+=p),b=ur(b/2),b&&(p+=p);while(b);return T}function vt(p,b){return $i(gs(p,b,Bt),p+"")}function hb(p){return xp(Xi(p))}function Pp(p,b){var T=Xi(p);return yc(T,Da(b,0,T.length))}function Ll(p,b,T,N){if(!gn(p))return p;b=Ws(b,p);for(var F=-1,q=b.length,re=q-1,se=p;se!=null&&++F<q;){var de=bi(b[F]),Te=T;if(de==="__proto__"||de==="constructor"||de==="prototype")return p;if(F!=re){var Ae=se[de];Te=N?N(Ae,de,se):n,Te===n&&(Te=gn(Ae)?Ae:Lr(b[F+1])?[]:{})}pn(se,de,Te),se=se[de]}return p}var jp=Ju?function(p,b){return Ju.set(p,b),p}:Bt,gx=Ra?function(p,b){return Ra(p,"toString",{configurable:!0,enumerable:!1,value:Ue(b),writable:!0})}:Bt;function vx(p){return yc(Xi(p))}function Hi(p,b,T){var N=-1,F=p.length;b<0&&(b=-b>F?0:F+b),T=T>F?F:T,T<0&&(T+=F),F=b>T?0:T-b>>>0,b>>>=0;for(var q=ge(F);++N<F;)q[N]=p[N+b];return q}function uc(p,b){var T;return Mo(p,function(N,F,q){return T=b(N,F,q),!T}),!!T}function Ol(p,b,T){var N=0,F=p==null?N:p.length;if(typeof b=="number"&&b===b&&F<=V){for(;N<F;){var q=N+F>>>1,re=p[q];re!==null&&!Yi(re)&&(T?re<=b:re<b)?N=q+1:F=q}return F}return Pl(p,b,Bt,T)}function Pl(p,b,T,N){var F=0,q=p==null?0:p.length;if(q===0)return 0;b=T(b);for(var re=b!==b,se=b===null,de=Yi(b),Te=b===n;F<q;){var Ae=ur((F+q)/2),De=T(p[Ae]),Fe=De!==n,Ye=De===null,it=De===De,St=Yi(De);if(re)var rt=N||it;else Te?rt=it&&(N||Fe):se?rt=it&&Fe&&(N||!Ye):de?rt=it&&Fe&&!Ye&&(N||!St):Ye||St?rt=!1:rt=N?De<=b:De<b;rt?F=Ae+1:q=Ae}return ot(q,ue)}function Ip(p,b){for(var T=-1,N=p.length,F=0,q=[];++T<N;){var re=p[T],se=b?b(re):re;if(!T||!fr(se,de)){var de=se;q[F++]=re===0?0:re}}return q}function zp(p){return typeof p=="number"?p:Yi(p)?L:+p}function Sn(p){if(typeof p=="string")return p;if(ut(p))return fn(p,Sn)+"";if(Yi(p))return Qu?Qu.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}function _i(p,b,T){var N=-1,F=Id,q=p.length,re=!0,se=[],de=se;if(T)re=!1,F=sp;else if(q>=r){var Te=b?null:Po(p);if(Te)return Wd(Te);re=!1,F=bl,de=new Us}else de=b?[]:se;e:for(;++N<q;){var Ae=p[N],De=b?b(Ae):Ae;if(Ae=T||Ae!==0?Ae:0,re&&De===De){for(var Fe=de.length;Fe--;)if(de[Fe]===De)continue e;b&&de.push(De),se.push(Ae)}else F(de,De,T)||(de!==se&&de.push(De),se.push(Ae))}return se}function hs(p,b){return b=Ws(b,p),p=Qp(p,b),p==null||delete p[bi(yi(b))]}function No(p,b,T,N){return Ll(p,b,T($s(p,b)),N)}function jl(p,b,T,N){for(var F=p.length,q=N?F:-1;(N?q--:++q<F)&&b(p[q],q,p););return T?Hi(p,N?0:q,N?q+1:F):Hi(p,N?q+1:0,N?F:q)}function uh(p,b){var T=p;return T instanceof dt&&(T=T.value()),op(b,function(N,F){return F.func.apply(F.thisArg,Ns([N],F.args))},T)}function ch(p,b,T){var N=p.length;if(N<2)return N?_i(p[0]):[];for(var F=-1,q=ge(N);++F<N;)for(var re=p[F],se=-1;++se<N;)se!=F&&(q[F]=Al(q[F]||re,p[se],b,T));return _i(On(q,1),b,T)}function Fp(p,b,T){for(var N=-1,F=p.length,q=b.length,re={};++N<F;){var se=N<q?b[N]:n;T(re,p[N],se)}return re}function Vs(p){return xn(p)?p:[]}function Il(p){return typeof p=="function"?p:Bt}function Ws(p,b){return ut(p)?p:Vl(p,b)?[p]:vs(qt(p))}var fb=vt;function Gs(p,b,T){var N=p.length;return T=T===n?N:T,!b&&T>=N?p:Hi(p,b,T)}var cc=or||function(p){return Mn.clearTimeout(p)};function Hp(p,b){if(b)return p.slice();var T=p.length,N=pp?pp(T):new p.constructor(T);return p.copy(N),N}function dc(p){var b=new p.constructor(p.byteLength);return new Er(b).set(new Er(p)),b}function pb(p,b){var T=b?dc(p.buffer):p.buffer;return new p.constructor(T,p.byteOffset,p.byteLength)}function mb(p){var b=new p.constructor(p.source,Cd.exec(p));return b.lastIndex=p.lastIndex,b}function bx(p){return zs?Jt(zs.call(p)):{}}function Bp(p,b){var T=b?dc(p.buffer):p.buffer;return new p.constructor(T,p.byteOffset,p.length)}function Un(p,b){if(p!==b){var T=p!==n,N=p===null,F=p===p,q=Yi(p),re=b!==n,se=b===null,de=b===b,Te=Yi(b);if(!se&&!Te&&!q&&p>b||q&&re&&de&&!se&&!Te||N&&re&&de||!T&&de||!F)return 1;if(!N&&!q&&!Te&&p<b||Te&&T&&F&&!N&&!q||se&&T&&F||!re&&F||!de)return-1}return 0}function Jn(p,b,T){for(var N=-1,F=p.criteria,q=b.criteria,re=F.length,se=T.length;++N<re;){var de=Un(F[N],q[N]);if(de){if(N>=se)return de;var Te=T[N];return de*(Te=="desc"?-1:1)}}return p.index-b.index}function Up(p,b,T,N){for(var F=-1,q=p.length,re=T.length,se=-1,de=b.length,Te=kt(q-re,0),Ae=ge(de+Te),De=!N;++se<de;)Ae[se]=b[se];for(;++F<re;)(De||F<q)&&(Ae[T[F]]=p[F]);for(;Te--;)Ae[se++]=p[F++];return Ae}function $p(p,b,T,N){for(var F=-1,q=p.length,re=-1,se=T.length,de=-1,Te=b.length,Ae=kt(q-se,0),De=ge(Ae+Te),Fe=!N;++F<Ae;)De[F]=p[F];for(var Ye=F;++de<Te;)De[Ye+de]=b[de];for(;++re<se;)(Fe||F<q)&&(De[Ye+T[re]]=p[F++]);return De}function vi(p,b){var T=-1,N=p.length;for(b||(b=ge(N));++T<N;)b[T]=p[T];return b}function _r(p,b,T,N){var F=!T;T||(T={});for(var q=-1,re=b.length;++q<re;){var se=b[q],de=N?N(T[se],p[se],se,T,p):n;de===n&&(de=p[se]),F?Fi(T,se,de):pn(T,se,de)}return T}function gb(p,b){return _r(p,bh(p),b)}function hc(p,b){return _r(p,Xp(p),b)}function zl(p,b){return function(T,N){var F=ut(T)?Zw:_l,q=b?b():{};return F(T,p,Je(N,2),q)}}function Oa(p){return vt(function(b,T){var N=-1,F=T.length,q=F>1?T[F-1]:n,re=F>2?T[2]:n;for(q=p.length>3&&typeof q=="function"?(F--,q):n,re&&Zn(T[0],T[1],re)&&(q=F<3?n:q,F=1),b=Jt(b);++N<F;){var se=T[N];se&&p(b,se,N,q)}return b})}function Vp(p,b){return function(T,N){if(T==null)return T;if(!pt(T))return p(T,N);for(var F=T.length,q=b?F:-1,re=Jt(T);(b?q--:++q<F)&&N(re[q],q,re)!==!1;);return T}}function Wp(p){return function(b,T,N){for(var F=-1,q=Jt(b),re=N(b),se=re.length;se--;){var de=re[p?se:++F];if(T(q[de],de,q)===!1)break}return b}}function Gp(p,b,T){var N=b&_,F=Fl(p);function q(){var re=this&&this!==Mn&&this instanceof q?F:p;return re.apply(N?T:this,arguments)}return q}function dh(p){return function(b){b=qt(b);var T=xo(b)?rr(b):n,N=T?T[0]:b.charAt(0),F=T?Gs(T,1).join(""):b.slice(1);return N[p]()+F}}function Lo(p){return function(b){return op(Cn(Wm(b).replace(Sv,"")),p,"")}}function Fl(p){return function(){var b=arguments;switch(b.length){case 0:return new p;case 1:return new p(b[0]);case 2:return new p(b[0],b[1]);case 3:return new p(b[0],b[1],b[2]);case 4:return new p(b[0],b[1],b[2],b[3]);case 5:return new p(b[0],b[1],b[2],b[3],b[4]);case 6:return new p(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new p(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var T=Fs(p.prototype),N=p.apply(T,b);return gn(N)?N:T}}function qp(p,b,T){var N=Fl(p);function F(){for(var q=arguments.length,re=ge(q),se=q,de=Bi(F);se--;)re[se]=arguments[se];var Te=q<3&&re[0]!==de&&re[q-1]!==de?[]:Co(re,de);if(q-=Te.length,q<T)return Oo(p,b,fc,F.placeholder,n,re,Te,n,n,T-q);var Ae=this&&this!==Mn&&this instanceof F?N:p;return Ri(Ae,this,re)}return F}function hh(p){return function(b,T,N){var F=Jt(b);if(!pt(b)){var q=Je(T,3);b=$n(b),T=function(se){return q(F[se],se,F)}}var re=p(b,T,N);return re>-1?F[q?b[re]:re]:n}}function fh(p){return ps(function(b){var T=b.length,N=T,F=zi.prototype.thru;for(p&&b.reverse();N--;){var q=b[N];if(typeof q!="function")throw new Ii(o);if(F&&!re&&Dr(q)=="wrapper")var re=new zi([],!0)}for(N=re?N:T;++N<T;){q=b[N];var se=Dr(q),de=se=="wrapper"?gc(q):n;de&&mn(de[0])&&de[1]==(j|k|P|B)&&!de[4].length&&de[9]==1?re=re[Dr(de[0])].apply(re,de[3]):re=q.length==1&&mn(q)?re[se]():re.thru(q)}return function(){var Te=arguments,Ae=Te[0];if(re&&Te.length==1&&ut(Ae))return re.plant(Ae).value();for(var De=0,Fe=T?b[De].apply(this,Te):Ae;++De<T;)Fe=b[De].call(this,Fe);return Fe}})}function fc(p,b,T,N,F,q,re,se,de,Te){var Ae=b&j,De=b&_,Fe=b&R,Ye=b&(k|D),it=b&W,St=Fe?n:Fl(p);function rt(){for(var Dt=arguments.length,zt=ge(Dt),Ir=Dt;Ir--;)zt[Ir]=arguments[Ir];if(Ye)var Ki=Bi(rt),zr=sx(zt,Ki);if(N&&(zt=Up(zt,N,F,Ye)),q&&(zt=$p(zt,q,re,Ye)),Dt-=zr,Ye&&Dt<Te){var Vn=Co(zt,Ki);return Oo(p,b,fc,rt.placeholder,T,zt,Vn,se,de,Te-Dt)}var no=De?T:this,Ua=Fe?no[p]:p;return Dt=zt.length,se?zt=Rb(zt,se):it&&Dt>1&&zt.reverse(),Ae&&de<Dt&&(zt.length=de),this&&this!==Mn&&this instanceof rt&&(Ua=St||Fl(Ua)),Ua.apply(no,zt)}return rt}function ph(p,b){return function(T,N){return Rp(T,p,b(N),{})}}function pc(p,b){return function(T,N){var F;if(T===n&&N===n)return b;if(T!==n&&(F=T),N!==n){if(F===n)return N;typeof T=="string"||typeof N=="string"?(T=Sn(T),N=Sn(N)):(T=zp(T),N=zp(N)),F=p(T,N)}return F}}function Ar(p){return ps(function(b){return b=fn(b,Pi(Je())),vt(function(T){var N=this;return p(b,function(F){return Ri(F,N,T)})})})}function Hl(p,b){b=b===n?" ":Sn(b);var T=b.length;if(T<2)return T?lc(b,p):b;var N=lc(b,lr(p/rs(b)));return xo(b)?Gs(rr(N),0,p).join(""):N.slice(0,p)}function yx(p,b,T,N){var F=b&_,q=Fl(p);function re(){for(var se=-1,de=arguments.length,Te=-1,Ae=N.length,De=ge(Ae+de),Fe=this&&this!==Mn&&this instanceof re?q:p;++Te<Ae;)De[Te]=N[Te];for(;de--;)De[Te++]=arguments[++se];return Ri(Fe,F?T:this,De)}return re}function Yp(p){return function(b,T,N){return N&&typeof N!="number"&&Zn(b,T,N)&&(T=N=n),b=eo(b),T===n?(T=b,b=0):T=eo(T),N=N===n?b<T?1:-1:eo(N),mx(b,T,N,p)}}function Bl(p){return function(b,T){return typeof b=="string"&&typeof T=="string"||(b=ei(b),T=ei(T)),p(b,T)}}function Oo(p,b,T,N,F,q,re,se,de,Te){var Ae=b&k,De=Ae?re:n,Fe=Ae?n:re,Ye=Ae?q:n,it=Ae?n:q;b|=Ae?P:O,b&=~(Ae?O:P),b&M||(b&=-4);var St=[p,b,F,Ye,De,it,Fe,se,de,Te],rt=T.apply(n,St);return mn(p)&&yh(rt,St),rt.placeholder=N,tm(rt,p,b)}function kr(p){var b=Dn[p];return function(T,N){if(T=ei(T),N=N==null?0:ot(mt(N),292),N&&Yd(T)){var F=(qt(T)+"e").split("e"),q=b(F[0]+"e"+(+F[1]+N));return F=(qt(q)+"e").split("e"),+(F[0]+"e"+(+F[1]-N))}return b(T)}}var Po=us&&1/Wd(new us([,-0]))[1]==J?function(p){return new us(p)}:t1;function fs(p){return function(b){var T=Pn(b);return T==ze?Vd(b):T==an?ox(b):rx(b,p(b))}}function Mr(p,b,T,N,F,q,re,se){var de=b&R;if(!de&&typeof p!="function")throw new Ii(o);var Te=N?N.length:0;if(Te||(b&=-97,N=F=n),re=re===n?re:kt(mt(re),0),se=se===n?se:mt(se),Te-=F?F.length:0,b&O){var Ae=N,De=F;N=F=n}var Fe=de?n:gc(p),Ye=[p,b,T,N,F,Ae,De,q,re,se];if(Fe&&Sb(Ye,Fe),p=Ye[0],b=Ye[1],T=Ye[2],N=Ye[3],F=Ye[4],se=Ye[9]=Ye[9]===n?de?0:p.length:kt(Ye[9]-Te,0),!se&&b&(k|D)&&(b&=-25),!b||b==_)var it=Gp(p,b,T);else b==k||b==D?it=qp(p,b,se):(b==P||b==(_|P))&&!F.length?it=yx(p,b,T,N):it=fc.apply(n,Ye);var St=Fe?jp:yh;return tm(St(it,Ye),p,b)}function mh(p,b,T,N){return p===n||fr(p,xl[T])&&!Wt.call(N,T)?b:p}function Ul(p,b,T,N,F,q){return gn(p)&&gn(b)&&(q.set(b,p),oc(p,b,n,Ul,q),q.delete(b)),p}function gh(p){return ui(p)?n:p}function jo(p,b,T,N,F,q){var re=T&C,se=p.length,de=b.length;if(se!=de&&!(re&&de>se))return!1;var Te=q.get(p),Ae=q.get(b);if(Te&&Ae)return Te==b&&Ae==p;var De=-1,Fe=!0,Ye=T&S?new Us:n;for(q.set(p,b),q.set(b,p);++De<se;){var it=p[De],St=b[De];if(N)var rt=re?N(St,it,De,b,p,q):N(it,St,De,p,b,q);if(rt!==n){if(rt)continue;Fe=!1;break}if(Ye){if(!ap(b,function(Dt,zt){if(!bl(Ye,zt)&&(it===Dt||F(it,Dt,T,N,q)))return Ye.push(zt)})){Fe=!1;break}}else if(!(it===St||F(it,St,T,N,q))){Fe=!1;break}}return q.delete(p),q.delete(b),Fe}function oi(p,b,T,N,F,q,re){switch(T){case Xe:if(p.byteLength!=b.byteLength||p.byteOffset!=b.byteOffset)return!1;p=p.buffer,b=b.buffer;case Le:return!(p.byteLength!=b.byteLength||!q(new Er(p),new Er(b)));case Ee:case ke:case Qe:return fr(+p,+b);case Ne:return p.name==b.name&&p.message==b.message;case dn:case Xn:return p==b+"";case ze:var se=Vd;case an:var de=N&C;if(se||(se=Wd),p.size!=b.size&&!de)return!1;var Te=re.get(p);if(Te)return Te==b;N|=S,re.set(p,b);var Ae=jo(se(p),se(b),N,F,q,re);return re.delete(p),Ae;case ti:if(zs)return zs.call(p)==zs.call(b)}return!1}function vh(p,b,T,N,F,q){var re=T&C,se=ms(p),de=se.length,Te=ms(b),Ae=Te.length;if(de!=Ae&&!re)return!1;for(var De=de;De--;){var Fe=se[De];if(!(re?Fe in b:Wt.call(b,Fe)))return!1}var Ye=q.get(p),it=q.get(b);if(Ye&&it)return Ye==b&&it==p;var St=!0;q.set(p,b),q.set(b,p);for(var rt=re;++De<de;){Fe=se[De];var Dt=p[Fe],zt=b[Fe];if(N)var Ir=re?N(zt,Dt,Fe,b,p,q):N(Dt,zt,Fe,p,b,q);if(!(Ir===n?Dt===zt||F(Dt,zt,T,N,q):Ir)){St=!1;break}rt||(rt=Fe=="constructor")}if(St&&!rt){var Ki=p.constructor,zr=b.constructor;Ki!=zr&&"constructor"in p&&"constructor"in b&&!(typeof Ki=="function"&&Ki instanceof Ki&&typeof zr=="function"&&zr instanceof zr)&&(St=!1)}return q.delete(p),q.delete(b),St}function ps(p){return $i(gs(p,n,Wi),p+"")}function ms(p){return ih(p,$n,bh)}function mc(p){return ih(p,wi,Xp)}var gc=Ju?function(p){return Ju.get(p)}:t1;function Dr(p){for(var b=p.name+"",T=Eo[b],N=Wt.call(Eo,b)?T.length:0;N--;){var F=T[N],q=F.func;if(q==null||q==p)return F.name}return b}function Bi(p){var b=Wt.call($,"placeholder")?$:p;return b.placeholder}function Je(){var p=$.iteratee||Ot;return p=p===Ot?Ap:p,arguments.length?p(arguments[0],arguments[1]):p}function $l(p,b){var T=p.__data__;return qs(b)?T[typeof b=="string"?"string":"hash"]:T.map}function vc(p){for(var b=$n(p),T=b.length;T--;){var N=b[T],F=p[N];b[T]=[N,F,Zp(F)]}return b}function Nr(p,b){var T=cp(p,b);return _p(T)?T:n}function bc(p){var b=Wt.call(p,as),T=p[as];try{p[as]=n;var N=!0}catch{}var F=pi.call(p);return N&&(b?p[as]=T:delete p[as]),F}var bh=Os?function(p){return p==null?[]:(p=Jt(p),is(Os(p),function(b){return mp.call(p,b)}))}:n1,Xp=Os?function(p){for(var b=[];p;)Ns(b,bh(p)),p=Ca(p);return b}:n1,Pn=si;(Kd&&Pn(new Kd(new ArrayBuffer(1)))!=Xe||El&&Pn(new El)!=ze||Aa&&Pn(Aa.resolve())!=tn||us&&Pn(new us)!=an||Ps&&Pn(new Ps)!=ni)&&(Pn=function(p){var b=si(p),T=b==bt?p.constructor:n,N=T?ki(T):"";if(N)switch(N){case Yv:return Xe;case Jd:return ze;case Xv:return tn;case Zu:return an;case Kv:return ni}return b});function Io(p,b,T){for(var N=-1,F=T.length;++N<F;){var q=T[N],re=q.size;switch(q.type){case"drop":p+=re;break;case"dropRight":b-=re;break;case"take":b=ot(b,p+re);break;case"takeRight":p=kt(p,b-re);break}}return{start:p,end:b}}function vb(p){var b=p.match(Gf);return b?b[1].split(ns):[]}function Kp(p,b,T){b=Ws(b,p);for(var N=-1,F=b.length,q=!1;++N<F;){var re=bi(b[N]);if(!(q=p!=null&&T(p,re)))break;p=p[re]}return q||++N!=F?q:(F=p==null?0:p.length,!!F&&Dh(F)&&Lr(re,F)&&(ut(p)||Uo(p)))}function Pa(p){var b=p.length,T=new p.constructor(b);return b&&typeof p[0]=="string"&&Wt.call(p,"index")&&(T.index=p.index,T.input=p.input),T}function Ai(p){return typeof p.constructor=="function"&&!Rn(p)?Fs(Ca(p)):{}}function bb(p,b,T){var N=p.constructor;switch(b){case Le:return dc(p);case Ee:case ke:return new N(+p);case Xe:return pb(p,T);case st:case ft:case kn:case Kn:case hn:case ln:case Oi:case Xt:case rn:return Bp(p,T);case ze:return new N;case Qe:case Xn:return new N(p);case dn:return mb(p);case an:return new N;case ti:return bx(p)}}function yb(p,b){var T=b.length;if(!T)return p;var N=T-1;return b[N]=(T>1?"& ":"")+b[N],b=b.join(T>2?", ":" "),p.replace(xd,`{
/* [wrapped with `+b+`] */
`)}function wb(p){return ut(p)||Uo(p)||!!(Sa&&p&&p[Sa])}function Lr(p,b){var T=typeof p;return b=b??X,!!b&&(T=="number"||T!="symbol"&&_s.test(p))&&p>-1&&p%1==0&&p<b}function Zn(p,b,T){if(!gn(T))return!1;var N=typeof b;return(N=="number"?pt(T)&&Lr(b,T.length):N=="string"&&b in T)?fr(T[b],p):!1}function Vl(p,b){if(ut(p))return!1;var T=typeof p;return T=="number"||T=="symbol"||T=="boolean"||p==null||Yi(p)?!0:Hu.test(p)||!bd.test(p)||b!=null&&p in Jt(b)}function qs(p){var b=typeof p;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?p!=="__proto__":p===null}function mn(p){var b=Dr(p),T=$[b];if(typeof T!="function"||!(b in dt.prototype))return!1;if(p===T)return!0;var N=gc(T);return!!N&&p===N[0]}function Jp(p){return!!sr&&sr in p}var xb=Gd?Qs:i1;function Rn(p){var b=p&&p.constructor,T=typeof b=="function"&&b.prototype||xl;return p===T}function Zp(p){return p===p&&!gn(p)}function Cb(p,b){return function(T){return T==null?!1:T[p]===b&&(b!==n||p in Jt(T))}}function Eb(p){var b=Mc(p,function(N){return T.size===d&&T.clear(),N}),T=b.cache;return b}function Sb(p,b){var T=p[1],N=b[1],F=T|N,q=F<(_|R|j),re=N==j&&T==k||N==j&&T==B&&p[7].length<=b[8]||N==(j|B)&&b[7].length<=b[8]&&T==k;if(!(q||re))return p;N&_&&(p[2]=b[2],F|=T&_?0:M);var se=b[3];if(se){var de=p[3];p[3]=de?Up(de,se,b[4]):se,p[4]=de?Co(p[3],f):b[4]}return se=b[5],se&&(de=p[5],p[5]=de?$p(de,se,b[6]):se,p[6]=de?Co(p[5],f):b[6]),se=b[7],se&&(p[7]=se),N&j&&(p[8]=p[8]==null?b[8]:ot(p[8],b[8])),p[9]==null&&(p[9]=b[9]),p[0]=b[0],p[1]=F,p}function jn(p){var b=[];if(p!=null)for(var T in Jt(p))b.push(T);return b}function Ui(p){return pi.call(p)}function gs(p,b,T){return b=kt(b===n?p.length-1:b,0),function(){for(var N=arguments,F=-1,q=kt(N.length-b,0),re=ge(q);++F<q;)re[F]=N[b+F];F=-1;for(var se=ge(b+1);++F<b;)se[F]=N[F];return se[b]=T(re),Ri(p,this,se)}}function Qp(p,b){return b.length<2?p:$s(p,Hi(b,0,-1))}function Rb(p,b){for(var T=p.length,N=ot(b.length,T),F=vi(p);N--;){var q=b[N];p[N]=Lr(q,T)?F[q]:n}return p}function em(p,b){if(!(b==="constructor"&&typeof p[b]=="function")&&b!="__proto__")return p[b]}var yh=Vi(jp),ai=Ta||function(p,b){return Mn.setTimeout(p,b)},$i=Vi(gx);function tm(p,b,T){var N=b+"";return $i(p,yb(N,nm(vb(N),T)))}function Vi(p){var b=0,T=0;return function(){var N=Sr(),F=ne-(N-T);if(T=N,F>0){if(++b>=Z)return arguments[0]}else b=0;return p.apply(n,arguments)}}function yc(p,b){var T=-1,N=p.length,F=N-1;for(b=b===n?N:b;++T<b;){var q=lh(T,F),re=p[q];p[q]=p[T],p[T]=re}return p.length=b,p}var vs=Eb(function(p){var b=[];return p.charCodeAt(0)===46&&b.push(""),p.replace(fa,function(T,N,F,q){b.push(F?q.replace(Ts,"$1"):N||T)}),b});function bi(p){if(typeof p=="string"||Yi(p))return p;var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}function ki(p){if(p!=null){try{return Ku.call(p)}catch{}try{return p+""}catch{}}return""}function nm(p,b){return ir(fe,function(T){var N="_."+T[0];b&T[1]&&!Id(p,N)&&p.push(N)}),p.sort()}function wh(p){if(p instanceof dt)return p.clone();var b=new zi(p.__wrapped__,p.__chain__);return b.__actions__=vi(p.__actions__),b.__index__=p.__index__,b.__values__=p.__values__,b}function zo(p,b,T){(T?Zn(p,b,T):b===n)?b=1:b=kt(mt(b),0);var N=p==null?0:p.length;if(!N||b<1)return[];for(var F=0,q=0,re=ge(lr(N/b));F<N;)re[q++]=Hi(p,F,F+=b);return re}function Tb(p){for(var b=-1,T=p==null?0:p.length,N=0,F=[];++b<T;){var q=p[b];q&&(F[N++]=q)}return F}function Wl(){var p=arguments.length;if(!p)return[];for(var b=ge(p-1),T=arguments[0],N=p;N--;)b[N-1]=arguments[N];return Ns(ut(T)?vi(T):[T],On(b,1))}var wc=vt(function(p,b){return xn(p)?Al(p,On(b,1,xn,!0)):[]}),xc=vt(function(p,b){var T=yi(b);return xn(T)&&(T=n),xn(p)?Al(p,On(b,1,xn,!0),Je(T,2)):[]}),Gl=vt(function(p,b){var T=yi(b);return xn(T)&&(T=n),xn(p)?Al(p,On(b,1,xn,!0),n,T):[]});function _b(p,b,T){var N=p==null?0:p.length;return N?(b=T||b===n?1:mt(b),Hi(p,b<0?0:b,N)):[]}function Ab(p,b,T){var N=p==null?0:p.length;return N?(b=T||b===n?1:mt(b),b=N-b,Hi(p,0,b<0?0:b)):[]}function Cc(p,b){return p&&p.length?jl(p,Je(b,3),!0,!0):[]}function kb(p,b){return p&&p.length?jl(p,Je(b,3),!0):[]}function xh(p,b,T,N){var F=p==null?0:p.length;return F?(T&&typeof T!="number"&&Zn(p,b,T)&&(T=0,N=F),Ti(p,b,T,N)):[]}function im(p,b,T){var N=p==null?0:p.length;if(!N)return-1;var F=T==null?0:mt(T);return F<0&&(F=kt(N+F,0)),zd(p,Je(b,3),F)}function Mb(p,b,T){var N=p==null?0:p.length;if(!N)return-1;var F=N-1;return T!==n&&(F=mt(T),F=T<0?kt(N+F,0):ot(F,N-1)),zd(p,Je(b,3),F,!0)}function Wi(p){var b=p==null?0:p.length;return b?On(p,1):[]}function rm(p){var b=p==null?0:p.length;return b?On(p,J):[]}function Fo(p,b){var T=p==null?0:p.length;return T?(b=b===n?1:mt(b),On(p,b)):[]}function Db(p){for(var b=-1,T=p==null?0:p.length,N={};++b<T;){var F=p[b];N[F[0]]=F[1]}return N}function Ec(p){return p&&p.length?p[0]:n}function ja(p,b,T){var N=p==null?0:p.length;if(!N)return-1;var F=T==null?0:mt(T);return F<0&&(F=kt(N+F,0)),gl(p,b,F)}function Nb(p){var b=p==null?0:p.length;return b?Hi(p,0,-1):[]}var sm=vt(function(p){var b=fn(p,Vs);return b.length&&b[0]===p[0]?sh(b):[]}),om=vt(function(p){var b=yi(p),T=fn(p,Vs);return b===yi(T)?b=n:T.pop(),T.length&&T[0]===p[0]?sh(T,Je(b,2)):[]}),Ys=vt(function(p){var b=yi(p),T=fn(p,Vs);return b=typeof b=="function"?b:n,b&&T.pop(),T.length&&T[0]===p[0]?sh(T,n,b):[]});function Lb(p,b){return p==null?"":gp.call(p,b)}function yi(p){var b=p==null?0:p.length;return b?p[b-1]:n}function Sc(p,b,T){var N=p==null?0:p.length;if(!N)return-1;var F=N;return T!==n&&(F=mt(T),F=F<0?kt(N+F,0):ot(F,N-1)),b===b?ji(p,b,F):zd(p,vl,F,!0)}function yn(p,b){return p&&p.length?Mp(p,mt(b)):n}var wx=vt(Ob);function Ob(p,b){return p&&p.length&&b&&b.length?ac(p,b):p}function Pb(p,b,T){return p&&p.length&&b&&b.length?ac(p,b,Je(T,2)):p}function xx(p,b,T){return p&&p.length&&b&&b.length?ac(p,b,n,T):p}var Cx=ps(function(p,b){var T=p==null?0:p.length,N=ko(p,b);return Op(p,fn(b,function(F){return Lr(F,T)?+F:F}).sort(Un)),N});function wn(p,b){var T=[];if(!(p&&p.length))return T;var N=-1,F=[],q=p.length;for(b=Je(b,3);++N<q;){var re=p[N];b(re,N,p)&&(T.push(re),F.push(N))}return Op(p,F),T}function Zt(p){return p==null?p:_a.call(p)}function Tt(p,b,T){var N=p==null?0:p.length;return N?(T&&typeof T!="number"&&Zn(p,b,T)?(b=0,T=N):(b=b==null?0:mt(b),T=T===n?N:mt(T)),Hi(p,b,T)):[]}function Lt(p,b){return Ol(p,b)}function sn(p,b,T){return Pl(p,b,Je(T,2))}function Gi(p,b){var T=p==null?0:p.length;if(T){var N=Ol(p,b);if(N<T&&fr(p[N],b))return N}return-1}function Xs(p,b){return Ol(p,b,!0)}function ql(p,b,T){return Pl(p,b,Je(T,2),!0)}function am(p,b){var T=p==null?0:p.length;if(T){var N=Ol(p,b,!0)-1;if(fr(p[N],b))return N}return-1}function Ks(p){return p&&p.length?Ip(p):[]}function Tn(p,b){return p&&p.length?Ip(p,Je(b,2)):[]}function Ho(p){var b=p==null?0:p.length;return b?Hi(p,1,b):[]}function Ia(p,b,T){return p&&p.length?(b=T||b===n?1:mt(b),Hi(p,0,b<0?0:b)):[]}function lm(p,b,T){var N=p==null?0:p.length;return N?(b=T||b===n?1:mt(b),b=N-b,Hi(p,b<0?0:b,N)):[]}function hr(p,b){return p&&p.length?jl(p,Je(b,3),!1,!0):[]}function Yl(p,b){return p&&p.length?jl(p,Je(b,3)):[]}var Rc=vt(function(p){return _i(On(p,1,xn,!0))}),bs=vt(function(p){var b=yi(p);return xn(b)&&(b=n),_i(On(p,1,xn,!0),Je(b,2))}),um=vt(function(p){var b=yi(p);return b=typeof b=="function"?b:n,_i(On(p,1,xn,!0),n,b)});function cm(p){return p&&p.length?_i(p):[]}function Ch(p,b){return p&&p.length?_i(p,Je(b,2)):[]}function Eh(p,b){return b=typeof b=="function"?b:n,p&&p.length?_i(p,n,b):[]}function ys(p){if(!(p&&p.length))return[];var b=0;return p=is(p,function(T){if(xn(T))return b=kt(T.length,b),!0}),wo(b,function(T){return fn(p,Fd(T))})}function Tc(p,b){if(!(p&&p.length))return[];var T=ys(p);return b==null?T:fn(T,function(N){return Ri(b,n,N)})}var za=vt(function(p,b){return xn(p)?Al(p,b):[]}),_c=vt(function(p){return ch(is(p,xn))}),dm=vt(function(p){var b=yi(p);return xn(b)&&(b=n),ch(is(p,xn),Je(b,2))}),hm=vt(function(p){var b=yi(p);return b=typeof b=="function"?b:n,ch(is(p,xn),n,b)}),Ac=vt(ys);function fm(p,b){return Fp(p||[],b||[],pn)}function qi(p,b){return Fp(p||[],b||[],Ll)}var jb=vt(function(p){var b=p.length,T=b>1?p[b-1]:n;return T=typeof T=="function"?(p.pop(),T):n,Tc(p,T)});function li(p){var b=$(p);return b.__chain__=!0,b}function Ib(p,b){return b(p),p}function Xl(p,b){return b(p)}var zb=ps(function(p){var b=p.length,T=b?p[0]:0,N=this.__wrapped__,F=function(q){return ko(q,p)};return b>1||this.__actions__.length||!(N instanceof dt)||!Lr(T)?this.thru(F):(N=N.slice(T,+T+(b?1:0)),N.__actions__.push({func:Xl,args:[F],thisArg:n}),new zi(N,this.__chain__).thru(function(q){return b&&!q.length&&q.push(n),q}))});function Ex(){return li(this)}function Js(){return new zi(this.value(),this.__chain__)}function Sh(){this.__values__===n&&(this.__values__=sy(this.value()));var p=this.__index__>=this.__values__.length,b=p?n:this.__values__[this.__index__++];return{done:p,value:b}}function pm(){return this}function Kl(p){for(var b,T=this;T instanceof ec;){var N=wh(T);N.__index__=0,N.__values__=n,b?F.__wrapped__=N:b=N;var F=N;T=T.__wrapped__}return F.__wrapped__=p,b}function Fb(){var p=this.__wrapped__;if(p instanceof dt){var b=p;return this.__actions__.length&&(b=new dt(this)),b=b.reverse(),b.__actions__.push({func:Xl,args:[Zt],thisArg:n}),new zi(b,this.__chain__)}return this.thru(Zt)}function Hb(){return uh(this.__wrapped__,this.__actions__)}var Bb=zl(function(p,b,T){Wt.call(p,T)?++p[T]:Fi(p,T,1)});function mm(p,b,T){var N=ut(p)?Lv:Sp;return T&&Zn(p,b,T)&&(b=n),N(p,Je(b,3))}function gm(p,b){var T=ut(p)?is:Nn;return T(p,Je(b,3))}var Sx=hh(im),Rx=hh(Mb);function Tx(p,b){return On(Zs(p,b),1)}function Ub(p,b){return On(Zs(p,b),J)}function $b(p,b,T){return T=T===n?1:mt(T),On(Zs(p,b),T)}function Fa(p,b){var T=ut(p)?ir:Mo;return T(p,Je(b,3))}function kc(p,b){var T=ut(p)?Qw:nh;return T(p,Je(b,3))}var Vb=zl(function(p,b,T){Wt.call(p,T)?p[T].push(b):Fi(p,T,[b])});function Wb(p,b,T,N){p=pt(p)?p:Xi(p),T=T&&!N?mt(T):0;var F=p.length;return T<0&&(T=kt(F+T,0)),Oh(p)?T<=F&&p.indexOf(b,T)>-1:!!F&&gl(p,b,T)>-1}var _x=vt(function(p,b,T){var N=-1,F=typeof b=="function",q=pt(p)?ge(p.length):[];return Mo(p,function(re){q[++N]=F?Ri(b,re,T):Ml(re,b,T)}),q}),Gb=zl(function(p,b,T){Fi(p,T,b)});function Zs(p,b){var T=ut(p)?fn:sc;return T(p,Je(b,3))}function qb(p,b,T,N){return p==null?[]:(ut(b)||(b=b==null?[]:[b]),T=N?n:T,ut(T)||(T=T==null?[]:[T]),Dp(p,b,T))}var nn=zl(function(p,b,T){p[T?0:1].push(b)},function(){return[[],[]]});function vm(p,b,T){var N=ut(p)?op:up,F=arguments.length<3;return N(p,Je(b,4),T,F,Mo)}function Ax(p,b,T){var N=ut(p)?ex:up,F=arguments.length<3;return N(p,Je(b,4),T,F,nh)}function Yb(p,b){var T=ut(p)?is:Nn;return T(p,Th(Je(b,3)))}function kx(p){var b=ut(p)?xp:hb;return b(p)}function Mx(p,b,T){(T?Zn(p,b,T):b===n)?b=1:b=mt(b);var N=ut(p)?_o:Pp;return N(p,b)}function Dx(p){var b=ut(p)?wt:vx;return b(p)}function Rh(p){if(p==null)return 0;if(pt(p))return Oh(p)?rs(p):p.length;var b=Pn(p);return b==ze||b==an?p.size:Do(p).length}function Jl(p,b,T){var N=ut(p)?ap:uc;return T&&Zn(p,b,T)&&(b=n),N(p,Je(b,3))}var bm=vt(function(p,b){if(p==null)return[];var T=b.length;return T>1&&Zn(p,b[0],b[1])?b=[]:T>2&&Zn(b[0],b[1],b[2])&&(b=[b[0]]),Dp(p,On(b,1),[])}),Ha=ar||function(){return Mn.Date.now()};function ym(p,b){if(typeof b!="function")throw new Ii(o);return p=mt(p),function(){if(--p<1)return b.apply(this,arguments)}}function Bo(p,b,T){return b=T?n:b,b=p&&b==null?p.length:b,Mr(p,j,n,n,n,n,b)}function Or(p,b){var T;if(typeof b!="function")throw new Ii(o);return p=mt(p),function(){return--p>0&&(T=b.apply(this,arguments)),p<=1&&(b=n),T}}var Ba=vt(function(p,b,T){var N=_;if(T.length){var F=Co(T,Bi(Ba));N|=P}return Mr(p,N,b,T,F)}),Xb=vt(function(p,b,T){var N=_|R;if(T.length){var F=Co(T,Bi(Xb));N|=P}return Mr(b,N,p,T,F)});function wm(p,b,T){b=T?n:b;var N=Mr(p,k,n,n,n,n,n,b);return N.placeholder=wm.placeholder,N}function xm(p,b,T){b=T?n:b;var N=Mr(p,D,n,n,n,n,n,b);return N.placeholder=xm.placeholder,N}function Cm(p,b,T){var N,F,q,re,se,de,Te=0,Ae=!1,De=!1,Fe=!0;if(typeof p!="function")throw new Ii(o);b=ei(b)||0,gn(T)&&(Ae=!!T.leading,De="maxWait"in T,q=De?kt(ei(T.maxWait)||0,b):q,Fe="trailing"in T?!!T.trailing:Fe);function Ye(Vn){var no=N,Ua=F;return N=F=n,Te=Vn,re=p.apply(Ua,no),re}function it(Vn){return Te=Vn,se=ai(Dt,b),Ae?Ye(Vn):re}function St(Vn){var no=Vn-de,Ua=Vn-Te,MR=b-no;return De?ot(MR,q-Ua):MR}function rt(Vn){var no=Vn-de,Ua=Vn-Te;return de===n||no>=b||no<0||De&&Ua>=q}function Dt(){var Vn=Ha();if(rt(Vn))return zt(Vn);se=ai(Dt,St(Vn))}function zt(Vn){return se=n,Fe&&N?Ye(Vn):(N=F=n,re)}function Ir(){se!==n&&cc(se),Te=0,N=de=F=se=n}function Ki(){return se===n?re:zt(Ha())}function zr(){var Vn=Ha(),no=rt(Vn);if(N=arguments,F=this,de=Vn,no){if(se===n)return it(de);if(De)return cc(se),se=ai(Dt,b),Ye(de)}return se===n&&(se=ai(Dt,b)),re}return zr.cancel=Ir,zr.flush=Ki,zr}var Nx=vt(function(p,b){return Ep(p,1,b)}),Em=vt(function(p,b,T){return Ep(p,ei(b)||0,T)});function Kb(p){return Mr(p,W)}function Mc(p,b){if(typeof p!="function"||b!=null&&typeof b!="function")throw new Ii(o);var T=function(){var N=arguments,F=b?b.apply(this,N):N[0],q=T.cache;if(q.has(F))return q.get(F);var re=p.apply(this,N);return T.cache=q.set(F,re)||q,re};return T.cache=new(Mc.Cache||Bs),T}Mc.Cache=Bs;function Th(p){if(typeof p!="function")throw new Ii(o);return function(){var b=arguments;switch(b.length){case 0:return!p.call(this);case 1:return!p.call(this,b[0]);case 2:return!p.call(this,b[0],b[1]);case 3:return!p.call(this,b[0],b[1],b[2])}return!p.apply(this,b)}}function Sm(p){return Or(2,p)}var Rm=fb(function(p,b){b=b.length==1&&ut(b[0])?fn(b[0],Pi(Je())):fn(On(b,1),Pi(Je()));var T=b.length;return vt(function(N){for(var F=-1,q=ot(N.length,T);++F<q;)N[F]=b[F].call(this,N[F]);return Ri(p,this,N)})}),Tm=vt(function(p,b){var T=Co(b,Bi(Tm));return Mr(p,P,n,b,T)}),Jb=vt(function(p,b){var T=Co(b,Bi(Jb));return Mr(p,O,n,b,T)}),Dc=ps(function(p,b){return Mr(p,B,n,n,n,b)});function Lx(p,b){if(typeof p!="function")throw new Ii(o);return b=b===n?b:mt(b),vt(p,b)}function Zb(p,b){if(typeof p!="function")throw new Ii(o);return b=b==null?0:kt(mt(b),0),vt(function(T){var N=T[b],F=Gs(T,0,b);return N&&Ns(F,N),Ri(p,this,F)})}function Mt(p,b,T){var N=!0,F=!0;if(typeof p!="function")throw new Ii(o);return gn(T)&&(N="leading"in T?!!T.leading:N,F="trailing"in T?!!T.trailing:F),Cm(p,b,{leading:N,maxWait:b,trailing:F})}function _m(p){return Bo(p,1)}function _h(p,b){return Tm(Il(b),p)}function Am(){if(!arguments.length)return[];var p=arguments[0];return ut(p)?p:[p]}function Qb(p){return Ft(p,w)}function km(p,b){return b=typeof b=="function"?b:n,Ft(p,w,b)}function Nc(p){return Ft(p,m|w)}function Ah(p,b){return b=typeof b=="function"?b:n,Ft(p,m|w,b)}function Zl(p,b){return b==null||th(p,b,$n(b))}function fr(p,b){return p===b||p!==p&&b!==b}var Ox=Bl(rh),Px=Bl(function(p,b){return p>=b}),Uo=ib(function(){return arguments}())?ib:function(p){return _n(p)&&Wt.call(p,"callee")&&!mp.call(p,"callee")},ut=ge.isArray,kh=jd?Pi(jd):rb;function pt(p){return p!=null&&Dh(p.length)&&!Qs(p)}function xn(p){return _n(p)&&pt(p)}function Qn(p){return p===!0||p===!1||_n(p)&&si(p)==Ee}var $o=qv||i1,Mm=Av?Pi(Av):sb;function Dm(p){return _n(p)&&p.nodeType===1&&!ui(p)}function Mh(p){if(p==null)return!0;if(pt(p)&&(ut(p)||typeof p=="string"||typeof p.splice=="function"||$o(p)||jr(p)||Uo(p)))return!p.length;var b=Pn(p);if(b==ze||b==an)return!p.size;if(Rn(p))return!Do(p).length;for(var T in p)if(Wt.call(p,T))return!1;return!0}function ey(p,b){return Dl(p,b)}function ty(p,b,T){T=typeof T=="function"?T:n;var N=T?T(p,b):n;return N===n?Dl(p,b,n,T):!!N}function Lc(p){if(!_n(p))return!1;var b=si(p);return b==Ne||b==je||typeof p.message=="string"&&typeof p.name=="string"&&!ui(p)}function Nm(p){return typeof p=="number"&&Yd(p)}function Qs(p){if(!gn(p))return!1;var b=si(p);return b==ye||b==Oe||b==Ce||b==yt}function Lm(p){return typeof p=="number"&&p==mt(p)}function Dh(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=X}function gn(p){var b=typeof p;return p!=null&&(b=="object"||b=="function")}function _n(p){return p!=null&&typeof p=="object"}var ny=kv?Pi(kv):ob;function Om(p,b){return p===b||oh(p,b,vc(b))}function Pm(p,b,T){return T=typeof T=="function"?T:n,oh(p,b,vc(b),T)}function jx(p){return jm(p)&&p!=+p}function Ix(p){if(xb(p))throw new et(s);return _p(p)}function Pr(p){return p===null}function iy(p){return p==null}function jm(p){return typeof p=="number"||_n(p)&&si(p)==Qe}function ui(p){if(!_n(p)||si(p)!=bt)return!1;var b=Ca(p);if(b===null)return!0;var T=Wt.call(b,"constructor")&&b.constructor;return typeof T=="function"&&T instanceof T&&Ku.call(T)==Cl}var Nh=Mv?Pi(Mv):ab;function Lh(p){return Lm(p)&&p>=-9007199254740991&&p<=X}var ws=Dv?Pi(Dv):lb;function Oh(p){return typeof p=="string"||!ut(p)&&_n(p)&&si(p)==Xn}function Yi(p){return typeof p=="symbol"||_n(p)&&si(p)==ti}var jr=Nv?Pi(Nv):px;function ry(p){return p===n}function zx(p){return _n(p)&&Pn(p)==ni}function Fx(p){return _n(p)&&si(p)==we}var Hx=Bl(Nl),Bx=Bl(function(p,b){return p<=b});function sy(p){if(!p)return[];if(pt(p))return Oh(p)?rr(p):vi(p);if(os&&p[os])return Bv(p[os]());var b=Pn(p),T=b==ze?Vd:b==an?Wd:Xi;return T(p)}function eo(p){if(!p)return p===0?p:0;if(p=ei(p),p===J||p===-1/0){var b=p<0?-1:1;return b*K}return p===p?p:0}function mt(p){var b=eo(p),T=b%1;return b===b?T?b-T:b:0}function Im(p){return p?Da(mt(p),0,ee):0}function ei(p){if(typeof p=="number")return p;if(Yi(p))return L;if(gn(p)){var b=typeof p.valueOf=="function"?p.valueOf():p;p=gn(b)?b+"":b}if(typeof p!="string")return p===0?p:+p;p=Iv(p);var T=Ed.test(p);return T||Uu.test(p)?Jw(p.slice(2),T?2:8):qf.test(p)?L:+p}function Ql(p){return _r(p,wi(p))}function oy(p){return p?Da(mt(p),-9007199254740991,X):p===0?p:0}function qt(p){return p==null?"":Sn(p)}var eu=Oa(function(p,b){if(Rn(b)||pt(b)){_r(b,$n(b),p);return}for(var T in b)Wt.call(b,T)&&pn(p,T,b[T])}),tu=Oa(function(p,b){_r(b,wi(b),p)}),Oc=Oa(function(p,b,T,N){_r(b,wi(b),p,N)}),Ph=Oa(function(p,b,T,N){_r(b,$n(b),p,N)}),zm=ps(ko);function Fm(p,b){var T=Fs(p);return b==null?T:Ao(T,b)}var jh=vt(function(p,b){p=Jt(p);var T=-1,N=b.length,F=N>2?b[2]:n;for(F&&Zn(b[0],b[1],F)&&(N=1);++T<N;)for(var q=b[T],re=wi(q),se=-1,de=re.length;++se<de;){var Te=re[se],Ae=p[Te];(Ae===n||fr(Ae,xl[Te])&&!Wt.call(p,Te))&&(p[Te]=q[Te])}return p}),ay=vt(function(p){return p.push(n,Ul),Ri(Ic,n,p)});function ly(p,b){return Ov(p,Je(b,3),dr)}function Ux(p,b){return Ov(p,Je(b,3),Tr)}function uy(p,b){return p==null?p:Na(p,Je(b,3),wi)}function Pc(p,b){return p==null?p:rc(p,Je(b,3),wi)}function $x(p,b){return p&&dr(p,Je(b,3))}function Vx(p,b){return p&&Tr(p,Je(b,3))}function Wx(p){return p==null?[]:La(p,$n(p))}function Ih(p){return p==null?[]:La(p,wi(p))}function nu(p,b,T){var N=p==null?n:$s(p,b);return N===n?T:N}function Hm(p,b){return p!=null&&Kp(p,b,eb)}function Bm(p,b){return p!=null&&Kp(p,b,tb)}var jc=ph(function(p,b,T){b!=null&&typeof b.toString!="function"&&(b=pi.call(b)),p[b]=T},Ue(Bt)),Gx=ph(function(p,b,T){b!=null&&typeof b.toString!="function"&&(b=pi.call(b)),Wt.call(p,b)?p[b].push(T):p[b]=[T]},Je),cy=vt(Ml);function $n(p){return pt(p)?ic(p):Do(p)}function wi(p){return pt(p)?ic(p,!0):ub(p)}function dy(p,b){var T={};return b=Je(b,3),dr(p,function(N,F,q){Fi(T,b(N,F,q),N)}),T}function Um(p,b){var T={};return b=Je(b,3),dr(p,function(N,F,q){Fi(T,F,b(N,F,q))}),T}var hy=Oa(function(p,b,T){oc(p,b,T)}),Ic=Oa(function(p,b,T,N){oc(p,b,T,N)}),qx=ps(function(p,b){var T={};if(p==null)return T;var N=!1;b=fn(b,function(q){return q=Ws(q,p),N||(N=q.length>1),q}),_r(p,mc(p),T),N&&(T=Ft(T,m|v|w,gh));for(var F=b.length;F--;)hs(T,b[F]);return T});function Yx(p,b){return zh(p,Th(Je(b)))}var $m=ps(function(p,b){return p==null?{}:Np(p,b)});function zh(p,b){if(p==null)return{};var T=fn(mc(p),function(N){return[N]});return b=Je(b),Lp(p,T,function(N,F){return b(N,F[0])})}function Fh(p,b,T){b=Ws(b,p);var N=-1,F=b.length;for(F||(F=1,p=n);++N<F;){var q=p==null?n:p[bi(b[N])];q===n&&(N=F,q=T),p=Qs(q)?q.call(p):q}return p}function Vm(p,b,T){return p==null?p:Ll(p,b,T)}function fy(p,b,T,N){return N=typeof N=="function"?N:n,p==null?p:Ll(p,b,T,N)}var Hh=fs($n),to=fs(wi);function Vo(p,b,T){var N=ut(p),F=N||$o(p)||jr(p);if(b=Je(b,4),T==null){var q=p&&p.constructor;F?T=N?new q:[]:gn(p)?T=Qs(q)?Fs(Ca(p)):{}:T={}}return(F?ir:dr)(p,function(re,se,de){return b(T,re,se,de)}),T}function Wo(p,b){return p==null?!0:hs(p,b)}function zc(p,b,T){return p==null?p:No(p,b,Il(T))}function Fc(p,b,T,N){return N=typeof N=="function"?N:n,p==null?p:No(p,b,Il(T),N)}function Xi(p){return p==null?[]:Ud(p,$n(p))}function Xx(p){return p==null?[]:Ud(p,wi(p))}function py(p,b,T){return T===n&&(T=b,b=n),T!==n&&(T=ei(T),T=T===T?T:0),b!==n&&(b=ei(b),b=b===b?b:0),Da(ei(p),b,T)}function Hc(p,b,T){return b=eo(b),T===n?(T=b,b=0):T=eo(T),p=ei(p),nb(p,b,T)}function Kx(p,b,T){if(T&&typeof T!="boolean"&&Zn(p,b,T)&&(b=T=n),T===n&&(typeof b=="boolean"?(T=b,b=n):typeof p=="boolean"&&(T=p,p=n)),p===n&&b===n?(p=0,b=1):(p=eo(p),b===n?(b=p,p=0):b=eo(b)),p>b){var N=p;p=b,b=N}if(T||p%1||b%1){var F=Xd();return ot(p+F*(b-p+Yu("1e-"+((F+"").length-1))),b)}return lh(p,b)}var my=Lo(function(p,b,T){return b=b.toLowerCase(),p+(T?Bc(b):b)});function Bc(p){return at(qt(p).toLowerCase())}function Wm(p){return p=qt(p),p&&p.replace(go,$d).replace(Wu,"")}function Jx(p,b,T){p=qt(p),b=Sn(b);var N=p.length;T=T===n?N:Da(mt(T),0,N);var F=T;return T-=b.length,T>=0&&p.slice(T,F)==b}function Bh(p){return p=qt(p),p&&Rs.test(p)?p.replace(es,zv):p}function Uh(p){return p=qt(p),p&&yd.test(p)?p.replace(Bu,"\\$&"):p}var gy=Lo(function(p,b,T){return p+(T?"-":"")+b.toLowerCase()}),Uc=Lo(function(p,b,T){return p+(T?" ":"")+b.toLowerCase()}),Gm=dh("toLowerCase");function $h(p,b,T){p=qt(p),b=mt(b);var N=b?rs(p):0;if(!b||N>=b)return p;var F=(b-N)/2;return Hl(ur(F),T)+p+Hl(lr(F),T)}function vy(p,b,T){p=qt(p),b=mt(b);var N=b?rs(p):0;return b&&N<b?p+Hl(b-N,T):p}function Zx(p,b,T){p=qt(p),b=mt(b);var N=b?rs(p):0;return b&&N<b?Hl(b-N,T)+p:p}function Vh(p,b,T){return T||b==null?b=0:b&&(b=+b),ls(qt(p).replace(dl,""),b||0)}function a(p,b,T){return(T?Zn(p,b,T):b===n)?b=1:b=mt(b),lc(qt(p),b)}function u(){var p=arguments,b=qt(p[0]);return p.length<3?b:b.replace(p[1],p[2])}var h=Lo(function(p,b,T){return p+(T?"_":"")+b.toLowerCase()});function y(p,b,T){return T&&typeof T!="number"&&Zn(p,b,T)&&(b=T=n),T=T===n?ee:T>>>0,T?(p=qt(p),p&&(typeof b=="string"||b!=null&&!Nh(b))&&(b=Sn(b),!b&&xo(p))?Gs(rr(p),0,T):p.split(b,T)):[]}var E=Lo(function(p,b,T){return p+(T?" ":"")+at(b)});function A(p,b,T){return p=qt(p),T=T==null?0:Da(mt(T),0,p.length),b=Sn(b),p.slice(T,T+b.length)==b}function I(p,b,T){var N=$.templateSettings;T&&Zn(p,b,T)&&(b=n),p=qt(p),b=Oc({},b,N,mh);var F=Oc({},b.imports,N.imports,mh),q=$n(F),re=Ud(F,q),se,de,Te=0,Ae=b.interpolate||wr,De="__p += '",Fe=Ls((b.escape||wr).source+"|"+Ae.source+"|"+(Ae===Fu?hl:wr).source+"|"+(b.evaluate||wr).source+"|$","g"),Ye="//# sourceURL="+(Wt.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rv+"]")+`
`;p.replace(Fe,function(rt,Dt,zt,Ir,Ki,zr){return zt||(zt=Ir),De+=p.slice(Te,zr).replace(vo,Fv),Dt&&(se=!0,De+=`' +
__e(`+Dt+`) +
'`),Ki&&(de=!0,De+=`';
`+Ki+`;
__p += '`),zt&&(De+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),Te=zr+rt.length,rt}),De+=`';
`;var it=Wt.call(b,"variable")&&b.variable;if(!it)De=`with (obj) {
`+De+`
}
`;else if(ii.test(it))throw new et(l);De=(de?De.replace(hi,""):De).replace(cl,"$1").replace(Iu,"$1;"),De="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var St=he(function(){return At(q,Ye+"return "+De).apply(n,re)});if(St.source=De,Lc(St))throw St;return St}function G(p){return qt(p).toLowerCase()}function ie(p){return qt(p).toUpperCase()}function le(p,b,T){if(p=qt(p),p&&(T||b===n))return Iv(p);if(!p||!(b=Sn(b)))return p;var N=rr(p),F=rr(b),q=yl(N,F),re=wl(N,F)+1;return Gs(N,q,re).join("")}function Re(p,b,T){if(p=qt(p),p&&(T||b===n))return p.slice(0,dp(p)+1);if(!p||!(b=Sn(b)))return p;var N=rr(p),F=wl(N,rr(b))+1;return Gs(N,0,F).join("")}function Me(p,b,T){if(p=qt(p),p&&(T||b===n))return p.replace(dl,"");if(!p||!(b=Sn(b)))return p;var N=rr(p),F=yl(N,rr(b));return Gs(N,F).join("")}function me(p,b){var T=z,N=Q;if(gn(b)){var F="separator"in b?b.separator:F;T="length"in b?mt(b.length):T,N="omission"in b?Sn(b.omission):N}p=qt(p);var q=p.length;if(xo(p)){var re=rr(p);q=re.length}if(T>=q)return p;var se=T-rs(N);if(se<1)return N;var de=re?Gs(re,0,se).join(""):p.slice(0,se);if(F===n)return de+N;if(re&&(se+=de.length-se),Nh(F)){if(p.slice(se).search(F)){var Te,Ae=de;for(F.global||(F=Ls(F.source,qt(Cd.exec(F))+"g")),F.lastIndex=0;Te=F.exec(Ae);)var De=Te.index;de=de.slice(0,De===n?se:De)}}else if(p.indexOf(Sn(F),se)!=se){var Fe=de.lastIndexOf(F);Fe>-1&&(de=de.slice(0,Fe))}return de+N}function Se(p){return p=qt(p),p&&Qi.test(p)?p.replace(Qr,$v):p}var qe=Lo(function(p,b,T){return p+(T?" ":"")+b.toUpperCase()}),at=dh("toUpperCase");function Cn(p,b,T){return p=qt(p),b=T?n:b,b===n?Hv(p)?lx(p):ix(p):p.match(b)||[]}var he=vt(function(p,b){try{return Ri(p,n,b)}catch(T){return Lc(T)?T:new et(T)}}),ae=ps(function(p,b){return ir(b,function(T){T=bi(T),Fi(p,T,Ba(p[T],p))}),p});function pe(p){var b=p==null?0:p.length,T=Je();return p=b?fn(p,function(N){if(typeof N[1]!="function")throw new Ii(o);return[T(N[0]),N[1]]}):[],vt(function(N){for(var F=-1;++F<b;){var q=p[F];if(Ri(q[0],this,N))return Ri(q[1],this,N)}})}function _e(p){return Cp(Ft(p,m))}function Ue(p){return function(){return p}}function Et(p,b){return p==null||p!==p?b:p}var Ke=fh(),tt=fh(!0);function Bt(p){return p}function Ot(p){return Ap(typeof p=="function"?p:Ft(p,m))}function Go(p){return kp(Ft(p,m))}function Qx(p,b){return ah(p,Ft(b,m))}var sI=vt(function(p,b){return function(T){return Ml(T,p,b)}}),oI=vt(function(p,b){return function(T){return Ml(p,T,b)}});function e1(p,b,T){var N=$n(b),F=La(b,N);T==null&&!(gn(b)&&(F.length||!N.length))&&(T=b,b=p,p=this,F=La(b,$n(b)));var q=!(gn(T)&&"chain"in T)||!!T.chain,re=Qs(p);return ir(F,function(se){var de=b[se];p[se]=de,re&&(p.prototype[se]=function(){var Te=this.__chain__;if(q||Te){var Ae=p(this.__wrapped__),De=Ae.__actions__=vi(this.__actions__);return De.push({func:de,args:arguments,thisArg:p}),Ae.__chain__=Te,Ae}return de.apply(p,Ns([this.value()],arguments))})}),p}function aI(){return Mn._===this&&(Mn._=fp),this}function t1(){}function lI(p){return p=mt(p),vt(function(b){return Mp(b,p)})}var uI=Ar(fn),cI=Ar(Lv),dI=Ar(ap);function kR(p){return Vl(p)?Fd(bi(p)):db(p)}function hI(p){return function(b){return p==null?n:$s(p,b)}}var fI=Yp(),pI=Yp(!0);function n1(){return[]}function i1(){return!1}function mI(){return{}}function gI(){return""}function vI(){return!0}function bI(p,b){if(p=mt(p),p<1||p>X)return[];var T=ee,N=ot(p,ee);b=Je(b),p-=ee;for(var F=wo(N,b);++T<p;)b(T);return F}function yI(p){return ut(p)?fn(p,bi):Yi(p)?[p]:vi(vs(qt(p)))}function wI(p){var b=++Gv;return qt(p)+b}var xI=pc(function(p,b){return p+b},0),CI=kr("ceil"),EI=pc(function(p,b){return p/b},1),SI=kr("floor");function RI(p){return p&&p.length?kl(p,Bt,rh):n}function TI(p,b){return p&&p.length?kl(p,Je(b,2),rh):n}function _I(p){return Pv(p,Bt)}function AI(p,b){return Pv(p,Je(b,2))}function kI(p){return p&&p.length?kl(p,Bt,Nl):n}function MI(p,b){return p&&p.length?kl(p,Je(b,2),Nl):n}var DI=pc(function(p,b){return p*b},1),NI=kr("round"),LI=pc(function(p,b){return p-b},0);function OI(p){return p&&p.length?Bd(p,Bt):0}function PI(p,b){return p&&p.length?Bd(p,Je(b,2)):0}return $.after=ym,$.ary=Bo,$.assign=eu,$.assignIn=tu,$.assignInWith=Oc,$.assignWith=Ph,$.at=zm,$.before=Or,$.bind=Ba,$.bindAll=ae,$.bindKey=Xb,$.castArray=Am,$.chain=li,$.chunk=zo,$.compact=Tb,$.concat=Wl,$.cond=pe,$.conforms=_e,$.constant=Ue,$.countBy=Bb,$.create=Fm,$.curry=wm,$.curryRight=xm,$.debounce=Cm,$.defaults=jh,$.defaultsDeep=ay,$.defer=Nx,$.delay=Em,$.difference=wc,$.differenceBy=xc,$.differenceWith=Gl,$.drop=_b,$.dropRight=Ab,$.dropRightWhile=Cc,$.dropWhile=kb,$.fill=xh,$.filter=gm,$.flatMap=Tx,$.flatMapDeep=Ub,$.flatMapDepth=$b,$.flatten=Wi,$.flattenDeep=rm,$.flattenDepth=Fo,$.flip=Kb,$.flow=Ke,$.flowRight=tt,$.fromPairs=Db,$.functions=Wx,$.functionsIn=Ih,$.groupBy=Vb,$.initial=Nb,$.intersection=sm,$.intersectionBy=om,$.intersectionWith=Ys,$.invert=jc,$.invertBy=Gx,$.invokeMap=_x,$.iteratee=Ot,$.keyBy=Gb,$.keys=$n,$.keysIn=wi,$.map=Zs,$.mapKeys=dy,$.mapValues=Um,$.matches=Go,$.matchesProperty=Qx,$.memoize=Mc,$.merge=hy,$.mergeWith=Ic,$.method=sI,$.methodOf=oI,$.mixin=e1,$.negate=Th,$.nthArg=lI,$.omit=qx,$.omitBy=Yx,$.once=Sm,$.orderBy=qb,$.over=uI,$.overArgs=Rm,$.overEvery=cI,$.overSome=dI,$.partial=Tm,$.partialRight=Jb,$.partition=nn,$.pick=$m,$.pickBy=zh,$.property=kR,$.propertyOf=hI,$.pull=wx,$.pullAll=Ob,$.pullAllBy=Pb,$.pullAllWith=xx,$.pullAt=Cx,$.range=fI,$.rangeRight=pI,$.rearg=Dc,$.reject=Yb,$.remove=wn,$.rest=Lx,$.reverse=Zt,$.sampleSize=Mx,$.set=Vm,$.setWith=fy,$.shuffle=Dx,$.slice=Tt,$.sortBy=bm,$.sortedUniq=Ks,$.sortedUniqBy=Tn,$.split=y,$.spread=Zb,$.tail=Ho,$.take=Ia,$.takeRight=lm,$.takeRightWhile=hr,$.takeWhile=Yl,$.tap=Ib,$.throttle=Mt,$.thru=Xl,$.toArray=sy,$.toPairs=Hh,$.toPairsIn=to,$.toPath=yI,$.toPlainObject=Ql,$.transform=Vo,$.unary=_m,$.union=Rc,$.unionBy=bs,$.unionWith=um,$.uniq=cm,$.uniqBy=Ch,$.uniqWith=Eh,$.unset=Wo,$.unzip=ys,$.unzipWith=Tc,$.update=zc,$.updateWith=Fc,$.values=Xi,$.valuesIn=Xx,$.without=za,$.words=Cn,$.wrap=_h,$.xor=_c,$.xorBy=dm,$.xorWith=hm,$.zip=Ac,$.zipObject=fm,$.zipObjectDeep=qi,$.zipWith=jb,$.entries=Hh,$.entriesIn=to,$.extend=tu,$.extendWith=Oc,e1($,$),$.add=xI,$.attempt=he,$.camelCase=my,$.capitalize=Bc,$.ceil=CI,$.clamp=py,$.clone=Qb,$.cloneDeep=Nc,$.cloneDeepWith=Ah,$.cloneWith=km,$.conformsTo=Zl,$.deburr=Wm,$.defaultTo=Et,$.divide=EI,$.endsWith=Jx,$.eq=fr,$.escape=Bh,$.escapeRegExp=Uh,$.every=mm,$.find=Sx,$.findIndex=im,$.findKey=ly,$.findLast=Rx,$.findLastIndex=Mb,$.findLastKey=Ux,$.floor=SI,$.forEach=Fa,$.forEachRight=kc,$.forIn=uy,$.forInRight=Pc,$.forOwn=$x,$.forOwnRight=Vx,$.get=nu,$.gt=Ox,$.gte=Px,$.has=Hm,$.hasIn=Bm,$.head=Ec,$.identity=Bt,$.includes=Wb,$.indexOf=ja,$.inRange=Hc,$.invoke=cy,$.isArguments=Uo,$.isArray=ut,$.isArrayBuffer=kh,$.isArrayLike=pt,$.isArrayLikeObject=xn,$.isBoolean=Qn,$.isBuffer=$o,$.isDate=Mm,$.isElement=Dm,$.isEmpty=Mh,$.isEqual=ey,$.isEqualWith=ty,$.isError=Lc,$.isFinite=Nm,$.isFunction=Qs,$.isInteger=Lm,$.isLength=Dh,$.isMap=ny,$.isMatch=Om,$.isMatchWith=Pm,$.isNaN=jx,$.isNative=Ix,$.isNil=iy,$.isNull=Pr,$.isNumber=jm,$.isObject=gn,$.isObjectLike=_n,$.isPlainObject=ui,$.isRegExp=Nh,$.isSafeInteger=Lh,$.isSet=ws,$.isString=Oh,$.isSymbol=Yi,$.isTypedArray=jr,$.isUndefined=ry,$.isWeakMap=zx,$.isWeakSet=Fx,$.join=Lb,$.kebabCase=gy,$.last=yi,$.lastIndexOf=Sc,$.lowerCase=Uc,$.lowerFirst=Gm,$.lt=Hx,$.lte=Bx,$.max=RI,$.maxBy=TI,$.mean=_I,$.meanBy=AI,$.min=kI,$.minBy=MI,$.stubArray=n1,$.stubFalse=i1,$.stubObject=mI,$.stubString=gI,$.stubTrue=vI,$.multiply=DI,$.nth=yn,$.noConflict=aI,$.noop=t1,$.now=Ha,$.pad=$h,$.padEnd=vy,$.padStart=Zx,$.parseInt=Vh,$.random=Kx,$.reduce=vm,$.reduceRight=Ax,$.repeat=a,$.replace=u,$.result=Fh,$.round=NI,$.runInContext=ce,$.sample=kx,$.size=Rh,$.snakeCase=h,$.some=Jl,$.sortedIndex=Lt,$.sortedIndexBy=sn,$.sortedIndexOf=Gi,$.sortedLastIndex=Xs,$.sortedLastIndexBy=ql,$.sortedLastIndexOf=am,$.startCase=E,$.startsWith=A,$.subtract=LI,$.sum=OI,$.sumBy=PI,$.template=I,$.times=bI,$.toFinite=eo,$.toInteger=mt,$.toLength=Im,$.toLower=G,$.toNumber=ei,$.toSafeInteger=oy,$.toString=qt,$.toUpper=ie,$.trim=le,$.trimEnd=Re,$.trimStart=Me,$.truncate=me,$.unescape=Se,$.uniqueId=wI,$.upperCase=qe,$.upperFirst=at,$.each=Fa,$.eachRight=kc,$.first=Ec,e1($,function(){var p={};return dr($,function(b,T){Wt.call($.prototype,T)||(p[T]=b)}),p}(),{chain:!1}),$.VERSION=i,ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){$[p].placeholder=$}),ir(["drop","take"],function(p,b){dt.prototype[p]=function(T){T=T===n?1:kt(mt(T),0);var N=this.__filtered__&&!b?new dt(this):this.clone();return N.__filtered__?N.__takeCount__=ot(T,N.__takeCount__):N.__views__.push({size:ot(T,ee),type:p+(N.__dir__<0?"Right":"")}),N},dt.prototype[p+"Right"]=function(T){return this.reverse()[p](T).reverse()}}),ir(["filter","map","takeWhile"],function(p,b){var T=b+1,N=T==H||T==U;dt.prototype[p]=function(F){var q=this.clone();return q.__iteratees__.push({iteratee:Je(F,3),type:T}),q.__filtered__=q.__filtered__||N,q}}),ir(["head","last"],function(p,b){var T="take"+(b?"Right":"");dt.prototype[p]=function(){return this[T](1).value()[0]}}),ir(["initial","tail"],function(p,b){var T="drop"+(b?"":"Right");dt.prototype[p]=function(){return this.__filtered__?new dt(this):this[T](1)}}),dt.prototype.compact=function(){return this.filter(Bt)},dt.prototype.find=function(p){return this.filter(p).head()},dt.prototype.findLast=function(p){return this.reverse().find(p)},dt.prototype.invokeMap=vt(function(p,b){return typeof p=="function"?new dt(this):this.map(function(T){return Ml(T,p,b)})}),dt.prototype.reject=function(p){return this.filter(Th(Je(p)))},dt.prototype.slice=function(p,b){p=mt(p);var T=this;return T.__filtered__&&(p>0||b<0)?new dt(T):(p<0?T=T.takeRight(-p):p&&(T=T.drop(p)),b!==n&&(b=mt(b),T=b<0?T.dropRight(-b):T.take(b-p)),T)},dt.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},dt.prototype.toArray=function(){return this.take(ee)},dr(dt.prototype,function(p,b){var T=/^(?:filter|find|map|reject)|While$/.test(b),N=/^(?:head|last)$/.test(b),F=$[N?"take"+(b=="last"?"Right":""):b],q=N||/^find/.test(b);F&&($.prototype[b]=function(){var re=this.__wrapped__,se=N?[1]:arguments,de=re instanceof dt,Te=se[0],Ae=de||ut(re),De=function(Dt){var zt=F.apply($,Ns([Dt],se));return N&&Fe?zt[0]:zt};Ae&&T&&typeof Te=="function"&&Te.length!=1&&(de=Ae=!1);var Fe=this.__chain__,Ye=!!this.__actions__.length,it=q&&!Fe,St=de&&!Ye;if(!q&&Ae){re=St?re:new dt(this);var rt=p.apply(re,se);return rt.__actions__.push({func:Xl,args:[De],thisArg:n}),new zi(rt,Fe)}return it&&St?p.apply(this,se):(rt=this.thru(De),it?N?rt.value()[0]:rt.value():rt)})}),ir(["pop","push","shift","sort","splice","unshift"],function(p){var b=Xu[p],T=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",N=/^(?:pop|shift)$/.test(p);$.prototype[p]=function(){var F=arguments;if(N&&!this.__chain__){var q=this.value();return b.apply(ut(q)?q:[],F)}return this[T](function(re){return b.apply(ut(re)?re:[],F)})}}),dr(dt.prototype,function(p,b){var T=$[b];if(T){var N=T.name+"";Wt.call(Eo,N)||(Eo[N]=[]),Eo[N].push({name:b,func:T})}}),Eo[fc(n,R).name]=[{name:"wrapper",func:n}],dt.prototype.clone=Jv,dt.prototype.reverse=Sl,dt.prototype.value=Zd,$.prototype.at=zb,$.prototype.chain=Ex,$.prototype.commit=Js,$.prototype.next=Sh,$.prototype.plant=Kl,$.prototype.reverse=Fb,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=Hb,$.prototype.first=$.prototype.head,os&&($.prototype[os]=pm),$},Cr=ux();yo?((yo.exports=Cr)._=Cr,ml._=Cr):Mn._=Cr}).call(qX)}(rg,rg.exports)),rg.exports}var TL=YX();const LS=(t,e,n)=>{const i=t.getData().length===0,s=(e.length/4-1)*4,o=TL.chunk(e,4).map((d,f)=>{const m=f*4;return{address:Yr(m).toUpperCase(),value0:d[0]||"00000000",value1:d[1]||"00000000",value2:d[2]||"00000000",value3:d[3]||"00000000",hex:d.slice().reverse().map(w=>en(w||"00000000").toUpperCase().padStart(2,"0")).join("-"),info:""}});t.setData(o);const l=Yr(0).toUpperCase(),c=t.getRow(l);if(c?c.update({info:'<span class="text-white text-[0.7rem] bg-[#3A6973] p-[.4rem] rounded-md text-center">Heap</span>'}):t.addRow({address:l,value0:"00000000",value1:"00000000",value2:"00000000",value3:"00000000",info:'<span class="text-white text-[0.7rem] bg-[#3A6973] p-[.4rem] rounded-md text-center">Heap</span>',hex:"00-00-00-00",segment:""}),t.getRows().forEach(d=>{d.getData().info||(d.getCell("info").getElement().innerHTML='<div style="opacity:0"> </div>')}),!i){const d=t.getRows().filter(f=>parseInt(f.getData().address,16)>s&&!f.getData().info);d.length&&t.deleteRow(d.map(f=>f.getData().address))}n==null||n()},XX=(t,e,n,i,r)=>{const s=TL.chunk(e,4).map((o,l)=>{const c=l*4,d=Yr(c).toUpperCase();let f="";return c<n?f="program":f="constants",{address:d,value0:o[0]||"00000000",value1:o[1]||"00000000",value2:o[2]||"00000000",value3:o[3]||"00000000",hex:o.slice().reverse().map(m=>en(m||"00000000").toUpperCase().padStart(2,"0")).join("-"),info:"",segment:f}});t.setData(s),Object.values(i).forEach(o=>{const l=Yr(o.memdef).toUpperCase(),c=t.getRow(l);c?c.update({info:`<span class="text-white text-[0.7rem] bg-[#3A6973] p-[.4rem] rounded-md text-center">${o.name}</span>`}):t.addRow({address:l,value0:"00000000",value1:"00000000",value2:"00000000",value3:"00000000",info:`<span class="text-white text-[0.7rem] bg-[#3A6973] p-[.4rem] rounded-md text-center">${o.name}</span>`,hex:"00-00-00-00",segment:""})}),t.getRows().forEach(o=>{o.getData().info||(o.getCell("info").getElement().innerHTML='<div style="opacity:0"> </div>')}),r==null||r()},_L=()=>{const t=document.createElement("span");return t.className="pc-icon",t.style.position="absolute",t.style.top="51%",t.style.right="5px",t.style.transform="translateY(-50%)",t.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"
                           fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                           class="lucide lucide-locate">
                           <line x1="2" x2="5" y1="12" y2="12"></line>
                           <line x1="19" x2="22" y1="12" y2="12"></line>
                           <line x1="12" x2="12" y1="2" y2="5"></line>
                           <line x1="12" x2="12" y1="19" y2="22"></line>
                           <circle cx="12" cy="12" r="7"></circle>
                         </svg>`,t},AL=(t,e)=>{var l,c;const n=(t*4).toString(16).toUpperCase();(l=e.current)==null||l.getRows().forEach(d=>{const f=d.getCell("address");if(f){const m=f.getElement(),v=f.getValue();for(;m.firstChild;)m.removeChild(m.firstChild);const w=document.createElement("span");w.className="address-value",w.innerText=v,m.appendChild(w)}});const i=((c=e.current)==null?void 0:c.searchRows("address","=",n))||[];if(i.length===0)return;const r=i[0].getCell("address");if(!r)return;const s=r.getElement();s.style.position="relative";const o=_L();s.appendChild(o),s.classList.add("animate-pc"),s.offsetWidth,setTimeout(()=>s.classList.remove("animate-pc"),300)},KX=(t,e,n)=>{if(n&&e.current){const r=e.current.getRow(n.toUpperCase());r&&r.update({info:""})}const i=Yr(t).toUpperCase();if(e.current){const r=e.current.getRow(i);r&&r.update({info:'<span class="text-white text-[0.7rem] bg-[#3A6973] p-[.4rem] rounded-md text-center">SP</span>'})}return i},JX=t=>{const e=t.getData(),i=["value3","value2","value1","value0"].map(r=>{const s=e[r]!==void 0?String(e[r]):"0";return parseInt(s,2).toString(16).padStart(2,"0")}).join("-");t.update({hex:i})},OS=t=>{t.on("cellEdited",e=>{e.getField().startsWith("value")&&JX(e.getRow())})};function ZX(t,e){var r,s;const n=t.trim().toLowerCase(),i=["address","value3","value2","value1","value0","hex"];if(n===""){(r=e.current)==null||r.clearFilter(!0);return}(s=e.current)==null||s.setFilter(o=>i.some(l=>{const c=o[l];return c!==void 0&&c.toString().toLowerCase().includes(n)}))}const QX=(t,e,n,i,r)=>{if(!t)return;const o=(e-e%4).toString(16).toUpperCase(),l=t.getRow(o);if(!l)return;const c=l.getElement(),d=c.querySelector('div[tabulator-field="value0"]'),f=c.querySelector('div[tabulator-field="value1"]'),m=c.querySelector('div[tabulator-field="value2"]'),v=c.querySelector('div[tabulator-field="value3"]'),w={},C=(R,M,k)=>{R&&(R.innerHTML=`<b>${M}</b>`,w[k]=M)};if(n===1){const R=i.substring(24,32);C(d,R,"value0")}else if(n===2){const R=i.substring(16,32);C(f,R.substring(0,8),"value1"),C(d,R.substring(8,16),"value0")}else n===4&&(C(v,i.substring(0,8),"value3"),C(m,i.substring(8,16),"value2"),C(f,i.substring(16,24),"value1"),C(d,i.substring(24,32),"value0"));l.update(w);const S=l.getData(),_=["value3","value2","value1","value0"].map(R=>{const M=S[R];return parseInt(M,2).toString(16).padStart(2,"0")});l.update({hex:_.join("-").toUpperCase()}),kL(t,e,n,!1,r)},kL=(t,e,n,i,r)=>{const s=e.toString(16).toUpperCase(),o=t.getRow(s);if(!o)return;const l=o.getElement(),c=Array.from(l.querySelectorAll('div[tabulator-field^="value"]')),d=n===4?c:c.slice(-n);d.forEach(f=>{i?f.classList.add("animate-cell"):r==="light"?f.classList.add("animate-cell","written-cell"):f.classList.add("animate-cell","written-cell-dark")}),setTimeout(()=>{d.forEach(f=>f.classList.remove("animate-cell"))},500),t.scrollToRow(s,"center",!0)},eK=(t,e)=>{const n=e.toString(16).toUpperCase(),i=t.getRow(n);if(!i)return;const r=i.getElement();r.classList.add("animate-row"),setTimeout(()=>{r.classList.remove("animate-row")},500),t.scrollToRow(n,"top",!0)};function ML(t,e,n){var z,Q;const i=Yr(e).toUpperCase(),r=Yr(n).toUpperCase(),s=t.getRow(i),o=t.getRow(r);if(!s||!o)return;const l=(z=s.getCell("address"))==null?void 0:z.getElement(),c=(Q=o.getCell("address"))==null?void 0:Q.getElement();if(!l||!c)return;const d=l.getBoundingClientRect(),f=c.getBoundingClientRect(),m=d.left+d.width/2,v=d.top+d.height/2,w=f.left+f.width/2,C=f.top+f.height/2,S=w-m,_=C-v,R=Math.sqrt(S*S+_*_),M=Math.atan2(_,S)*(180/Math.PI),k="http://www.w3.org/2000/svg",D=document.createElement("div"),P=document.createElementNS(k,"svg"),O=document.createElementNS(k,"path"),j=document.createElementNS(k,"defs"),B=document.createElementNS(k,"marker");D.style.position="absolute",D.style.left=`${m+12}px`,D.style.top=`${v}px`,D.style.transformOrigin="0 0",D.style.transform=`rotate(${M}deg)`,M===-90?D.style.transform=`rotate(${M}deg) scaleY(-1)`:D.style.transform=`rotate(${M}deg)`,D.style.pointerEvents="none",D.style.zIndex="1000",P.setAttribute("width",`${R+50}px`),P.setAttribute("height","24px"),P.style.overflow="visible",B.setAttribute("id","arrowhead"),B.setAttribute("viewBox","0 0 32 32"),B.setAttribute("refX","22"),B.setAttribute("refY","10"),B.setAttribute("markerWidth","16"),B.setAttribute("markerHeight","40"),B.setAttribute("orient","180");const W=document.createElementNS(k,"path");W.setAttribute("d","M6.4569 9.73276C6.17123 10.0327 6.18281 10.5074 6.48276 10.7931C6.78271 11.0788 7.25744 11.0672 7.5431 10.7672L6.4569 9.73276ZM12.5431 5.51724C12.8288 5.21729 12.8172 4.74256 12.5172 4.4569C12.2173 4.17123 11.7426 4.18281 11.4569 4.48276L12.5431 5.51724ZM12.5431 4.48276C12.2574 4.18281 11.7827 4.17123 11.4828 4.4569C11.1828 4.74256 11.1712 5.21729 11.4569 5.51724L12.5431 4.48276ZM16.4569 10.7672C16.7426 11.0672 17.2173 11.0788 17.5172 10.7931C17.8172 10.5074 17.8288 10.0327 17.5431 9.73276L16.4569 10.7672ZM12.75 5C12.75 4.58579 12.4142 4.25 12 4.25C11.5858 4.25 11.25 4.58579 11.25 5H12.75ZM11.25 19C11.25 19.4142 11.5858 19.75 12 19.75C12.4142 19.75 12.75 19.4142 12.75 19H11.25ZM7.5431 10.7672L12.5431 5.51724L11.4569 4.48276L6.4569 9.73276L7.5431 10.7672ZM11.4569 5.51724L16.4569 10.7672L17.5431 9.73276L12.5431 4.48276L11.4569 5.51724ZM11.25 5V19H12.75V5H11.25Z"),W.setAttribute("fill","#3A6973"),W.setAttribute("transform","translate(10, -9)"),B.appendChild(W),j.appendChild(B),O.setAttribute("d",`M0,6 L${R},6`),O.setAttribute("stroke","#3A6973"),O.setAttribute("stroke-width","1.8"),O.setAttribute("fill","none"),O.setAttribute("marker-end","url(#arrowhead)"),P.appendChild(j),P.appendChild(O),D.appendChild(P),document.body.appendChild(D),setTimeout(()=>{D.remove()},500)}const tK=({tableContainerRef:t,tableInstanceRef:e,isCreatedMemoryTable:n,setIsCreatedMemoryTable:i,dataMemoryTable:r,isFirstStepRef:s,setSp:o})=>{x.useEffect(()=>{!t.current||n||(e.current&&(e.current.destroy(),e.current=null),e.current=new av(t.current,{layout:"fitColumns",index:"address",data:[],columns:nL(s),rowFormatter:function(l){const c=l.getData();if(!r)return;const d=Yr(r.memory.length-4).toUpperCase();if(c.address===d)return;const f=l.getElement();f.style.backgroundColor="",f.style.color=""},initialSort:[{column:"address",dir:"desc"}]}),e.current.on("tableBuilt",()=>{i(!0),r&&LS(e.current,r.memory,()=>{o(Yr(r.memory.length-4))}),OS(e.current)}),e.current.on("cellEdited",l=>{var c;l.getField().startsWith("value")&&vr({event:"memoryChanged",memory:(c=e.current)==null?void 0:c.getData()})}))},[n])},DL=({isCreatedMemoryTable:t,tableInstanceRef:e,dataMemoryTable:n,sizeMemory:i,setSp:r,setWriteInRegister:s,setDataMemoryTable:o})=>{x.useEffect(()=>{if(t&&e.current&&n){let l=[];i<n.memory.length?l=n.memory.slice(0,i):i>n.memory.length?l=[...n.memory,...new Array(i-n.memory.length).fill("00000000")]:l=n.memory,LS(e.current,l,()=>{r(Yr(i-4));const c=HY(i-4);s({registerName:"x2",value:c})}),o({...n,memory:l}),vr({event:"memorySizeChanged",sizeMemory:i})}},[i])},NL=({isCreatedMemoryTable:t,tableInstanceRef:e,importMemory:n,setImportMemory:i})=>{x.useEffect(()=>{var s,o;if(n.length===0||!t)return;const r=n.map(l=>({...l,address:l.address.toUpperCase()}));(s=e.current)==null||s.updateData(r),i([]),vr({event:"memoryChanged",memory:(o=e.current)==null?void 0:o.getData()})},[n,i,t])},PS=({isCreatedMemoryTable:t,isFirstStep:e,isFirstStepRef:n})=>{x.useEffect(()=>{t&&(n.current=e)},[e,t])},LL=({tableInstanceRef:t,isCreatedMemoryTable:e,writeInRegister:n,sp:i,setSp:r})=>{x.useEffect(()=>{n.value===""||!t.current||!e||n.registerName==="x2"&&r(KX(Number($t(n.value)),{current:t.current},i))},[n,i,r,e])},OL=({isCreatedMemoryTable:t,tableInstanceRef:e,theme:n,writeInMemory:i,setWriteInMemory:r})=>{x.useEffect(()=>{!t||i.value===""||(QX(e.current,i.address,i._length,i.value,n),r({address:0,_length:0,value:""}))},[i,r,t])},PL=({isCreatedMemoryTable:t,tableInstanceRef:e,readInMemory:n,setReadInMemory:i})=>{x.useEffect(()=>{!t||n.value==="-1"||!e.current||(kL(e.current,n.address,n._length,!0),i({address:0,_length:0,value:"-1"}))},[n,i,t])},jS=({tableInstanceRef:t,isCreatedMemoryTable:e,newPc:n,searchInMemory:i})=>{x.useEffect(()=>{!t.current||!e||n===0||(ZX(i,t),AL(n,{current:t.current}))},[i,e])},nK=({withBin:t,setWithBin:e})=>{const{theme:n}=ho(),i=x.useRef(null),r=x.useRef(null),{isCreatedMemoryTable:s,setIsCreatedMemoryTable:o,dataMemoryTable:l,setDataMemoryTable:c,sizeMemory:d,sp:f,setSp:m,importMemory:v,setImportMemory:w,writeInMemory:C,setWriteInMemory:S,readInMemory:_,setReadInMemory:R,searchInMemory:M}=Kr(),{newPc:k,setNewPc:D,isFirstStep:P}=lt();x.useRef(k);const{writeInRegister:O,setWriteInRegister:j}=Nf(),{setClickAddressInMemoryTable:B}=tv(),W=x.useRef(P),[z,Q]=x.useState(!0);return tK({tableContainerRef:i,tableInstanceRef:r,isCreatedMemoryTable:s,setIsCreatedMemoryTable:o,dataMemoryTable:l,isFirstStepRef:W,setSp:m}),DL({isCreatedMemoryTable:s,tableInstanceRef:r,dataMemoryTable:l,setDataMemoryTable:c,sizeMemory:d,setSp:m,setWriteInRegister:j}),jS({tableInstanceRef:r,isCreatedMemoryTable:s,newPc:k,searchInMemory:M}),NL({isCreatedMemoryTable:s,tableInstanceRef:r,importMemory:v,setImportMemory:w}),PS({isCreatedMemoryTable:s,isFirstStep:P,isFirstStepRef:W}),LL({tableInstanceRef:r,isCreatedMemoryTable:s,writeInRegister:O,sp:f,setSp:m}),OL({isCreatedMemoryTable:s,tableInstanceRef:r,theme:n,writeInMemory:C,setWriteInMemory:S}),PL({isCreatedMemoryTable:s,tableInstanceRef:r,readInMemory:_,setReadInMemory:R}),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`shadow-lg !min-h-min min-w-[37.36rem]  mx-4  relative ${(!z||!t)&&"hidden"}`,children:[g.jsxs("div",{className:`h-full  w-full transition-opacity ease-in 9000  ${s?"opacity-100":"opacity-0"}`,children:[g.jsx("div",{id:"availableMemoryTable",ref:i,className:`w-full h-full overflow-x-hidden ${n==="light"?"theme-light":"theme-dark"}`}),g.jsxs(il,{openDelay:200,closeDelay:100,children:[g.jsx(rl,{asChild:!0,children:g.jsx(xD,{id:"optionsAvailableMemoryTable",strokeWidth:1.5,className:"absolute cursor-pointer right-[0rem] top-[.4rem] min-w-[1.3rem] min-h-[1.3rem] w-[1.3rem] h-[1.3rem] z-100 text-black hover:scale-110 transition-transform"})}),g.jsx(sl,{side:"right",align:"center",className:"w-auto p-1 border rounded-md shadow-lg ml-2 bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm",children:g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("button",{onClick:()=>e(Z=>!Z),title:"Toggle Binary",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(gD,{strokeWidth:1.5,className:"w-5 h-5 text-black dark:text-white"})}),g.jsx("button",{onClick:()=>Q(!1),title:"Hide Table",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(nv,{strokeWidth:1.5,className:"w-5 h-5 text-black dark:text-white"})})]})})]})]}),!s&&g.jsx("div",{className:"absolute inset-0",children:g.jsx(_S,{})})]}),!z&&t&&g.jsxs("div",{onClick:()=>Q(!0),className:`h-full w-[1.6rem] cursor-pointer rounded-[.2rem] flex flex-col items-center uppercase  border hover:opacity-[0.9] transition-all ease-in-out duration-200
    bg-[#E3F2FD] border-gray-700 text-black`,children:[g.jsx(iv,{strokeWidth:1.5,className:`mt-[0.35rem] mb-1   min-w-[.9rem] min-h-[.9rem] w-[.9rem] h-[.9rem]
      `}),"memory".split("").map((Z,ne)=>g.jsx("span",{className:`text-[.45rem] font-bold leading-[.91rem] 
        `,children:Z===" "?" ":Z},ne))]})]})},iK=()=>{const t=x.useRef(null),e=x.useRef(null),{theme:n}=ho();return x.useEffect(()=>{if(!t.current||e.current)return;const i=[{id:1,IF:"",ID:"",IE:"",MEM:"",WB:""}];return e.current=new av(t.current,{data:i,columns:[{title:"IF",field:"IF",hozAlign:"center",width:100,headerSort:!1},{title:"ID",field:"ID",hozAlign:"center",width:100,headerSort:!1},{title:"IE",field:"IE",hozAlign:"center",width:100,headerSort:!1},{title:"MEM",field:"MEM",hozAlign:"center",width:100,headerSort:!1},{title:"WB",field:"WB",hozAlign:"center",width:100,headerSort:!1}],layout:"fitDataStretch",reactiveData:!0,index:"id",movableColumns:!1}),()=>{var r;(r=e.current)==null||r.destroy(),e.current=null}},[]),g.jsx("div",{className:"w-fit overflow-hidden",children:g.jsx("div",{ref:t,className:`w-full  h-full ${n==="light"?"theme-light":"theme-dark"} w-[500px] h-[90px] select-none`})})},rK=({tableContainerRef:t,tableInstanceRef:e,isCreatedMemoryTable:n,setIsCreatedMemoryTable:i,dataMemoryTable:r,newPcRef:s,isFirstStepRef:o,setSp:l,setNewPc:c,setClickAddressInMemoryTable:d})=>{x.useEffect(()=>{!t.current||n||(e.current&&(e.current.destroy(),e.current=null),e.current=new av(t.current,{layout:"fitColumns",index:"address",data:[],columns:nL(o),rowFormatter:function(f){const m=f.getData();if(!r)return;const v=f.getElement(),w=(s.current*4).toString(16).toUpperCase();if(m.address===w){v.querySelectorAll(".pc-icon").forEach(S=>S.remove());const C=f.getCell("address");if(C){const S=C.getElement();S.style.position="relative",S.appendChild(_L())}}},initialSort:[{column:"address",dir:"desc"}]}),e.current.on("tableBuilt",()=>{var f;i(!0),r&&XX(e.current,r.program,r.codeSize,r.symbols,()=>{l(Yr(r.memory.length-4)),c(0)}),(f=e.current)==null||f.on("cellClick",(m,v)=>{if(v.getField()==="address"){const w=v.getValue(),C=Number(pE(w))/4;if(r!=null&&r.codeSize&&C*4<(r==null?void 0:r.codeSize)){const S=r==null?void 0:r.addressLine[C];if(S&&(d(S.line),vr({event:"clickInInstruction",line:S.line}),r!=null&&r.addressLine[C].jump)){const R=Number(KN(String(r==null?void 0:r.addressLine[C].jump)))+C*4;e.current&&ML(e.current,C*4,R)}}}}),OS(e.current)}),e.current.on("cellEdited",f=>{var m;f.getField().startsWith("value")&&vr({event:"memoryChanged",memory:(m=e.current)==null?void 0:m.getData()})}))},[n])},sK=({isCreatedMemoryTable:t,dataMemoryTable:e,newPc:n,newPcRef:i,tableInstanceRef:r})=>{x.useEffect(()=>{t&&(e==null?void 0:e.codeSize)!==void 0&&(i.current=n,n*4>=(e==null?void 0:e.codeSize)-(e==null?void 0:e.constantsSize)||AL(n,{current:r.current}))},[n,t])},oK=({isCreatedMemoryTable:t,tableInstanceRef:e,locatePc:n,setLocatePc:i,newPc:r})=>{x.useEffect(()=>{var o;if(!t||!n)return;const s=(r*4).toString(16).toUpperCase();(o=e.current)==null||o.scrollToRow(s,"top",!0),i(!1)},[n,i,t])},aK=({isCreatedMemoryTable:t,tableInstanceRef:e,clickInEditorLine:n,setClickInEditorLine:i,dataMemoryTable:r})=>{x.useEffect(()=>{if(!t||n===-1)return;const s=r==null?void 0:r.addressLine.findIndex(o=>o.line===n);if(s!==-1){if(e.current&&(s||s===0)&&(eK(e.current,s*4),r!=null&&r.addressLine[s].jump)){const l=Number(KN(String(r==null?void 0:r.addressLine[s].jump)))+s*4;e.current&&ML(e.current,s*4,l)}i(-1)}},[n,i,t])},lK=()=>{const{theme:t}=ho(),e=x.useRef(null),n=x.useRef(null),{isCreatedMemoryTable:i,setIsCreatedMemoryTable:r,dataMemoryTable:s,setSp:o,searchInMemory:l,locatePc:c,setLocatePc:d,showProgramTable:f,setShowProgramTable:m}=Kr(),{newPc:v,setNewPc:w,isFirstStep:C}=lt(),S=x.useRef(v),{clickInEditorLine:_,setClickInEditorLine:R,setClickAddressInMemoryTable:M}=tv(),k=x.useRef(C);return rK({tableContainerRef:e,tableInstanceRef:n,isCreatedMemoryTable:i,setIsCreatedMemoryTable:r,dataMemoryTable:s,newPcRef:S,isFirstStepRef:k,setSp:o,setNewPc:w,setClickAddressInMemoryTable:M}),PS({isCreatedMemoryTable:i,isFirstStep:C,isFirstStepRef:k}),sK({isCreatedMemoryTable:i,dataMemoryTable:s,newPc:v,newPcRef:S,tableInstanceRef:n}),jS({tableInstanceRef:n,isCreatedMemoryTable:i,newPc:v,searchInMemory:l}),oK({isCreatedMemoryTable:i,tableInstanceRef:n,locatePc:c,setLocatePc:d,newPc:v}),aK({isCreatedMemoryTable:i,tableInstanceRef:n,clickInEditorLine:_,setClickInEditorLine:R,dataMemoryTable:s}),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`shadow-lg !min-h-min min-w-[37.36rem]  mx-4  relative ${!f&&"hidden"}`,children:[g.jsxs("div",{className:`h-full  w-full transition-opacity ease-in 9000  ${i?"opacity-100":"opacity-0"}`,children:[g.jsx("div",{id:"programTable",ref:e,className:`w-full h-full overflow-x-hidden ${t==="light"?"theme-light":"theme-dark"}`}),g.jsx(nv,{onClick:()=>{m(!1)},strokeWidth:1.5,className:"absolute cursor-pointer right-[0rem] top-[.4rem] min-w-[1.3rem] min-h-[1.3rem] w-[1.3rem] h-[1.3rem] z-100 text-black"})]}),!i&&g.jsx("div",{className:"absolute inset-0",children:g.jsx(_S,{})})]}),!f&&g.jsxs("div",{onClick:()=>m(!0),className:`h-full w-[1.6rem] cursor-pointer  rounded-[.2rem] flex flex-col items-center uppercase group border hover:opacity-[0.9] transition-all ease-in-out duration-200
    bg-[#E3F2FD] border-gray-700 text-black`,children:[g.jsx(iv,{strokeWidth:1.5,className:`mt-[0.35rem] mb-1   min-w-[.9rem] min-h-[.9rem] w-[.9rem] h-[.9rem]
      `}),"program memory".split("").map((D,P)=>D===" "?g.jsx("div",{className:"h-2"},P):g.jsx("span",{className:`text-[.45rem] font-bold leading-[.91rem] 
        `,children:D},P))]})]})};function uK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(i){uK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cK(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function dK(t,e){if(t==null)return{};var n=cK(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function hK(t,e){return fK(t)||pK(t,e)||mK(t,e)||gK()}function fK(t){if(Array.isArray(t))return t}function pK(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],i=!0,r=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));i=!0);}catch(c){r=!0,s=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return n}}function mK(t,e){if(t){if(typeof t=="string")return jT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(t,e)}}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(i){vK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return e.reduceRight(function(r,s){return s(r)},i)}}function sg(t){return function e(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=t.length?t.apply(this,r):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return e.apply(n,[].concat(r,l))}}}function N0(t){return{}.toString.call(t).includes("Object")}function yK(t){return!Object.keys(t).length}function Ig(t){return typeof t=="function"}function wK(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xK(t,e){return N0(e)||Su("changeType"),Object.keys(e).some(function(n){return!wK(t,n)})&&Su("changeField"),e}function CK(t){Ig(t)||Su("selectorType")}function EK(t){Ig(t)||N0(t)||Su("handlerType"),N0(t)&&Object.values(t).some(function(e){return!Ig(e)})&&Su("handlersType")}function SK(t){t||Su("initialIsRequired"),N0(t)||Su("initialType"),yK(t)&&Su("initialContent")}function RK(t,e){throw new Error(t[e]||t.default)}var TK={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Su=sg(RK)(TK),Fy={changes:xK,selector:CK,handler:EK,initial:SK};function _K(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fy.initial(t),Fy.handler(e);var n={current:t},i=sg(MK)(n,e),r=sg(kK)(n),s=sg(Fy.changes)(t),o=sg(AK)(n);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Fy.selector(d),d(n.current)}function c(d){bK(i,r,s,o)(d)}return[l,c]}function AK(t,e){return Ig(e)?e(t.current):e}function kK(t,e){return t.current=zT(zT({},t.current),e),e}function MK(t,e,n){return Ig(e)?e(t.current):Object.keys(n).forEach(function(i){var r;return(r=e[i])===null||r===void 0?void 0:r.call(e,t.current[i])}),n}var DK={create:_K},NK={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function LK(t){return function e(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=t.length?t.apply(this,r):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return e.apply(n,[].concat(r,l))}}}function OK(t){return{}.toString.call(t).includes("Object")}function PK(t){return t||FT("configIsRequired"),OK(t)||FT("configType"),t.urls?(jK(),{paths:{vs:t.urls.monacoBase}}):t}function jK(){console.warn(jL.deprecation)}function IK(t,e){throw new Error(t[e]||t.default)}var jL={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},FT=LK(IK)(jL),zK={config:PK},FK=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(r){return n.reduceRight(function(s,o){return o(s)},r)}};function IL(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],IL(t[n],e[n]))}),PT(PT({},t),e)}var HK={type:"cancelation",msg:"operation is manually canceled"};function z1(t){var e=!1,n=new Promise(function(i,r){t.then(function(s){return e?r(HK):i(s)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var BK=DK.create({config:NK,isInitialized:!1,resolve:null,reject:null,monaco:null}),zL=hK(BK,2),lv=zL[0],Lw=zL[1];function UK(t){var e=zK.config(t),n=e.monaco,i=dK(e,["monaco"]);Lw(function(r){return{config:IL(r.config,i),monaco:n}})}function $K(){var t=lv(function(e){var n=e.monaco,i=e.isInitialized,r=e.resolve;return{monaco:n,isInitialized:i,resolve:r}});if(!t.isInitialized){if(Lw({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),z1(F1);if(window.monaco&&window.monaco.editor)return FL(window.monaco),t.resolve(window.monaco),z1(F1);FK(VK,GK)(qK)}return z1(F1)}function VK(t){return document.body.appendChild(t)}function WK(t){var e=document.createElement("script");return t&&(e.src=t),e}function GK(t){var e=lv(function(i){var r=i.config,s=i.reject;return{config:r,reject:s}}),n=WK("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function qK(){var t=lv(function(n){var i=n.config,r=n.resolve,s=n.reject;return{config:i,resolve:r,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){FL(n),t.resolve(n)},function(n){t.reject(n)})}function FL(t){lv().monaco||Lw({monaco:t})}function YK(){return lv(function(t){var e=t.monaco;return e})}var F1=new Promise(function(t,e){return Lw({resolve:t,reject:e})}),HL={config:UK,init:$K,__getMonacoInstance:YK},XK={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},H1=XK,KK={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},JK=KK;function ZK({children:t}){return jt.createElement("div",{style:JK.container},t)}var QK=ZK,eJ=QK;function tJ({width:t,height:e,isEditorReady:n,loading:i,_ref:r,className:s,wrapperProps:o}){return jt.createElement("section",{style:{...H1.wrapper,width:t,height:e},...o},!n&&jt.createElement(eJ,null,i),jt.createElement("div",{ref:r,style:{...H1.fullWidth,...!n&&H1.hide},className:s}))}var nJ=tJ,BL=x.memo(nJ);function iJ(t){x.useEffect(t,[])}var UL=iJ;function rJ(t,e,n=!0){let i=x.useRef(!0);x.useEffect(i.current||!n?()=>{i.current=!1}:t,e)}var Ur=rJ;function fg(){}function sf(t,e,n,i){return sJ(t,i)||oJ(t,e,n,i)}function sJ(t,e){return t.editor.getModel($L(t,e))}function oJ(t,e,n,i){return t.editor.createModel(e,n,i?$L(t,i):void 0)}function $L(t,e){return t.Uri.parse(e)}function aJ({original:t,modified:e,language:n,originalLanguage:i,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:f="Loading...",options:m={},height:v="100%",width:w="100%",className:C,wrapperProps:S={},beforeMount:_=fg,onMount:R=fg}){let[M,k]=x.useState(!1),[D,P]=x.useState(!0),O=x.useRef(null),j=x.useRef(null),B=x.useRef(null),W=x.useRef(R),z=x.useRef(_),Q=x.useRef(!1);UL(()=>{let Y=HL.init();return Y.then(U=>(j.current=U)&&P(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>O.current?H():Y.cancel()}),Ur(()=>{if(O.current&&j.current){let Y=O.current.getOriginalEditor(),U=sf(j.current,t||"",i||n||"text",s||"");U!==Y.getModel()&&Y.setModel(U)}},[s],M),Ur(()=>{if(O.current&&j.current){let Y=O.current.getModifiedEditor(),U=sf(j.current,e||"",r||n||"text",o||"");U!==Y.getModel()&&Y.setModel(U)}},[o],M),Ur(()=>{let Y=O.current.getModifiedEditor();Y.getOption(j.current.editor.EditorOption.readOnly)?Y.setValue(e||""):e!==Y.getValue()&&(Y.executeEdits("",[{range:Y.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),Y.pushUndoStop())},[e],M),Ur(()=>{var Y,U;(U=(Y=O.current)==null?void 0:Y.getModel())==null||U.original.setValue(t||"")},[t],M),Ur(()=>{let{original:Y,modified:U}=O.current.getModel();j.current.editor.setModelLanguage(Y,i||n||"text"),j.current.editor.setModelLanguage(U,r||n||"text")},[n,i,r],M),Ur(()=>{var Y;(Y=j.current)==null||Y.editor.setTheme(d)},[d],M),Ur(()=>{var Y;(Y=O.current)==null||Y.updateOptions(m)},[m],M);let Z=x.useCallback(()=>{var J;if(!j.current)return;z.current(j.current);let Y=sf(j.current,t||"",i||n||"text",s||""),U=sf(j.current,e||"",r||n||"text",o||"");(J=O.current)==null||J.setModel({original:Y,modified:U})},[n,e,r,t,i,s,o]),ne=x.useCallback(()=>{var Y;!Q.current&&B.current&&(O.current=j.current.editor.createDiffEditor(B.current,{automaticLayout:!0,...m}),Z(),(Y=j.current)==null||Y.editor.setTheme(d),k(!0),Q.current=!0)},[m,d,Z]);x.useEffect(()=>{M&&W.current(O.current,j.current)},[M]),x.useEffect(()=>{!D&&!M&&ne()},[D,M,ne]);function H(){var U,J,X,K;let Y=(U=O.current)==null?void 0:U.getModel();l||((J=Y==null?void 0:Y.original)==null||J.dispose()),c||((X=Y==null?void 0:Y.modified)==null||X.dispose()),(K=O.current)==null||K.dispose()}return jt.createElement(BL,{width:w,height:v,isEditorReady:M,loading:f,_ref:B,className:C,wrapperProps:S})}var lJ=aJ;x.memo(lJ);function uJ(t){let e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}var cJ=uJ,Hy=new Map;function dJ({defaultValue:t,defaultLanguage:e,defaultPath:n,value:i,language:r,path:s,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:f={},saveViewState:m=!0,keepCurrentModel:v=!1,width:w="100%",height:C="100%",className:S,wrapperProps:_={},beforeMount:R=fg,onMount:M=fg,onChange:k,onValidate:D=fg}){let[P,O]=x.useState(!1),[j,B]=x.useState(!0),W=x.useRef(null),z=x.useRef(null),Q=x.useRef(null),Z=x.useRef(M),ne=x.useRef(R),H=x.useRef(),Y=x.useRef(i),U=cJ(s),J=x.useRef(!1),X=x.useRef(!1);UL(()=>{let ee=HL.init();return ee.then(ue=>(W.current=ue)&&B(!1)).catch(ue=>(ue==null?void 0:ue.type)!=="cancelation"&&console.error("Monaco initialization: error:",ue)),()=>z.current?L():ee.cancel()}),Ur(()=>{var ue,V,fe,be;let ee=sf(W.current,t||i||"",e||r||"",s||n||"");ee!==((ue=z.current)==null?void 0:ue.getModel())&&(m&&Hy.set(U,(V=z.current)==null?void 0:V.saveViewState()),(fe=z.current)==null||fe.setModel(ee),m&&((be=z.current)==null||be.restoreViewState(Hy.get(s))))},[s],P),Ur(()=>{var ee;(ee=z.current)==null||ee.updateOptions(d)},[d],P),Ur(()=>{!z.current||i===void 0||(z.current.getOption(W.current.editor.EditorOption.readOnly)?z.current.setValue(i):i!==z.current.getValue()&&(X.current=!0,z.current.executeEdits("",[{range:z.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),z.current.pushUndoStop(),X.current=!1))},[i],P),Ur(()=>{var ue,V;let ee=(ue=z.current)==null?void 0:ue.getModel();ee&&r&&((V=W.current)==null||V.editor.setModelLanguage(ee,r))},[r],P),Ur(()=>{var ee;l!==void 0&&((ee=z.current)==null||ee.revealLine(l))},[l],P),Ur(()=>{var ee;(ee=W.current)==null||ee.editor.setTheme(o)},[o],P);let K=x.useCallback(()=>{var ee;if(!(!Q.current||!W.current)&&!J.current){ne.current(W.current);let ue=s||n,V=sf(W.current,i||t||"",e||r||"",ue||"");z.current=(ee=W.current)==null?void 0:ee.editor.create(Q.current,{model:V,automaticLayout:!0,...d},f),m&&z.current.restoreViewState(Hy.get(ue)),W.current.editor.setTheme(o),l!==void 0&&z.current.revealLine(l),O(!0),J.current=!0}},[t,e,n,i,r,s,d,f,m,o,l]);x.useEffect(()=>{P&&Z.current(z.current,W.current)},[P]),x.useEffect(()=>{!j&&!P&&K()},[j,P,K]),Y.current=i,x.useEffect(()=>{var ee,ue;P&&k&&((ee=H.current)==null||ee.dispose(),H.current=(ue=z.current)==null?void 0:ue.onDidChangeModelContent(V=>{X.current||k(z.current.getValue(),V)}))},[P,k]),x.useEffect(()=>{if(P){let ee=W.current.editor.onDidChangeMarkers(ue=>{var fe;let V=(fe=z.current.getModel())==null?void 0:fe.uri;if(V&&ue.find(be=>be.path===V.path)){let be=W.current.editor.getModelMarkers({resource:V});D==null||D(be)}});return()=>{ee==null||ee.dispose()}}return()=>{}},[P,D]);function L(){var ee,ue;(ee=H.current)==null||ee.dispose(),v?m&&Hy.set(s,z.current.saveViewState()):(ue=z.current.getModel())==null||ue.dispose(),z.current.dispose()}return jt.createElement(BL,{width:w,height:C,isEditorReady:P,loading:c,_ref:Q,className:S,wrapperProps:_})}var hJ=dJ,fJ=x.memo(hJ),pJ=fJ;const mJ=()=>{const{textProgram:t}=lt(),{theme:e}=ho(),{lineDecorationNumber:n,setClickInEditorLine:i,clickAddressInMemoryTable:r,setClickAddressInMemoryTable:s}=tv(),{switchAutoFocusOnNewLine:o}=zf(),l=e==="dark"?"my-custom-dark":"my-custom-light",[c,d]=x.useState(null),f=x.useRef(null),m=x.useRef([]),v=x.useRef([]),w=x.useRef(null),[C,S]=x.useState(!0);x.useEffect(()=>{const M=w.current;if(!M)return;const k=D=>{if(Math.abs(D.deltaX)>Math.abs(D.deltaY)){D.preventDefault(),D.stopPropagation();const P=M.closest(".overflow-x-auto");P&&(P.scrollLeft+=D.deltaX)}};return M.addEventListener("wheel",k,{capture:!0}),()=>{M.removeEventListener("wheel",k,{capture:!0})}},[]),x.useEffect(()=>{if(!c||n===-1||!f.current)return;const k=[{range:new f.current.Range(n,1,n,1),options:{isWholeLine:!0,className:"highlighted-line driver-first-valid-line"}}];return m.current=c.deltaDecorations(m.current,k),o&&c.revealLineInCenterIfOutsideViewport(n),()=>{c&&c.deltaDecorations(m.current,[])}},[n,c,o]),x.useEffect(()=>{if(!c||r===-1||!f.current)return;const M=r,k=new f.current.Range(M,1,M,1);c.revealLineInCenterIfOutsideViewport(M);const D=[{range:k,options:{linesDecorationsClassName:"address-margin-decoration"}}];v.current=c.deltaDecorations(v.current,D);const P=setTimeout(()=>{v.current=c.deltaDecorations(v.current,[]),s(-1)},1e3);return()=>{clearTimeout(P),c.deltaDecorations(v.current,[])}},[r,c,s]);const _=M=>{d(M),M.onMouseDown(k=>{var D;(D=k.target.position)!=null&&D.lineNumber&&i(k.target.position.lineNumber)})},R=M=>{f.current=M,M.editor.defineTheme("my-custom-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#00000000","editor.foreground":"#333333","editor.border":"#00000000",focusBorder:"#00000000"}}),M.editor.defineTheme("my-custom-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#00000000","editor.foreground":"#D4D4D4","editor.border":"#00000000",focusBorder:"#00000000"}})};return g.jsxs("div",{className:"h-full",id:"monaco-editor",children:[g.jsxs("div",{ref:w,className:`h-full mt-1  flex relative ${!C&&"hidden"}  `,children:[g.jsx("div",{className:"flex-grow min-w-[25rem]  overflow-hidden relative",children:g.jsx(pJ,{height:"100%",defaultLanguage:"python",value:t,theme:l,beforeMount:R,onMount:_,options:{readOnly:!0,minimap:{enabled:!1},renderLineHighlight:"none",overviewRulerBorder:!1,hideCursorInOverviewRuler:!0,stickyScroll:{enabled:!1},scrollbar:{horizontal:"hidden",vertical:"auto"},wordWrap:"off",glyphMargin:!1}})}),g.jsx("div",{className:"pl-1",children:g.jsx(nv,{onClick:()=>S(!1),strokeWidth:1.5,className:`min-w-[1.3rem] min-h-[1.3rem] w-[1.3rem] h-[1.3rem] cursor-pointer ${e==="light"?"text-black":"text-gray-400"}`})})]}),!C&&g.jsxs("div",{onClick:()=>S(!0),className:`h-full w-[1.6rem] cursor-pointer rounded-[.2rem] border flex flex-col items-center uppercase group
    ${e==="light"?"bg-white border-gray-300":"bg-[#1a1a1a] border-gray-700"}`,children:[g.jsx(iv,{strokeWidth:1.5,className:`mt-[0.35rem] mb-1 transition ease-in-out min-w-[.9rem] min-h-[.9rem] w-[.9rem] h-[.9rem]
      ${e==="light"?"text-gray-700 group-hover:text-gray-800":"text-gray-400 group-hover:text-gray-300"}`}),"assembly".split("").map((M,k)=>g.jsx("span",{className:`text-[.45rem] font-bold leading-[.91rem] transition ease-in-out
        ${e==="light"?"text-gray-700 group-hover:text-gray-800":"text-gray-400 group-hover:text-gray-500"}`,children:M===" "?" ":M},k))]})]})},gJ=({tableContainerRef:t,tableInstanceRef:e,isCreatedMemoryTable:n,setIsCreatedMemoryTable:i,dataMemoryTable:r,isFirstStepRef:s,setSp:o})=>{x.useEffect(()=>{!t.current||n||(e.current&&(e.current.destroy(),e.current=null),e.current=new av(t.current,{layout:"fitColumns",index:"address",data:[],columns:qY(s),rowFormatter:function(l){const c=l.getData();if(!r)return;const d=Yr(r.memory.length-4).toUpperCase();if(c.address===d)return;const f=l.getElement();f.style.backgroundColor="",f.style.color=""},initialSort:[{column:"address",dir:"desc"}]}),e.current.on("tableBuilt",()=>{i(!0),r&&LS(e.current,r.memory,()=>{o(Yr(r.memory.length-4))}),OS(e.current)}),e.current.on("cellEdited",l=>{var c;l.getField().startsWith("value")&&vr({event:"memoryChanged",memory:(c=e.current)==null?void 0:c.getData()})}))},[n])},vJ=({setWithBin:t,withBin:e})=>{const{theme:n}=ho(),i=x.useRef(null),r=x.useRef(null),{isCreatedMemoryTable:s,setIsCreatedMemoryTable:o,dataMemoryTable:l,setDataMemoryTable:c,sizeMemory:d,sp:f,setSp:m,importMemory:v,setImportMemory:w,writeInMemory:C,setWriteInMemory:S,readInMemory:_,setReadInMemory:R,searchInMemory:M}=Kr(),{newPc:k,setNewPc:D,isFirstStep:P}=lt();x.useRef(k);const{writeInRegister:O,setWriteInRegister:j}=Nf(),{setClickAddressInMemoryTable:B}=tv(),W=x.useRef(P),[z,Q]=x.useState(!0);return gJ({tableContainerRef:i,tableInstanceRef:r,isCreatedMemoryTable:s,setIsCreatedMemoryTable:o,dataMemoryTable:l,isFirstStepRef:W,setSp:m}),DL({isCreatedMemoryTable:s,tableInstanceRef:r,dataMemoryTable:l,setDataMemoryTable:c,sizeMemory:d,setSp:m,setWriteInRegister:j}),jS({tableInstanceRef:r,isCreatedMemoryTable:s,newPc:k,searchInMemory:M}),NL({isCreatedMemoryTable:s,tableInstanceRef:r,importMemory:v,setImportMemory:w}),PS({isCreatedMemoryTable:s,isFirstStep:P,isFirstStepRef:W}),LL({tableInstanceRef:r,isCreatedMemoryTable:s,writeInRegister:O,sp:f,setSp:m}),OL({isCreatedMemoryTable:s,tableInstanceRef:r,theme:n,writeInMemory:C,setWriteInMemory:S}),PL({isCreatedMemoryTable:s,tableInstanceRef:r,readInMemory:_,setReadInMemory:R}),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`shadow-lg !min-h-min min-w-[16.7rem] mx-4 relative ${(!z||e)&&"hidden"}`,children:[g.jsxs("div",{className:`h-full w-full transition-opacity ease-in 9000 ${s?"opacity-100":"opacity-0"}`,children:[g.jsx("div",{ref:i,className:`w-full h-full overflow-x-hidden ${n==="light"?"theme-light":"theme-dark"}`}),g.jsxs(il,{openDelay:200,closeDelay:100,children:[g.jsx(rl,{asChild:!0,children:g.jsx(xD,{strokeWidth:1.5,className:"absolute cursor-pointer right-[0rem] top-[.4rem] min-w-[1.3rem] min-h-[1.3rem] w-[1.3rem] h-[1.3rem] z-100 text-black hover:scale-110 transition-transform"})}),g.jsx(sl,{side:"right",align:"center",className:"w-auto p-1 border rounded-md shadow-lg ml-2 bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm",children:g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("button",{onClick:()=>t(Z=>!Z),title:"Toggle Binary",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(gD,{strokeWidth:1.5,className:"w-5 h-5 text-black dark:text-white"})}),g.jsx("button",{onClick:()=>Q(!1),title:"Hide Table",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(nv,{strokeWidth:1.5,className:"w-5 h-5 text-black dark:text-white"})})]})})]})]}),!s&&g.jsx("div",{className:"absolute inset-0",children:g.jsx(_S,{})})]}),!z&&!e&&g.jsxs("div",{onClick:()=>Q(!0),className:`h-full w-[1.6rem] cursor-pointer rounded-[.2rem] flex flex-col items-center uppercase border hover:opacity-[0.9] transition-all ease-in-out duration-200
    bg-[#E3F2FD] border-gray-700 text-black`,children:[g.jsx(iv,{strokeWidth:1.5,className:"mt-[0.35rem] mb-1 min-w-[.9rem] min-h-[.9rem] w-[.9rem] h-[.9rem]"}),"memory".split("").map((Z,ne)=>g.jsx("span",{className:"text-[.45rem] font-bold leading-[.91rem]",children:Z===" "?" ":Z},ne))]})]})},bJ=()=>{const{typeSimulator:t,modeSimulator:e}=lt(),[n,i]=x.useState(!0);return g.jsxs("div",{className:"flex gap-0 overflow-hidden min-w-min",children:[g.jsx(QY,{}),g.jsxs("div",{className:"flex gap-0 overflow-hidden min-w-min",id:"memoryTables",children:[g.jsx(nK,{withBin:n,setWithBin:i}),g.jsx(vJ,{withBin:n,setWithBin:i}),g.jsx(lK,{})]}),e!=="text"&&g.jsx(mJ,{}),t==="pipeline"&&g.jsx(iK,{})]})},VL=({disabled:t=!1})=>{const{sizeMemory:e,setSizeMemory:n}=Kr(),[i,r]=x.useState(e.toString()),[s,o]=x.useState(null),l=x.useRef(null),c=w=>isNaN(w)?"Please enter a valid number":w<16?"Value must be at least 16":w>512?"Value must be at most 512":w%4!==0?"Value must be a multiple of 4":null,d=w=>{const C=c(w);return C?(o(C),!1):(o(null),n(w),r(w.toString()),!0)},f=w=>{var S;if(w.preventDefault(),t)return;const C=Number(i);d(C),(S=l.current)==null||S.blur()},m=w=>{if(t)return;const C=w.target.value;r(C),o(null)},v=()=>{if(t)return;const w=Number(i);d(w)||r(e.toString())};return g.jsxs("div",{className:"flex flex-col gap-3 ",id:"change-memory-size",children:[g.jsx("p",{className:"font-semibold",children:"Memory size (In bytes)"}),g.jsxs("form",{onSubmit:f,className:"relative",noValidate:!0,children:[g.jsx("div",{className:"absolute top-1/2 left-[0.6rem] -translate-y-1/2 text-gray-400",children:g.jsx(x7,{strokeWidth:1,width:20,height:20})}),g.jsx("input",{ref:l,disabled:t,className:`relative rounded-lg border ${s?"border-red-500":"border-gray-400"} ${t?"cursor-not-allowed":"cursor-pointer"} z-[0] bg-transparent py-2 pr-2 pl-[2.3rem] w-full`,type:"number",value:i,min:"32",max:"512",step:"4",placeholder:"e.g. 200, 1024...",onChange:m,onBlur:v,title:s||""}),s&&g.jsx("div",{className:"absolute left-0 mt-1 text-sm text-red-500 top-full",children:s})]})]})},yJ=()=>{const{setImportRegister:t}=Nf(),{setDialog:e}=Lf(),n=x.useRef(null),i=()=>{var s;(s=n.current)==null||s.click()},r=s=>{var c;const o=(c=s.target.files)==null?void 0:c[0];if(!o)return;const l=new FileReader;l.onload=d=>{var w;const f=(w=d.target)==null?void 0:w.result;if(!f||typeof f!="string")return;const m=f.split(`
`).map(C=>C.trim()).filter(C=>C!=="");if(m.length!==32){e({title:"Error importing file",description:"The file must contain 32 registers."});return}for(let C=0;C<m.length;C++){if(m[0]!=="00000000000000000000000000000000"){e({title:"Error importing file",description:"You cannot write to register x0."});return}if(m[C].length!==32){e({title:"Error importing file",description:`Invalid length on the line ${C+1} or (x${[C]}).`});return}if(!/^[01]+$/.test(m[C])){e({title:"Error importing file",description:`Invalid characters on line ${C+1}. Only '0' and '1' are allowed.`});return}}const v=eL.map((C,S)=>({name:C,rawName:C.split(" ")[0],value:S===0?"00000000000000000000000000000000":m[S],viewType:2,watched:!1,modified:0,id:S}));t(v),vr({event:"registersChanged",registers:m})},l.readAsText(o),n.current&&(n.current.value="")};return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"file",id:"fileInputImportRegister",accept:".txt",className:"hidden",ref:n,onChange:r}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Jr,{variant:"outline",size:"icon",id:"importRegisterBtn",onClick:i,children:g.jsx(bD,{strokeWidth:1})}),g.jsx("p",{className:"text-gray",children:"Registers"})]})]})},wJ=()=>{const{setImportMemory:t,dataMemoryTable:e,sizeMemory:n}=Kr(),{setDialog:i}=Lf(),r=x.useRef(null),s=()=>{var l;(l=r.current)==null||l.click()},o=l=>{var f;const c=(f=l.target.files)==null?void 0:f[0];if(!c)return;const d=new FileReader;d.onload=m=>{var S;const v=(S=m.target)==null?void 0:S.result;if(!v||typeof v!="string")return;const w=v.split(`
`).map(_=>_.trim()).filter(_=>_!==""),C=[];for(const _ of w){const R=_.split(":");if(R.length!==2){i({title:"Error importing memory",description:`Invalid format in line: ${_}`});return}const M=R[0].trim(),k=parseInt(M,16);if(!e)return;if(k>n-4){i({title:"Error importing memory",description:`Memory overflow: address ${M} exceeds the allowed limit`});return}const D=R[1].trim();if(D.length!==32||!/^[01]+$/.test(D)){i({title:"Error importing memory",description:`Invalid value in line: ${_}`});return}const P=D.slice(24,32),O=D.slice(16,24),j=D.slice(8,16),B=D.slice(0,8),W=[B,j,O,P].map(z=>parseInt(z,2).toString(16).padStart(2,"0")).join("-").toUpperCase();C.push({address:k.toString(16).toLowerCase(),value0:P,value1:O,value2:j,value3:B,hex:W})}t(C)},d.readAsText(c),r.current&&(r.current.value="")};return g.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[g.jsx("input",{type:"file",id:"fileInputImportMemory",accept:".txt",className:"hidden",ref:r,onChange:o}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Jr,{variant:"outline",size:"icon",id:"importMemoryBtn",onClick:s,children:g.jsx(dw,{strokeWidth:1})}),g.jsx("p",{className:"text-gray",children:"Memory"})]})]})},xJ=()=>g.jsxs("div",{className:"flex flex-col gap-7 ",children:[g.jsxs("p",{className:"flex text-gray-400 text-md",children:["Press",g.jsx("span",{className:"inline mx-2 text-slate-400",children:g.jsx(CD,{strokeWidth:1})})," ","to execute the first instruction"]}),g.jsxs("div",{className:"flex flex-col gap-2",id:"import-data",children:[g.jsx("p",{children:"Import data"}),g.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[g.jsx(yJ,{}),g.jsx(wJ,{})]})]}),g.jsx(VL,{})]}),CJ=()=>g.jsx("div",{className:"flex flex-col gap-7",children:g.jsx(VL,{disabled:!0})});function EJ(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IS="Switch",[SJ,Gme]=Lu(IS),[RJ,TJ]=SJ(IS),WL=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:i,checked:r,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[v,w]=x.useState(null),C=xi(e,k=>w(k)),S=x.useRef(!1),_=v?f||!!v.closest("form"):!0,[R=!1,M]=lw({prop:r,defaultProp:s,onChange:d});return g.jsxs(RJ,{scope:n,checked:R,disabled:l,children:[g.jsx(zn.button,{type:"button",role:"switch","aria-checked":R,"aria-required":o,"data-state":YL(R),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:C,onClick:En(t.onClick,k=>{M(D=>!D),_&&(S.current=k.isPropagationStopped(),S.current||k.stopPropagation())})}),_&&g.jsx(_J,{control:v,bubbles:!S.current,name:i,value:c,checked:R,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});WL.displayName=IS;var GL="SwitchThumb",qL=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...i}=t,r=TJ(GL,n);return g.jsx(zn.span,{"data-state":YL(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:e})});qL.displayName=GL;var _J=t=>{const{control:e,checked:n,bubbles:i=!0,...r}=t,s=x.useRef(null),o=EJ(n),l=oN(e);return x.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const v=new Event("click",{bubbles:i});m.call(c,n),c.dispatchEvent(v)}},[o,n,i]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YL(t){return t?"checked":"unchecked"}var XL=WL,KL=qL;function AJ(){const{checkFixedRegisters:t,setCheckFixedRegisters:e}=zf(),n=i=>{e(i)};return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(XL,{"data-slot":"switch",checked:t,onCheckedChange:n,className:"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",children:g.jsx(KL,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})}),g.jsx(S0,{htmlFor:"airplane-mode",className:"text-md",children:"Automatically add changing registers to the watch list."})]})}const kJ=()=>{const{registerData:t}=cM(),[e,n]=x.useState(null),i=()=>{if(!t||t.length===0)return;const r=t.join(`
`),s=new Blob([r],{type:"text/plain;charset=utf-8"}),o=URL.createObjectURL(s);n(o);const l=document.createElement("a");l.href=o,l.download="registers.txt",l.click(),URL.revokeObjectURL(o)};return g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Jr,{variant:"outline",size:"icon",onClick:i,children:g.jsx(dw,{strokeWidth:1})}),g.jsx("p",{className:"text-gray",children:"Registers"})]})})};function L0(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function HT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function JL(...t){return e=>{let n=!1;const i=t.map(r=>{const s=HT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():HT(t[r],null)}}}}function MJ(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,DJ(r,...e)]}function DJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ZL=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},NJ=ua[" useInsertionEffect ".trim().toString()]||ZL;function LJ({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=OJ({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=x.useCallback(f=>{var m;if(l){const v=PJ(f)?f(t):f;v!==t&&((m=o.current)==null||m.call(o,v))}else s(f)},[l,t,s,o]);return[c,d]}function OJ({defaultProp:t,onChange:e}){const[n,i]=x.useState(t),r=x.useRef(n),s=x.useRef(e);return NJ(()=>{s.current=e},[e]),x.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function PJ(t){return typeof t=="function"}function jJ(t){const e=IJ(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(FJ);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function IJ(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=BJ(r),l=HJ(s,r.props);return r.type!==x.Fragment&&(l.ref=i?JL(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zJ=Symbol("radix.slottable");function FJ(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zJ}function HJ(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function BJ(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$J=UJ.reduce((t,e)=>{const n=jJ(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function Qt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Ow(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,VJ(r,...e)]}function VJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function BT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zS(...t){return e=>{let n=!1;const i=t.map(r=>{const s=BT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():BT(t[r],null)}}}}function Xr(...t){return x.useCallback(zS(...t),t)}function O0(t){const e=WJ(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(qJ);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function WJ(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=XJ(r),l=YJ(s,r.props);return r.type!==x.Fragment&&(l.ref=i?zS(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GJ=Symbol("radix.slottable");function qJ(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GJ}function YJ(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function XJ(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function QL(t){const e=t+"CollectionProvider",[n,i]=Ow(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:_,children:R}=S,M=jt.useRef(null),k=jt.useRef(new Map).current;return g.jsx(r,{scope:_,itemMap:k,collectionRef:M,children:R})};o.displayName=e;const l=t+"CollectionSlot",c=O0(l),d=jt.forwardRef((S,_)=>{const{scope:R,children:M}=S,k=s(l,R),D=Xr(_,k.collectionRef);return g.jsx(c,{ref:D,children:M})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",v=O0(f),w=jt.forwardRef((S,_)=>{const{scope:R,children:M,...k}=S,D=jt.useRef(null),P=Xr(_,D),O=s(f,R);return jt.useEffect(()=>(O.itemMap.set(D,{ref:D,...k}),()=>void O.itemMap.delete(D))),g.jsx(v,{[m]:"",ref:P,children:M})});w.displayName=f;function C(S){const _=s(t+"CollectionConsumer",S);return jt.useCallback(()=>{const M=_.collectionRef.current;if(!M)return[];const k=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((O,j)=>k.indexOf(O.ref.current)-k.indexOf(j.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},C,i]}var KJ=x.createContext(void 0);function eO(t){const e=x.useContext(KJ);return t||e||"ltr"}var JJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zr=JJ.reduce((t,e)=>{const n=O0(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function tO(t,e){t&&Df.flushSync(()=>t.dispatchEvent(e))}function fd(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function ZJ(t,e=globalThis==null?void 0:globalThis.document){const n=fd(t);x.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var QJ="DismissableLayer",gE="dismissableLayer.update",eZ="dismissableLayer.pointerDownOutside",tZ="dismissableLayer.focusOutside",UT,nO=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iO=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(nO),[f,m]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),C=Xr(e,j=>m(j)),S=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(_),M=f?S.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,D=M>=R,P=rZ(j=>{const B=j.target,W=[...d.branches].some(z=>z.contains(B));!D||W||(r==null||r(j),o==null||o(j),j.defaultPrevented||l==null||l())},v),O=sZ(j=>{const B=j.target;[...d.branches].some(z=>z.contains(B))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},v);return ZJ(j=>{M===d.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},v),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(UT=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),$T(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=UT)}},[f,v,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),$T())},[f,d]),x.useEffect(()=>{const j=()=>w({});return document.addEventListener(gE,j),()=>document.removeEventListener(gE,j)},[]),g.jsx(Zr.div,{...c,ref:C,style:{pointerEvents:k?D?"auto":"none":void 0,...t.style},onFocusCapture:Qt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Qt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Qt(t.onPointerDownCapture,P.onPointerDownCapture)})});iO.displayName=QJ;var nZ="DismissableLayerBranch",iZ=x.forwardRef((t,e)=>{const n=x.useContext(nO),i=x.useRef(null),r=Xr(e,i);return x.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Zr.div,{...t,ref:r})});iZ.displayName=nZ;function rZ(t,e=globalThis==null?void 0:globalThis.document){const n=fd(t),i=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let c=function(){rO(eZ,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function sZ(t,e=globalThis==null?void 0:globalThis.document){const n=fd(t),i=x.useRef(!1);return x.useEffect(()=>{const r=s=>{s.target&&!i.current&&rO(tZ,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function $T(){const t=new CustomEvent(gE);document.dispatchEvent(t)}function rO(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?tO(r,s):r.dispatchEvent(s)}var B1=0;function oZ(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VT()),document.body.insertAdjacentElement("beforeend",t[1]??VT()),B1++,()=>{B1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),B1--}},[])}function VT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function WT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sO(...t){return e=>{let n=!1;const i=t.map(r=>{const s=WT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():WT(t[r],null)}}}}function aZ(...t){return x.useCallback(sO(...t),t)}function lZ(t){const e=uZ(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(dZ);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function uZ(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=fZ(r),l=hZ(s,r.props);return r.type!==x.Fragment&&(l.ref=i?sO(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cZ=Symbol("radix.slottable");function dZ(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cZ}function hZ(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function fZ(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mZ=pZ.reduce((t,e)=>{const n=lZ(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function GT(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}var U1="focusScope.autoFocusOnMount",$1="focusScope.autoFocusOnUnmount",qT={bubbles:!1,cancelable:!0},gZ="FocusScope",FS=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[l,c]=x.useState(null),d=GT(r),f=GT(s),m=x.useRef(null),v=aZ(e,S=>c(S)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let S=function(k){if(w.paused||!l)return;const D=k.target;l.contains(D)?m.current=D:lu(m.current,{select:!0})},_=function(k){if(w.paused||!l)return;const D=k.relatedTarget;D!==null&&(l.contains(D)||lu(m.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&lu(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const M=new MutationObserver(R);return l&&M.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),M.disconnect()}}},[i,l,w.paused]),x.useEffect(()=>{if(l){XT.add(w);const S=document.activeElement;if(!l.contains(S)){const R=new CustomEvent(U1,qT);l.addEventListener(U1,d),l.dispatchEvent(R),R.defaultPrevented||(vZ(CZ(oO(l)),{select:!0}),document.activeElement===S&&lu(l))}return()=>{l.removeEventListener(U1,d),setTimeout(()=>{const R=new CustomEvent($1,qT);l.addEventListener($1,f),l.dispatchEvent(R),R.defaultPrevented||lu(S??document.body,{select:!0}),l.removeEventListener($1,f),XT.remove(w)},0)}}},[l,d,f,w]);const C=x.useCallback(S=>{if(!n&&!i||w.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(_&&R){const M=S.currentTarget,[k,D]=bZ(M);k&&D?!S.shiftKey&&R===D?(S.preventDefault(),n&&lu(k,{select:!0})):S.shiftKey&&R===k&&(S.preventDefault(),n&&lu(D,{select:!0})):R===M&&S.preventDefault()}},[n,i,w.paused]);return g.jsx(mZ.div,{tabIndex:-1,...o,ref:v,onKeyDown:C})});FS.displayName=gZ;function vZ(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(lu(i,{select:e}),document.activeElement!==n)return}function bZ(t){const e=oO(t),n=YT(e,t),i=YT(e.reverse(),t);return[n,i]}function oO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YT(t,e){for(const n of t)if(!yZ(n,{upTo:e}))return n}function yZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wZ(t){return t instanceof HTMLInputElement&&"select"in t}function lu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wZ(t)&&e&&t.select()}}var XT=xZ();function xZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=KT(t,e),t.unshift(e)},remove(e){var n;t=KT(t,e),(n=t[0])==null||n.resume()}}}function KT(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function CZ(t){return t.filter(e=>e.tagName!=="A")}var Mu=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},EZ=ua[" useId ".trim().toString()]||(()=>{}),SZ=0;function RZ(t){const[e,n]=x.useState(EZ());return Mu(()=>{n(i=>i??String(SZ++))},[t]),e?`radix-${e}`:""}var TZ="Arrow",aO=x.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return g.jsx(Zr.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});aO.displayName=TZ;var _Z=aO;function AZ(t){const[e,n]=x.useState(void 0);return Mu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var HS="Popper",[lO,uO]=Ow(HS),[kZ,cO]=lO(HS),dO=t=>{const{__scopePopper:e,children:n}=t,[i,r]=x.useState(null);return g.jsx(kZ,{scope:e,anchor:i,onAnchorChange:r,children:n})};dO.displayName=HS;var hO="PopperAnchor",fO=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=cO(hO,n),o=x.useRef(null),l=Xr(e,o);return x.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:g.jsx(Zr.div,{...r,ref:l})});fO.displayName=hO;var BS="PopperContent",[MZ,DZ]=lO(BS),pO=x.forwardRef((t,e)=>{var Ce,Ee,ke,je,Ne,ye;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:C,...S}=t,_=cO(BS,n),[R,M]=x.useState(null),k=Xr(e,Oe=>M(Oe)),[D,P]=x.useState(null),O=AZ(D),j=(O==null?void 0:O.width)??0,B=(O==null?void 0:O.height)??0,W=i+(s!=="center"?"-"+s:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],Z=Q.length>0,ne={padding:z,boundary:Q.filter(LZ),altBoundary:Z},{refs:H,floatingStyles:Y,placement:U,isPositioned:J,middlewareData:X}=bw({strategy:"fixed",placement:W,whileElementsMounted:(...Oe)=>vw(...Oe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[yw({mainAxis:r+B,alignmentAxis:o}),c&&ww({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xw():void 0,...ne}),c&&Cw({...ne}),Ew({...ne,apply:({elements:Oe,rects:ze,availableWidth:Qe,availableHeight:gt})=>{const{width:bt,height:tn}=ze.reference,yt=Oe.floating.style;yt.setProperty("--radix-popper-available-width",`${Qe}px`),yt.setProperty("--radix-popper-available-height",`${gt}px`),yt.setProperty("--radix-popper-anchor-width",`${bt}px`),yt.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),D&&Rw({element:D,padding:l}),OZ({arrowWidth:j,arrowHeight:B}),v&&Sw({strategy:"referenceHidden",...ne})]}),[K,L]=vO(U),ee=fd(C);Mu(()=>{J&&(ee==null||ee())},[J,ee]);const ue=(Ce=X.arrow)==null?void 0:Ce.x,V=(Ee=X.arrow)==null?void 0:Ee.y,fe=((ke=X.arrow)==null?void 0:ke.centerOffset)!==0,[be,ve]=x.useState();return Mu(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(je=X.transformOrigin)==null?void 0:je.x,(Ne=X.transformOrigin)==null?void 0:Ne.y].join(" "),...((ye=X.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(MZ,{scope:n,placedSide:K,onArrowChange:P,arrowX:ue,arrowY:V,shouldHideArrow:fe,children:g.jsx(Zr.div,{"data-side":K,"data-align":L,...S,ref:k,style:{...S.style,animation:J?void 0:"none"}})})})});pO.displayName=BS;var mO="PopperArrow",NZ={top:"bottom",right:"left",bottom:"top",left:"right"},gO=x.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=DZ(mO,i),o=NZ[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(_Z,{...r,ref:n,style:{...r.style,display:"block"}})})});gO.displayName=mO;function LZ(t){return t!==null}var OZ=t=>({name:"transformOrigin",options:t,fn(e){var _,R,M;const{placement:n,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=vO(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((R=r.arrow)==null?void 0:R.x)??0)+l/2,w=(((M=r.arrow)==null?void 0:M.y)??0)+c/2;let C="",S="";return d==="bottom"?(C=o?m:`${v}px`,S=`${-c}px`):d==="top"?(C=o?m:`${v}px`,S=`${i.floating.height+c}px`):d==="right"?(C=`${-c}px`,S=o?m:`${w}px`):d==="left"&&(C=`${i.floating.width+c}px`,S=o?m:`${w}px`),{data:{x:C,y:S}}}});function vO(t){const[e,n="center"]=t.split("-");return[e,n]}var PZ=dO,jZ=fO,IZ=pO,zZ=gO,FZ="Portal",bO=x.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=x.useState(!1);Mu(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rw.createPortal(g.jsx(Zr.div,{...i,ref:e}),o):null});bO.displayName=FZ;function HZ(t,e){return x.useReducer((n,i)=>e[n][i]??n,t)}var uv=t=>{const{present:e,children:n}=t,i=BZ(e),r=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),s=Xr(i.ref,UZ(r));return typeof n=="function"||i.isPresent?x.cloneElement(r,{ref:s}):null};uv.displayName="Presence";function BZ(t){const[e,n]=x.useState(),i=x.useRef(null),r=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=HZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=By(i.current);s.current=l==="mounted"?d:"none"},[l]),Mu(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,w=By(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Mu(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const S=By(i.current).includes(w.animationName);if(w.target===e&&S&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(s.current=By(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function By(t){return(t==null?void 0:t.animationName)||"none"}function UZ(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $Z=ua[" useInsertionEffect ".trim().toString()]||Mu;function VZ({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=WZ({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=x.useCallback(f=>{var m;if(l){const v=GZ(f)?f(t):f;v!==t&&((m=o.current)==null||m.call(o,v))}else s(f)},[l,t,s,o]);return[c,d]}function WZ({defaultProp:t,onChange:e}){const[n,i]=x.useState(t),r=x.useRef(n),s=x.useRef(e);return $Z(()=>{s.current=e},[e]),x.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function GZ(t){return typeof t=="function"}var V1="rovingFocusGroup.onEntryFocus",qZ={bubbles:!1,cancelable:!0},cv="RovingFocusGroup",[vE,yO,YZ]=QL(cv),[XZ,wO]=Ow(cv,[YZ]),[KZ,JZ]=XZ(cv),xO=x.forwardRef((t,e)=>g.jsx(vE.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(vE.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(ZZ,{...t,ref:e})})}));xO.displayName=cv;var ZZ=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,v=x.useRef(null),w=Xr(e,v),C=eO(s),[S,_]=VZ({prop:o,defaultProp:l??null,onChange:c,caller:cv}),[R,M]=x.useState(!1),k=fd(d),D=yO(n),P=x.useRef(!1),[O,j]=x.useState(0);return x.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(V1,k),()=>B.removeEventListener(V1,k)},[k]),g.jsx(KZ,{scope:n,orientation:i,dir:C,loop:r,currentTabStopId:S,onItemFocus:x.useCallback(B=>_(B),[_]),onItemShiftTab:x.useCallback(()=>M(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:x.useCallback(()=>j(B=>B-1),[]),children:g.jsx(Zr.div,{tabIndex:R||O===0?-1:0,"data-orientation":i,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:Qt(t.onMouseDown,()=>{P.current=!0}),onFocus:Qt(t.onFocus,B=>{const W=!P.current;if(B.target===B.currentTarget&&W&&!R){const z=new CustomEvent(V1,qZ);if(B.currentTarget.dispatchEvent(z),!z.defaultPrevented){const Q=D().filter(U=>U.focusable),Z=Q.find(U=>U.active),ne=Q.find(U=>U.id===S),Y=[Z,ne,...Q].filter(Boolean).map(U=>U.ref.current);SO(Y,f)}}P.current=!1}),onBlur:Qt(t.onBlur,()=>M(!1))})})}),CO="RovingFocusGroupItem",EO=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...l}=t,c=RZ(),d=s||c,f=JZ(CO,n),m=f.currentTabStopId===d,v=yO(n),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:S}=f;return x.useEffect(()=>{if(i)return w(),()=>C()},[i,w,C]),g.jsx(vE.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:g.jsx(Zr.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Qt(t.onMouseDown,_=>{i?f.onItemFocus(d):_.preventDefault()}),onFocus:Qt(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Qt(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const R=tQ(_,f.orientation,f.dir);if(R!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=v().filter(D=>D.focusable).map(D=>D.ref.current);if(R==="last")k.reverse();else if(R==="prev"||R==="next"){R==="prev"&&k.reverse();const D=k.indexOf(_.currentTarget);k=f.loop?nQ(k,D+1):k.slice(D+1)}setTimeout(()=>SO(k))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:S!=null}):o})})});EO.displayName=CO;var QZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tQ(t,e,n){const i=eQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return QZ[i]}function SO(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function nQ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var iQ=xO,rQ=EO,bE=["Enter"," "],sQ=["ArrowDown","PageUp","Home"],RO=["ArrowUp","PageDown","End"],oQ=[...sQ,...RO],aQ={ltr:[...bE,"ArrowRight"],rtl:[...bE,"ArrowLeft"]},lQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dv="Menu",[zg,uQ,cQ]=QL(dv),[pd,TO]=Ow(dv,[cQ,uO,wO]),Pw=uO(),_O=wO(),[dQ,md]=pd(dv),[hQ,hv]=pd(dv),AO=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=t,l=Pw(e),[c,d]=x.useState(null),f=x.useRef(!1),m=fd(s),v=eO(r);return x.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),g.jsx(PZ,{...l,children:g.jsx(dQ,{scope:e,open:n,onOpenChange:m,content:c,onContentChange:d,children:g.jsx(hQ,{scope:e,onClose:x.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:v,modal:o,children:i})})})};AO.displayName=dv;var fQ="MenuAnchor",US=x.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Pw(n);return g.jsx(jZ,{...r,...i,ref:e})});US.displayName=fQ;var $S="MenuPortal",[pQ,kO]=pd($S,{forceMount:void 0}),MO=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,s=md($S,e);return g.jsx(pQ,{scope:e,forceMount:n,children:g.jsx(uv,{present:n||s.open,children:g.jsx(bO,{asChild:!0,container:r,children:i})})})};MO.displayName=$S;var Ss="MenuContent",[mQ,VS]=pd(Ss),DO=x.forwardRef((t,e)=>{const n=kO(Ss,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=md(Ss,t.__scopeMenu),o=hv(Ss,t.__scopeMenu);return g.jsx(zg.Provider,{scope:t.__scopeMenu,children:g.jsx(uv,{present:i||s.open,children:g.jsx(zg.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(gQ,{...r,ref:e}):g.jsx(vQ,{...r,ref:e})})})})}),gQ=x.forwardRef((t,e)=>{const n=md(Ss,t.__scopeMenu),i=x.useRef(null),r=Xr(e,i);return x.useEffect(()=>{const s=i.current;if(s)return aS(s)},[]),g.jsx(WS,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Qt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vQ=x.forwardRef((t,e)=>{const n=md(Ss,t.__scopeMenu);return g.jsx(WS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bQ=O0("MenuContent.ScrollLock"),WS=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:v,onDismiss:w,disableOutsideScroll:C,...S}=t,_=md(Ss,n),R=hv(Ss,n),M=Pw(n),k=_O(n),D=uQ(n),[P,O]=x.useState(null),j=x.useRef(null),B=Xr(e,j,_.onContentChange),W=x.useRef(0),z=x.useRef(""),Q=x.useRef(0),Z=x.useRef(null),ne=x.useRef("right"),H=x.useRef(0),Y=C?cw:x.Fragment,U=C?{as:bQ,allowPinchZoom:!0}:void 0,J=K=>{var Ce,Ee;const L=z.current+K,ee=D().filter(ke=>!ke.disabled),ue=document.activeElement,V=(Ce=ee.find(ke=>ke.ref.current===ue))==null?void 0:Ce.textValue,fe=ee.map(ke=>ke.textValue),be=MQ(fe,L,V),ve=(Ee=ee.find(ke=>ke.textValue===be))==null?void 0:Ee.ref.current;(function ke(je){z.current=je,window.clearTimeout(W.current),je!==""&&(W.current=window.setTimeout(()=>ke(""),1e3))})(L),ve&&setTimeout(()=>ve.focus())};x.useEffect(()=>()=>window.clearTimeout(W.current),[]),oZ();const X=x.useCallback(K=>{var ee,ue;return ne.current===((ee=Z.current)==null?void 0:ee.side)&&NQ(K,(ue=Z.current)==null?void 0:ue.area)},[]);return g.jsx(mQ,{scope:n,searchRef:z,onItemEnter:x.useCallback(K=>{X(K)&&K.preventDefault()},[X]),onItemLeave:x.useCallback(K=>{var L;X(K)||((L=j.current)==null||L.focus(),O(null))},[X]),onTriggerLeave:x.useCallback(K=>{X(K)&&K.preventDefault()},[X]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:x.useCallback(K=>{Z.current=K},[]),children:g.jsx(Y,{...U,children:g.jsx(FS,{asChild:!0,trapped:r,onMountAutoFocus:Qt(s,K=>{var L;K.preventDefault(),(L=j.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(iO,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:v,onDismiss:w,children:g.jsx(iQ,{asChild:!0,...k,dir:R.dir,orientation:"vertical",loop:i,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:Qt(c,K=>{R.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(IZ,{role:"menu","aria-orientation":"vertical","data-state":qO(_.open),"data-radix-menu-content":"",dir:R.dir,...M,...S,ref:B,style:{outline:"none",...S.style},onKeyDown:Qt(S.onKeyDown,K=>{const ee=K.target.closest("[data-radix-menu-content]")===K.currentTarget,ue=K.ctrlKey||K.altKey||K.metaKey,V=K.key.length===1;ee&&(K.key==="Tab"&&K.preventDefault(),!ue&&V&&J(K.key));const fe=j.current;if(K.target!==fe||!oQ.includes(K.key))return;K.preventDefault();const ve=D().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);RO.includes(K.key)&&ve.reverse(),AQ(ve)}),onBlur:Qt(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(W.current),z.current="")}),onPointerMove:Qt(t.onPointerMove,Fg(K=>{const L=K.target,ee=H.current!==K.clientX;if(K.currentTarget.contains(L)&&ee){const ue=K.clientX>H.current?"right":"left";ne.current=ue,H.current=K.clientX}}))})})})})})})});DO.displayName=Ss;var yQ="MenuGroup",GS=x.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return g.jsx(Zr.div,{role:"group",...i,ref:e})});GS.displayName=yQ;var wQ="MenuLabel",NO=x.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return g.jsx(Zr.div,{...i,ref:e})});NO.displayName=wQ;var P0="MenuItem",JT="menu.itemSelect",jw=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,s=x.useRef(null),o=hv(P0,t.__scopeMenu),l=VS(P0,t.__scopeMenu),c=Xr(e,s),d=x.useRef(!1),f=()=>{const m=s.current;if(!n&&m){const v=new CustomEvent(JT,{bubbles:!0,cancelable:!0});m.addEventListener(JT,w=>i==null?void 0:i(w),{once:!0}),tO(m,v),v.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(LO,{...r,ref:c,disabled:n,onClick:Qt(t.onClick,f),onPointerDown:m=>{var v;(v=t.onPointerDown)==null||v.call(t,m),d.current=!0},onPointerUp:Qt(t.onPointerUp,m=>{var v;d.current||(v=m.currentTarget)==null||v.click()}),onKeyDown:Qt(t.onKeyDown,m=>{const v=l.searchRef.current!=="";n||v&&m.key===" "||bE.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});jw.displayName=P0;var LO=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...s}=t,o=VS(P0,n),l=_O(n),c=x.useRef(null),d=Xr(e,c),[f,m]=x.useState(!1),[v,w]=x.useState("");return x.useEffect(()=>{const C=c.current;C&&w((C.textContent??"").trim())},[s.children]),g.jsx(zg.ItemSlot,{scope:n,disabled:i,textValue:r??v,children:g.jsx(rQ,{asChild:!0,...l,focusable:!i,children:g.jsx(Zr.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:d,onPointerMove:Qt(t.onPointerMove,Fg(C=>{i?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qt(t.onPointerLeave,Fg(C=>o.onItemLeave(C))),onFocus:Qt(t.onFocus,()=>m(!0)),onBlur:Qt(t.onBlur,()=>m(!1))})})})}),xQ="MenuCheckboxItem",OO=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return g.jsx(FO,{scope:t.__scopeMenu,checked:n,children:g.jsx(jw,{role:"menuitemcheckbox","aria-checked":j0(n)?"mixed":n,...r,ref:e,"data-state":YS(n),onSelect:Qt(r.onSelect,()=>i==null?void 0:i(j0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OO.displayName=xQ;var PO="MenuRadioGroup",[CQ,EQ]=pd(PO,{value:void 0,onValueChange:()=>{}}),jO=x.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,s=fd(i);return g.jsx(CQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(GS,{...r,ref:e})})});jO.displayName=PO;var IO="MenuRadioItem",zO=x.forwardRef((t,e)=>{const{value:n,...i}=t,r=EQ(IO,t.__scopeMenu),s=n===r.value;return g.jsx(FO,{scope:t.__scopeMenu,checked:s,children:g.jsx(jw,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":YS(s),onSelect:Qt(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});zO.displayName=IO;var qS="MenuItemIndicator",[FO,SQ]=pd(qS,{checked:!1}),HO=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,s=SQ(qS,n);return g.jsx(uv,{present:i||j0(s.checked)||s.checked===!0,children:g.jsx(Zr.span,{...r,ref:e,"data-state":YS(s.checked)})})});HO.displayName=qS;var RQ="MenuSeparator",BO=x.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return g.jsx(Zr.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});BO.displayName=RQ;var TQ="MenuArrow",UO=x.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Pw(n);return g.jsx(zZ,{...r,...i,ref:e})});UO.displayName=TQ;var _Q="MenuSub",[qme,$O]=pd(_Q),og="MenuSubTrigger",VO=x.forwardRef((t,e)=>{const n=md(og,t.__scopeMenu),i=hv(og,t.__scopeMenu),r=$O(og,t.__scopeMenu),s=VS(og,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),g.jsx(US,{asChild:!0,...d,children:g.jsx(LO,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":qO(n.open),...t,ref:zS(e,r.onTriggerChange),onClick:m=>{var v;(v=t.onClick)==null||v.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Qt(t.onPointerMove,Fg(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Qt(t.onPointerLeave,Fg(m=>{var w,C;f();const v=(w=n.content)==null?void 0:w.getBoundingClientRect();if(v){const S=(C=n.content)==null?void 0:C.dataset.side,_=S==="right",R=_?-5:5,M=v[_?"left":"right"],k=v[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:M,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:M,y:v.bottom}],side:S}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Qt(t.onKeyDown,m=>{var w;const v=s.searchRef.current!=="";t.disabled||v&&m.key===" "||aQ[i.dir].includes(m.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),m.preventDefault())})})})});VO.displayName=og;var WO="MenuSubContent",GO=x.forwardRef((t,e)=>{const n=kO(Ss,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=md(Ss,t.__scopeMenu),o=hv(Ss,t.__scopeMenu),l=$O(WO,t.__scopeMenu),c=x.useRef(null),d=Xr(e,c);return g.jsx(zg.Provider,{scope:t.__scopeMenu,children:g.jsx(uv,{present:i||s.open,children:g.jsx(zg.Slot,{scope:t.__scopeMenu,children:g.jsx(WS,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Qt(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Qt(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Qt(t.onKeyDown,f=>{var w;const m=f.currentTarget.contains(f.target),v=lQ[o.dir].includes(f.key);m&&v&&(s.onOpenChange(!1),(w=l.trigger)==null||w.focus(),f.preventDefault())})})})})})});GO.displayName=WO;function qO(t){return t?"open":"closed"}function j0(t){return t==="indeterminate"}function YS(t){return j0(t)?"indeterminate":t?"checked":"unchecked"}function AQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kQ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function MQ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=kQ(t,Math.max(s,0));r.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function DQ(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,v=c.y;f>i!=v>i&&n<(m-d)*(i-f)/(v-f)+d&&(r=!r)}return r}function NQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return DQ(n,e)}function Fg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var LQ=AO,OQ=US,PQ=MO,jQ=DO,IQ=GS,zQ=NO,FQ=jw,HQ=OO,BQ=jO,UQ=zO,$Q=HO,VQ=BO,WQ=UO,GQ=VO,qQ=GO,YQ=ua[" useId ".trim().toString()]||(()=>{}),XQ=0;function ZT(t){const[e,n]=x.useState(YQ());return ZL(()=>{n(i=>i??String(XQ++))},[t]),t||(e?`radix-${e}`:"")}var Iw="DropdownMenu",[KQ,Yme]=MJ(Iw,[TO]),Zi=TO(),[JQ,YO]=KQ(Iw),XO=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Zi(e),d=x.useRef(null),[f,m]=LJ({prop:r,defaultProp:s??!1,onChange:o,caller:Iw});return g.jsx(JQ,{scope:e,triggerId:ZT(),triggerRef:d,contentId:ZT(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(v=>!v),[m]),modal:l,children:g.jsx(LQ,{...c,open:f,onOpenChange:m,dir:i,modal:l,children:n})})};XO.displayName=Iw;var KO="DropdownMenuTrigger",JO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,s=YO(KO,n),o=Zi(n);return g.jsx(OQ,{asChild:!0,...o,children:g.jsx($J.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:JL(e,s.triggerRef),onPointerDown:L0(t.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:L0(t.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JO.displayName=KO;var ZQ="DropdownMenuPortal",ZO=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Zi(e);return g.jsx(PQ,{...i,...n})};ZO.displayName=ZQ;var QO="DropdownMenuContent",eP=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=YO(QO,n),s=Zi(n),o=x.useRef(!1);return g.jsx(jQ,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:L0(t.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:L0(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!r.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eP.displayName=QO;var QQ="DropdownMenuGroup",eee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(IQ,{...r,...i,ref:e})});eee.displayName=QQ;var tee="DropdownMenuLabel",nee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(zQ,{...r,...i,ref:e})});nee.displayName=tee;var iee="DropdownMenuItem",tP=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(FQ,{...r,...i,ref:e})});tP.displayName=iee;var ree="DropdownMenuCheckboxItem",see=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(HQ,{...r,...i,ref:e})});see.displayName=ree;var oee="DropdownMenuRadioGroup",aee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(BQ,{...r,...i,ref:e})});aee.displayName=oee;var lee="DropdownMenuRadioItem",uee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(UQ,{...r,...i,ref:e})});uee.displayName=lee;var cee="DropdownMenuItemIndicator",dee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx($Q,{...r,...i,ref:e})});dee.displayName=cee;var hee="DropdownMenuSeparator",fee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(VQ,{...r,...i,ref:e})});fee.displayName=hee;var pee="DropdownMenuArrow",mee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(WQ,{...r,...i,ref:e})});mee.displayName=pee;var gee="DropdownMenuSubTrigger",vee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(GQ,{...r,...i,ref:e})});vee.displayName=gee;var bee="DropdownMenuSubContent",yee=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Zi(n);return g.jsx(qQ,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yee.displayName=bee;var wee=XO,xee=JO,Cee=ZO,Eee=eP,See=tP;function Ree({...t}){return g.jsx(wee,{"data-slot":"dropdown-menu",...t})}function Tee({...t}){return g.jsx(xee,{"data-slot":"dropdown-menu-trigger",...t})}function _ee({className:t,sideOffset:e=4,...n}){return g.jsx(Cee,{children:g.jsx(Eee,{"data-slot":"dropdown-menu-content",sideOffset:e,className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function QT({className:t,inset:e,variant:n="default",...i}){return g.jsx(See,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:_t("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}const Aee=()=>{const{dataMemoryTable:t}=Kr();if(!t)return;const[e,n]=x.useState(null),i=r=>{const{constantsSize:s,asmList:o=[]}=t||{};if(!t.program||t.program.length===0)return;let l="",c="",d="text/plain;charset=utf-8";if(r==="hex"){const w=[];for(let C=0;C<t.program.length;C+=4)for(let S=3;S>=0;S--){const _=C+S,R=t.program[_]||"00000000",M=en(R).padStart(2,"0").toUpperCase();w.push(M)}l=w.join(`
`),c="program_memory.hex"}else if(r==="mif"){const w=(t.program.length-(s||0))/4,C=t.program.length/4,R=`-- RISC-V dataMemoryTable.program memory (word addressed)
WIDTH=32;
DEPTH=${(D=>D<=256?256:2**Math.ceil(Math.log2(D)))(C)};
ADDRESS_RADIX=UNS;
DATA_RADIX=HEX;
CONTENT BEGIN
`,M=[];for(let D=0;D<t.program.length;D+=4){const P=D/4;P===w&&M.push(`
  -- CONSTANTS`);let O="";for(let B=3;B>=0;B--){const W=D+B,z=t.program[W]||"00000000",Q=en(z).padStart(2,"0").toUpperCase();O+=Q}const j=D.toString(16).toUpperCase().padStart(8,"0");P<o.length&&o[P]?M.push(`	${P} : ${O}; -- (PC 0x${j}) ${o[P]}`):M.push(`	${P} : ${O};`)}l=R+M.join(`
`)+`
END;`,c="memory.mif",d="application/octet-stream"}const f=new Blob([l],{type:d}),m=URL.createObjectURL(f);n(m);const v=document.createElement("a");v.href=m,v.download=c,v.click(),URL.revokeObjectURL(m),n(null)};return g.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[g.jsx("input",{type:"file",id:"fileInputExportMemory",accept:".txt",className:"hidden"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(Ree,{children:[g.jsx(Tee,{asChild:!0,children:g.jsx(Jr,{variant:"outline",size:"icon",id:"exportMemoryBtn",children:g.jsx(dw,{strokeWidth:1})})}),g.jsxs(_ee,{children:[g.jsx(QT,{onClick:()=>i("hex"),children:"Verilog (.hex)"}),g.jsx(QT,{onClick:()=>i("mif"),children:".mif"})]})]}),g.jsx("p",{className:"text-gray",children:"Memory"})]})]})};function kee(){const{switchAutoFocusOnNewLine:t,setSwitchAutoFocusOnNewLine:e}=zf(),n=i=>{e(i)};return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(XL,{"data-slot":"switch",checked:t,onCheckedChange:n,className:"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",children:g.jsx(KL,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})}),g.jsx(S0,{htmlFor:"airplane-mode",className:"text-md",children:"Move focus to each new program line automatically."})]})}const e_=()=>{const{operation:t}=lt();return g.jsxs("div",{className:"mt-1 section-container !gap-8",id:"settings-section",children:[g.jsx("div",{hidden:t!=="uploadMemory",children:g.jsx(xJ,{})}),g.jsx("div",{hidden:t!=="step",children:g.jsx(CJ,{})}),g.jsxs("div",{className:"flex flex-col gap-2",id:"export-data",children:[g.jsx("p",{children:"Export data"}),g.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[g.jsx(kJ,{}),g.jsx(Aee,{})]})]}),g.jsxs("div",{id:"custom-options",children:[g.jsx(AJ,{}),g.jsx(kee,{})]})]})},Mee=()=>{const{setLocatePc:t}=Kr();return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Jr,{variant:"outline",size:"icon",onClick:()=>t(!0),children:g.jsx(N7,{size:20})}),g.jsx("p",{className:"font-medium",children:"Locate PC"})]})},Dee=()=>{const{setSearchInRegisters:t}=Nf();return g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("p",{className:"font-medium",children:"Search in registers table"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute top-1/2 left-[0.6rem] -translate-y-1/2 text-gray-400",children:g.jsx(yD,{size:20})}),g.jsx("input",{type:"text",placeholder:"e.g x17 or 12 or 1100 or 0xC",onChange:e=>t(e.target.value),className:"p-2 pl-[2.3rem] rounded-lg border border-gray-400 w-full bg-transparent"})]})]})},Nee=()=>{const{setSearchInMemory:t}=Kr();return g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("p",{className:"font-medium",children:"Search in memory table"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute top-1/2 left-[0.6rem] -translate-y-1/2 text-gray-400",children:g.jsx(dw,{size:20})}),g.jsx("input",{type:"text",placeholder:"e.g 1234",onChange:e=>t(e.target.value),className:"p-2 pl-[2.3rem] rounded-lg border border-gray-400 w-full bg-transparent"})]})]})},Lee=()=>g.jsx("div",{className:"w-full mt-1 section-container",children:g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx(Mee,{}),g.jsx(Dee,{}),g.jsx(Nee,{}),g.jsx("p",{className:"mt-3 text-gray-500",children:"If you have any question, click on the information icon."})]})});function Hg({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:_t("bg-transparent flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Oee({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:_t("px-6",t),...e})}function Pee(t){return Object.prototype.toString.call(t)==="[object Object]"}function t_(t){return Pee(t)||Array.isArray(t)}function jee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function XS(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;const r=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return r!==s?!1:n.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!t_(l)||!t_(c)?l===c:XS(l,c)})}function n_(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Iee(t,e){if(t.length!==e.length)return!1;const n=n_(t),i=n_(e);return n.every((r,s)=>{const o=i[s];return XS(r,o)})}function KS(t){return typeof t=="number"}function yE(t){return typeof t=="string"}function zw(t){return typeof t=="boolean"}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ln(t){return Math.abs(t)}function JS(t){return Math.sign(t)}function pg(t,e){return Ln(t-e)}function zee(t,e){if(t===0||e===0||Ln(t)<=Ln(e))return 0;const n=pg(Ln(t),Ln(e));return Ln(n/t)}function Fee(t){return Math.round(t*100)/100}function Bg(t){return Ug(t).map(Number)}function ao(t){return t[fv(t)]}function fv(t){return Math.max(0,t.length-1)}function ZS(t,e){return e===fv(t)}function r_(t,e=0){return Array.from(Array(t),(n,i)=>e+i)}function Ug(t){return Object.keys(t)}function nP(t,e){return[t,e].reduce((n,i)=>(Ug(i).forEach(r=>{const s=n[r],o=i[r],l=i_(s)&&i_(o);n[r]=l?nP(s,o):o}),n),{})}function wE(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Hee(t,e){const n={start:i,center:r,end:s};function i(){return 0}function r(c){return s(c)/2}function s(c){return e-c}function o(c,d){return yE(t)?n[t](c):t(e,c,d)}return{measure:o}}function $g(){let t=[];function e(r,s,o,l={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(s,o,l),c=()=>r.removeEventListener(s,o,l);else{const d=r;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),i}function n(){t=t.filter(r=>r())}const i={add:e,clear:n};return i}function Bee(t,e,n,i){const r=$g(),s=1e3/60;let o=null,l=0,c=0;function d(){r.add(t,"visibilitychange",()=>{t.hidden&&C()})}function f(){w(),r.clear()}function m(_){if(!c)return;o||(o=_,n(),n());const R=_-o;for(o=_,l+=R;l>=s;)n(),l-=s;const M=l/s;i(M),c&&(c=e.requestAnimationFrame(m))}function v(){c||(c=e.requestAnimationFrame(m))}function w(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function C(){o=null,l=0}return{init:d,destroy:f,start:v,stop:w,update:n,render:i}}function Uee(t,e){const n=e==="rtl",i=t==="y",r=i?"y":"x",s=i?"x":"y",o=!i&&n?-1:1,l=f(),c=m();function d(C){const{height:S,width:_}=C;return i?S:_}function f(){return i?"top":n?"right":"left"}function m(){return i?"bottom":n?"left":"right"}function v(C){return C*o}return{scroll:r,cross:s,startEdge:l,endEdge:c,measureSize:d,direction:v}}function ud(t=0,e=0){const n=Ln(t-e);function i(d){return d<t}function r(d){return d>e}function s(d){return i(d)||r(d)}function o(d){return s(d)?i(d)?t:e:d}function l(d){return n?d-n*Math.ceil((d-e)/n):d}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:r,reachedMin:i,removeOffset:l}}function iP(t,e,n){const{constrain:i}=ud(0,t),r=t+1;let s=o(e);function o(v){return n?Ln((r+v)%r):i(v)}function l(){return s}function c(v){return s=o(v),m}function d(v){return f().set(l()+v)}function f(){return iP(t,l(),n)}const m={get:l,set:c,add:d,clone:f};return m}function $ee(t,e,n,i,r,s,o,l,c,d,f,m,v,w,C,S,_,R,M){const{cross:k,direction:D}=t,P=["INPUT","SELECT","TEXTAREA"],O={passive:!1},j=$g(),B=$g(),W=ud(50,225).constrain(w.measure(20)),z={mouse:300,touch:400},Q={mouse:500,touch:600},Z=C?43:25;let ne=!1,H=0,Y=0,U=!1,J=!1,X=!1,K=!1;function L(ye){if(!M)return;function Oe(Qe){(zw(M)||M(ye,Qe))&&ve(Qe)}const ze=e;j.add(ze,"dragstart",Qe=>Qe.preventDefault(),O).add(ze,"touchmove",()=>{},O).add(ze,"touchend",()=>{}).add(ze,"touchstart",Oe).add(ze,"mousedown",Oe).add(ze,"touchcancel",Ee).add(ze,"contextmenu",Ee).add(ze,"click",ke,!0)}function ee(){j.clear(),B.clear()}function ue(){const ye=K?n:e;B.add(ye,"touchmove",Ce,O).add(ye,"touchend",Ee).add(ye,"mousemove",Ce,O).add(ye,"mouseup",Ee)}function V(ye){const Oe=ye.nodeName||"";return P.includes(Oe)}function fe(){return(C?Q:z)[K?"mouse":"touch"]}function be(ye,Oe){const ze=m.add(JS(ye)*-1),Qe=f.byDistance(ye,!C).distance;return C||Ln(ye)<W?Qe:_&&Oe?Qe*.5:f.byIndex(ze.get(),0).distance}function ve(ye){const Oe=wE(ye,i);K=Oe,X=C&&Oe&&!ye.buttons&&ne,ne=pg(r.get(),o.get())>=2,!(Oe&&ye.button!==0)&&(V(ye.target)||(U=!0,s.pointerDown(ye),d.useFriction(0).useDuration(0),r.set(o),ue(),H=s.readPoint(ye),Y=s.readPoint(ye,k),v.emit("pointerDown")))}function Ce(ye){if(!wE(ye,i)&&ye.touches.length>=2)return Ee(ye);const ze=s.readPoint(ye),Qe=s.readPoint(ye,k),gt=pg(ze,H),bt=pg(Qe,Y);if(!J&&!K&&(!ye.cancelable||(J=gt>bt,!J)))return Ee(ye);const tn=s.pointerMove(ye);gt>S&&(X=!0),d.useFriction(.3).useDuration(.75),l.start(),r.add(D(tn)),ye.preventDefault()}function Ee(ye){const ze=f.byDistance(0,!1).index!==m.get(),Qe=s.pointerUp(ye)*fe(),gt=be(D(Qe),ze),bt=zee(Qe,gt),tn=Z-10*bt,yt=R+bt/50;J=!1,U=!1,B.clear(),d.useDuration(tn).useFriction(yt),c.distance(gt,!C),K=!1,v.emit("pointerUp")}function ke(ye){X&&(ye.stopPropagation(),ye.preventDefault(),X=!1)}function je(){return U}return{init:L,destroy:ee,pointerDown:je}}function Vee(t,e){let i,r;function s(m){return m.timeStamp}function o(m,v){const C=`client${(v||t.scroll)==="x"?"X":"Y"}`;return(wE(m,e)?m:m.touches[0])[C]}function l(m){return i=m,r=m,o(m)}function c(m){const v=o(m)-o(r),w=s(m)-s(i)>170;return r=m,w&&(i=m),v}function d(m){if(!i||!r)return 0;const v=o(r)-o(i),w=s(m)-s(i),C=s(m)-s(r)>170,S=v/w;return w&&!C&&Ln(S)>.1?S:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function Wee(){function t(n){const{offsetTop:i,offsetLeft:r,offsetWidth:s,offsetHeight:o}=n;return{top:i,right:r+s,bottom:i+o,left:r,width:s,height:o}}return{measure:t}}function Gee(t){function e(i){return t*(i/100)}return{measure:e}}function qee(t,e,n,i,r,s,o){const l=[t].concat(i);let c,d,f=[],m=!1;function v(_){return r.measureSize(o.measure(_))}function w(_){if(!s)return;d=v(t),f=i.map(v);function R(M){for(const k of M){if(m)return;const D=k.target===t,P=i.indexOf(k.target),O=D?d:f[P],j=v(D?t:i[P]);if(Ln(j-O)>=.5){_.reInit(),e.emit("resize");break}}}c=new ResizeObserver(M=>{(zw(s)||s(_,M))&&R(M)}),n.requestAnimationFrame(()=>{l.forEach(M=>c.observe(M))})}function C(){m=!0,c&&c.disconnect()}return{init:w,destroy:C}}function Yee(t,e,n,i,r,s){let o=0,l=0,c=r,d=s,f=t.get(),m=0;function v(){const O=i.get()-t.get(),j=!c;let B=0;return j?(o=0,n.set(i),t.set(i),B=O):(n.set(t),o+=O/c,o*=d,f+=o,t.add(o),B=f-m),l=JS(B),m=f,P}function w(){const O=i.get()-e.get();return Ln(O)<.001}function C(){return c}function S(){return l}function _(){return o}function R(){return k(r)}function M(){return D(s)}function k(O){return c=O,P}function D(O){return d=O,P}const P={direction:S,duration:C,velocity:_,seek:v,settled:w,useBaseFriction:M,useBaseDuration:R,useFriction:D,useDuration:k};return P}function Xee(t,e,n,i,r){const s=r.measure(10),o=r.measure(50),l=ud(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function f(w){if(!d())return;const C=t.reachedMin(e.get())?"min":"max",S=Ln(t[C]-e.get()),_=n.get()-e.get(),R=l.constrain(S/o);n.subtract(_*R),!w&&Ln(_)<s&&(n.set(t.constrain(n.get())),i.useDuration(25).useBaseFriction())}function m(w){c=!w}return{shouldConstrain:d,constrain:f,toggleActive:m}}function Kee(t,e,n,i,r){const s=ud(-e+t,0),o=m(),l=f(),c=v();function d(C,S){return pg(C,S)<=1}function f(){const C=o[0],S=ao(o),_=o.lastIndexOf(C),R=o.indexOf(S)+1;return ud(_,R)}function m(){return n.map((C,S)=>{const{min:_,max:R}=s,M=s.constrain(C),k=!S,D=ZS(n,S);return k?R:D||d(_,M)?_:d(R,M)?R:M}).map(C=>parseFloat(C.toFixed(3)))}function v(){if(e<=t+r)return[s.max];if(i==="keepSnaps")return o;const{min:C,max:S}=l;return o.slice(C,S)}return{snapsContained:c,scrollContainLimit:l}}function Jee(t,e,n){const i=e[0],r=n?i-t:ao(e);return{limit:ud(r,i)}}function Zee(t,e,n,i){const s=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=ud(s,o);function d(v){return v===1?c(n.get()):v===-1?l(n.get()):!1}function f(v){if(!d(v))return;const w=t*(v*-1);i.forEach(C=>C.add(w))}return{loop:f}}function Qee(t){const{max:e,length:n}=t;function i(s){const o=s-e;return n?o/-n:0}return{get:i}}function ete(t,e,n,i,r){const{startEdge:s,endEdge:o}=t,{groupSlides:l}=r,c=m().map(e.measure),d=v(),f=w();function m(){return l(i).map(S=>ao(S)[o]-S[0][s]).map(Ln)}function v(){return i.map(S=>n[s]-S[s]).map(S=>-Ln(S))}function w(){return l(d).map(S=>S[0]).map((S,_)=>S+c[_])}return{snaps:d,snapsAligned:f}}function tte(t,e,n,i,r,s){const{groupSlides:o}=r,{min:l,max:c}=i,d=f();function f(){const v=o(s),w=!t||e==="keepSnaps";return n.length===1?[s]:w?v:v.slice(l,c).map((C,S,_)=>{const R=!S,M=ZS(_,S);if(R){const k=ao(_[0])+1;return r_(k)}if(M){const k=fv(s)-ao(_)[0]+1;return r_(k,ao(_)[0])}return C})}return{slideRegistry:d}}function nte(t,e,n,i,r){const{reachedAny:s,removeOffset:o,constrain:l}=i;function c(C){return C.concat().sort((S,_)=>Ln(S)-Ln(_))[0]}function d(C){const S=t?o(C):l(C),_=e.map((M,k)=>({diff:f(M-S,0),index:k})).sort((M,k)=>Ln(M.diff)-Ln(k.diff)),{index:R}=_[0];return{index:R,distance:S}}function f(C,S){const _=[C,C+n,C-n];if(!t)return C;if(!S)return c(_);const R=_.filter(M=>JS(M)===S);return R.length?c(R):ao(_)-n}function m(C,S){const _=e[C]-r.get(),R=f(_,S);return{index:C,distance:R}}function v(C,S){const _=r.get()+C,{index:R,distance:M}=d(_),k=!t&&s(_);if(!S||k)return{index:R,distance:C};const D=e[R]-M,P=C+f(D,0);return{index:R,distance:P}}return{byDistance:v,byIndex:m,shortcut:f}}function ite(t,e,n,i,r,s,o){function l(m){const v=m.distance,w=m.index!==e.get();s.add(v),v&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),w&&(n.set(e.get()),e.set(m.index),o.emit("select"))}function c(m,v){const w=r.byDistance(m,v);l(w)}function d(m,v){const w=e.clone().set(m),C=r.byIndex(w.get(),v);l(C)}return{distance:c,index:d}}function rte(t,e,n,i,r,s,o,l){const c={passive:!0,capture:!0};let d=0;function f(w){if(!l)return;function C(S){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const M=n.findIndex(k=>k.includes(S));KS(M)&&(r.useDuration(0),i.index(M,0),o.emit("slideFocus"))}s.add(document,"keydown",m,!1),e.forEach((S,_)=>{s.add(S,"focus",R=>{(zw(l)||l(w,R))&&C(_)},c)})}function m(w){w.code==="Tab"&&(d=new Date().getTime())}return{init:f}}function ag(t){let e=t;function n(){return e}function i(c){e=o(c)}function r(c){e+=o(c)}function s(c){e-=o(c)}function o(c){return KS(c)?c:c.get()}return{get:n,set:i,add:r,subtract:s}}function rP(t,e){const n=t.scroll==="x"?o:l,i=e.style;let r=null,s=!1;function o(v){return`translate3d(${v}px,0px,0px)`}function l(v){return`translate3d(0px,${v}px,0px)`}function c(v){if(s)return;const w=Fee(t.direction(v));w!==r&&(i.transform=n(w),r=w)}function d(v){s=!v}function f(){s||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:f,to:c,toggleActive:d}}function ste(t,e,n,i,r,s,o,l,c){const f=Bg(r),m=Bg(r).reverse(),v=R().concat(M());function w(j,B){return j.reduce((W,z)=>W-r[z],B)}function C(j,B){return j.reduce((W,z)=>w(W,B)>0?W.concat([z]):W,[])}function S(j){return s.map((B,W)=>({start:B-i[W]+.5+j,end:B+e-.5+j}))}function _(j,B,W){const z=S(B);return j.map(Q=>{const Z=W?0:-n,ne=W?n:0,H=W?"end":"start",Y=z[Q][H];return{index:Q,loopPoint:Y,slideLocation:ag(-1),translate:rP(t,c[Q]),target:()=>l.get()>Y?Z:ne}})}function R(){const j=o[0],B=C(m,j);return _(B,n,!1)}function M(){const j=e-o[0]-1,B=C(f,j);return _(B,-n,!0)}function k(){return v.every(({index:j})=>{const B=f.filter(W=>W!==j);return w(B,e)<=.1})}function D(){v.forEach(j=>{const{target:B,translate:W,slideLocation:z}=j,Q=B();Q!==z.get()&&(W.to(Q),z.set(Q))})}function P(){v.forEach(j=>j.translate.clear())}return{canLoop:k,clear:P,loop:D,loopPoints:v}}function ote(t,e,n){let i,r=!1;function s(c){if(!n)return;function d(f){for(const m of f)if(m.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(f=>{r||(zw(n)||n(c,f))&&d(f)}),i.observe(t,{childList:!0})}function o(){i&&i.disconnect(),r=!0}return{init:s,destroy:o}}function ate(t,e,n,i){const r={};let s=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(C=>{c||(C.forEach(S=>{const _=e.indexOf(S.target);r[_]=S}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(C=>l.observe(C))}function f(){l&&l.disconnect(),c=!0}function m(C){return Ug(r).reduce((S,_)=>{const R=parseInt(_),{isIntersecting:M}=r[R];return(C&&M||!C&&!M)&&S.push(R),S},[])}function v(C=!0){if(C&&s)return s;if(!C&&o)return o;const S=m(C);return C&&(s=S),C||(o=S),S}return{init:d,destroy:f,get:v}}function lte(t,e,n,i,r,s){const{measureSize:o,startEdge:l,endEdge:c}=t,d=n[0]&&r,f=C(),m=S(),v=n.map(o),w=_();function C(){if(!d)return 0;const M=n[0];return Ln(e[l]-M[l])}function S(){if(!d)return 0;const M=s.getComputedStyle(ao(i));return parseFloat(M.getPropertyValue(`margin-${c}`))}function _(){return n.map((M,k,D)=>{const P=!k,O=ZS(D,k);return P?v[k]+f:O?v[k]+m:D[k+1][l]-M[l]}).map(Ln)}return{slideSizes:v,slideSizesWithGaps:w,startGap:f,endGap:m}}function ute(t,e,n,i,r,s,o,l,c){const{startEdge:d,endEdge:f,direction:m}=t,v=KS(n);function w(R,M){return Bg(R).filter(k=>k%M===0).map(k=>R.slice(k,k+M))}function C(R){return R.length?Bg(R).reduce((M,k,D)=>{const P=ao(M)||0,O=P===0,j=k===fv(R),B=r[d]-s[P][d],W=r[d]-s[k][f],z=!i&&O?m(o):0,Q=!i&&j?m(l):0,Z=Ln(W-Q-(B+z));return D&&Z>e+c&&M.push(k),j&&M.push(R.length),M},[]).map((M,k,D)=>{const P=Math.max(D[k-1]||0);return R.slice(P,M)}):[]}function S(R){return v?w(R,n):C(R)}return{groupSlides:S}}function cte(t,e,n,i,r,s,o){const{align:l,axis:c,direction:d,startIndex:f,loop:m,duration:v,dragFree:w,dragThreshold:C,inViewThreshold:S,slidesToScroll:_,skipSnaps:R,containScroll:M,watchResize:k,watchSlides:D,watchDrag:P,watchFocus:O}=s,j=2,B=Wee(),W=B.measure(e),z=n.map(B.measure),Q=Uee(c,d),Z=Q.measureSize(W),ne=Gee(Z),H=Hee(l,Z),Y=!m&&!!M,U=m||!!M,{slideSizes:J,slideSizesWithGaps:X,startGap:K,endGap:L}=lte(Q,W,z,n,U,r),ee=ute(Q,Z,_,m,W,z,K,L,j),{snaps:ue,snapsAligned:V}=ete(Q,H,W,z,ee),fe=-ao(ue)+ao(X),{snapsContained:be,scrollContainLimit:ve}=Kee(Z,fe,V,M,j),Ce=Y?be:V,{limit:Ee}=Jee(fe,Ce,m),ke=iP(fv(Ce),f,m),je=ke.clone(),Ne=Bg(n),ye=({dragHandler:ft,scrollBody:kn,scrollBounds:Kn,options:{loop:hn}})=>{hn||Kn.constrain(ft.pointerDown()),kn.seek()},Oe=({scrollBody:ft,translate:kn,location:Kn,offsetLocation:hn,previousLocation:ln,scrollLooper:Oi,slideLooper:Xt,dragHandler:rn,animation:hi,eventHandler:cl,scrollBounds:Iu,options:{loop:Qr}},es)=>{const Qi=ft.settled(),Rs=!Iu.shouldConstrain(),ts=Qr?Qi:Qi&&Rs;ts&&!rn.pointerDown()&&(hi.stop(),cl.emit("settle")),ts||cl.emit("scroll");const zu=Kn.get()*es+ln.get()*(1-es);hn.set(zu),Qr&&(Oi.loop(ft.direction()),Xt.loop()),kn.to(hn.get())},ze=Bee(i,r,()=>ye(st),ft=>Oe(st,ft)),Qe=.68,gt=Ce[ke.get()],bt=ag(gt),tn=ag(gt),yt=ag(gt),dn=ag(gt),an=Yee(bt,yt,tn,dn,v,Qe),Xn=nte(m,Ce,fe,Ee,dn),ti=ite(ze,ke,je,an,Xn,dn,o),Fn=Qee(Ee),ni=$g(),we=ate(e,n,o,S),{slideRegistry:Le}=tte(Y,M,Ce,ve,ee,Ne),Xe=rte(t,n,Le,ti,an,ni,o,O),st={ownerDocument:i,ownerWindow:r,eventHandler:o,containerRect:W,slideRects:z,animation:ze,axis:Q,dragHandler:$ee(Q,t,i,r,dn,Vee(Q,r),bt,ze,ti,an,Xn,ke,o,ne,w,C,R,Qe,P),eventStore:ni,percentOfView:ne,index:ke,indexPrevious:je,limit:Ee,location:bt,offsetLocation:yt,previousLocation:tn,options:s,resizeHandler:qee(e,o,r,n,Q,k,B),scrollBody:an,scrollBounds:Xee(Ee,yt,dn,an,ne),scrollLooper:Zee(fe,Ee,yt,[bt,yt,tn,dn]),scrollProgress:Fn,scrollSnapList:Ce.map(Fn.get),scrollSnaps:Ce,scrollTarget:Xn,scrollTo:ti,slideLooper:ste(Q,Z,fe,J,X,ue,Ce,yt,n),slideFocus:Xe,slidesHandler:ote(e,o,D),slidesInView:we,slideIndexes:Ne,slideRegistry:Le,slidesToScroll:ee,target:dn,translate:rP(Q,e)};return st}function dte(){let t={},e;function n(d){e=d}function i(d){return t[d]||[]}function r(d){return i(d).forEach(f=>f(e,d)),c}function s(d,f){return t[d]=i(d).concat([f]),c}function o(d,f){return t[d]=i(d).filter(m=>m!==f),c}function l(){t={}}const c={init:n,emit:r,off:o,on:s,clear:l};return c}const hte={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function fte(t){function e(s,o){return nP(s,o||{})}function n(s){const o=s.breakpoints||{},l=Ug(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(s,l)}function i(s){return s.map(o=>Ug(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:i}}function pte(t){let e=[];function n(s,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(s,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function i(){e=e.filter(s=>s.destroy())}return{init:n,destroy:i}}function I0(t,e,n){const i=t.ownerDocument,r=i.defaultView,s=fte(r),o=pte(s),l=$g(),c=dte(),{mergeOptions:d,optionsAtMedia:f,optionsMediaQueries:m}=s,{on:v,off:w,emit:C}=c,S=Q;let _=!1,R,M=d(hte,I0.globalOptions),k=d(M),D=[],P,O,j;function B(){const{container:Ne,slides:ye}=k;O=(yE(Ne)?t.querySelector(Ne):Ne)||t.children[0];const ze=yE(ye)?O.querySelectorAll(ye):ye;j=[].slice.call(ze||O.children)}function W(Ne){const ye=cte(t,O,j,i,r,Ne,c);if(Ne.loop&&!ye.slideLooper.canLoop()){const Oe=Object.assign({},Ne,{loop:!1});return W(Oe)}return ye}function z(Ne,ye){_||(M=d(M,Ne),k=f(M),D=ye||D,B(),R=W(k),m([M,...D.map(({options:Oe})=>Oe)]).forEach(Oe=>l.add(Oe,"change",Q)),k.active&&(R.translate.to(R.location.get()),R.animation.init(),R.slidesInView.init(),R.slideFocus.init(je),R.eventHandler.init(je),R.resizeHandler.init(je),R.slidesHandler.init(je),R.options.loop&&R.slideLooper.loop(),O.offsetParent&&j.length&&R.dragHandler.init(je),P=o.init(je,D)))}function Q(Ne,ye){const Oe=ee();Z(),z(d({startIndex:Oe},Ne),ye),c.emit("reInit")}function Z(){R.dragHandler.destroy(),R.eventStore.clear(),R.translate.clear(),R.slideLooper.clear(),R.resizeHandler.destroy(),R.slidesHandler.destroy(),R.slidesInView.destroy(),R.animation.destroy(),o.destroy(),l.clear()}function ne(){_||(_=!0,l.clear(),Z(),c.emit("destroy"),c.clear())}function H(Ne,ye,Oe){!k.active||_||(R.scrollBody.useBaseFriction().useDuration(ye===!0?0:k.duration),R.scrollTo.index(Ne,Oe||0))}function Y(Ne){const ye=R.index.add(1).get();H(ye,Ne,-1)}function U(Ne){const ye=R.index.add(-1).get();H(ye,Ne,1)}function J(){return R.index.add(1).get()!==ee()}function X(){return R.index.add(-1).get()!==ee()}function K(){return R.scrollSnapList}function L(){return R.scrollProgress.get(R.location.get())}function ee(){return R.index.get()}function ue(){return R.indexPrevious.get()}function V(){return R.slidesInView.get()}function fe(){return R.slidesInView.get(!1)}function be(){return P}function ve(){return R}function Ce(){return t}function Ee(){return O}function ke(){return j}const je={canScrollNext:J,canScrollPrev:X,containerNode:Ee,internalEngine:ve,destroy:ne,off:w,on:v,emit:C,plugins:be,previousScrollSnap:ue,reInit:S,rootNode:Ce,scrollNext:Y,scrollPrev:U,scrollProgress:L,scrollSnapList:K,scrollTo:H,selectedScrollSnap:ee,slideNodes:ke,slidesInView:V,slidesNotInView:fe};return z(e,n),setTimeout(()=>c.emit("init"),0),je}I0.globalOptions=void 0;function QS(t={},e=[]){const n=x.useRef(t),i=x.useRef(e),[r,s]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{r&&r.reInit(n.current,i.current)},[r]);return x.useEffect(()=>{XS(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{Iee(i.current,e)||(i.current=e,c())},[e,c]),x.useEffect(()=>{if(jee()&&o){I0.globalOptions=QS.globalOptions;const d=I0(o,n.current,i.current);return s(d),()=>d.destroy()}else s(void 0)},[o,s]),[l,r]}QS.globalOptions=void 0;const sP=x.createContext(null);function Fw(){const t=x.useContext(sP);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function mte({orientation:t="horizontal",opts:e,setApi:n,plugins:i,className:r,children:s,...o}){const[l,c]=QS({...e,axis:t==="horizontal"?"x":"y"},i),[d,f]=x.useState(!1),[m,v]=x.useState(!1),w=x.useCallback(R=>{R&&(f(R.canScrollPrev()),v(R.canScrollNext()))},[]),C=x.useCallback(()=>{c==null||c.scrollPrev()},[c]),S=x.useCallback(()=>{c==null||c.scrollNext()},[c]),_=x.useCallback(R=>{R.key==="ArrowLeft"?(R.preventDefault(),C()):R.key==="ArrowRight"&&(R.preventDefault(),S())},[C,S]);return x.useEffect(()=>{!c||!n||n(c)},[c,n]),x.useEffect(()=>{if(c)return w(c),c.on("reInit",w),c.on("select",w),()=>{c==null||c.off("select",w)}},[c,w]),g.jsx(sP.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:C,scrollNext:S,canScrollPrev:d,canScrollNext:m},children:g.jsx("div",{onKeyDownCapture:_,className:_t("relative",r),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...o,children:s})})}function gte({className:t,...e}){const{carouselRef:n,orientation:i}=Fw();return g.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:g.jsx("div",{className:_t("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function vte({className:t,...e}){const{orientation:n}=Fw();return g.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:_t("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})}function bte({className:t,variant:e="outline",size:n="icon",...i}){const{orientation:r,scrollPrev:s,canScrollPrev:o}=Fw();return g.jsxs(Jr,{"data-slot":"carousel-previous",variant:e,size:n,className:_t("absolute size-8 rounded-full",r==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!o,onClick:s,...i,children:[g.jsx(X$,{}),g.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function yte({className:t,variant:e="outline",size:n="icon",...i}){const{orientation:r,scrollNext:s,canScrollNext:o}=Fw();return g.jsxs(Jr,{"data-slot":"carousel-next",variant:e,size:n,className:_t("absolute size-8 rounded-full",r==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!o,onClick:s,...i,children:[g.jsx(J$,{}),g.jsx("span",{className:"sr-only",children:"Next slide"})]})}function oP({data:t}){const[e,n]=x.useState(0),i=x.useRef(null),r=()=>{n(s=>s+1)};return g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs(mte,{ref:i,className:"max-w-7/12",children:[g.jsx(gte,{children:t.map((s,o)=>g.jsx(vte,{className:"relative",children:g.jsx("div",{className:"p-1",children:g.jsx(Hg,{children:g.jsxs(Oee,{className:"flex items-center justify-center p-6 aspect-square",children:[g.jsx("span",{className:"font-semibold ",children:s.content}),g.jsx("div",{className:"absolute bottom-8 right-4",children:s.icon})]})})})},o))}),g.jsx(bte,{}),g.jsx(yte,{})]},e),g.jsx(Jr,{variant:"outline",className:"w-min",onClick:r,children:"Start"})]})}const wte=[{icon:g.jsx(yD,{strokeWidth:1,width:28,height:28}),content:"Use a file with the .asm extension and place your instructions there."},{icon:g.jsx($7,{strokeWidth:1,width:28,height:28}),content:"Press the play button to start the conversion process."},{icon:g.jsx(c7,{strokeWidth:1,width:28,height:28}),content:"If you want to see the simulation press the CPU icon."}];function xte(){return g.jsx(oP,{data:wte})}function Cte(t){const e=t+"CollectionProvider",[n,i]=Lu(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:S}=w,_=jt.useRef(null),R=jt.useRef(new Map).current;return g.jsx(r,{scope:C,itemMap:R,collectionRef:_,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=jt.forwardRef((w,C)=>{const{scope:S,children:_}=w,R=s(l,S),M=xi(C,R.collectionRef);return g.jsx(Sf,{ref:M,children:_})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=jt.forwardRef((w,C)=>{const{scope:S,children:_,...R}=w,M=jt.useRef(null),k=xi(C,M),D=s(d,S);return jt.useEffect(()=>(D.itemMap.set(M,{ref:M,...R}),()=>void D.itemMap.delete(M))),g.jsx(Sf,{[f]:"",ref:k,children:_})});m.displayName=d;function v(w){const C=s(t+"CollectionConsumer",w);return jt.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const R=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((D,P)=>R.indexOf(D.ref.current)-R.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,i]}var Ete=x.createContext(void 0);function aP(t){const e=x.useContext(Ete);return t||e||"ltr"}var W1="rovingFocusGroup.onEntryFocus",Ste={bubbles:!1,cancelable:!0},Hw="RovingFocusGroup",[xE,lP,Rte]=Cte(Hw),[Tte,uP]=Lu(Hw,[Rte]),[_te,Ate]=Tte(Hw),cP=x.forwardRef((t,e)=>g.jsx(xE.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(xE.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(kte,{...t,ref:e})})}));cP.displayName=Hw;var kte=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,v=x.useRef(null),w=xi(e,v),C=aP(s),[S=null,_]=lw({prop:o,defaultProp:l,onChange:c}),[R,M]=x.useState(!1),k=el(d),D=lP(n),P=x.useRef(!1),[O,j]=x.useState(0);return x.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(W1,k),()=>B.removeEventListener(W1,k)},[k]),g.jsx(_te,{scope:n,orientation:i,dir:C,loop:r,currentTabStopId:S,onItemFocus:x.useCallback(B=>_(B),[_]),onItemShiftTab:x.useCallback(()=>M(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:x.useCallback(()=>j(B=>B-1),[]),children:g.jsx(zn.div,{tabIndex:R||O===0?-1:0,"data-orientation":i,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:En(t.onMouseDown,()=>{P.current=!0}),onFocus:En(t.onFocus,B=>{const W=!P.current;if(B.target===B.currentTarget&&W&&!R){const z=new CustomEvent(W1,Ste);if(B.currentTarget.dispatchEvent(z),!z.defaultPrevented){const Q=D().filter(U=>U.focusable),Z=Q.find(U=>U.active),ne=Q.find(U=>U.id===S),Y=[Z,ne,...Q].filter(Boolean).map(U=>U.ref.current);fP(Y,f)}}P.current=!1}),onBlur:En(t.onBlur,()=>M(!1))})})}),dP="RovingFocusGroupItem",hP=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,...o}=t,l=hg(),c=s||l,d=Ate(dP,n),f=d.currentTabStopId===c,m=lP(n),{onFocusableItemAdd:v,onFocusableItemRemove:w}=d;return x.useEffect(()=>{if(i)return v(),()=>w()},[i,v,w]),g.jsx(xE.ItemSlot,{scope:n,id:c,focusable:i,active:r,children:g.jsx(zn.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:En(t.onMouseDown,C=>{i?d.onItemFocus(c):C.preventDefault()}),onFocus:En(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:En(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const S=Nte(C,d.orientation,d.dir);if(S!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let R=m().filter(M=>M.focusable).map(M=>M.ref.current);if(S==="last")R.reverse();else if(S==="prev"||S==="next"){S==="prev"&&R.reverse();const M=R.indexOf(C.currentTarget);R=d.loop?Lte(R,M+1):R.slice(M+1)}setTimeout(()=>fP(R))}})})})});hP.displayName=dP;var Mte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Nte(t,e,n){const i=Dte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Mte[i]}function fP(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function Lte(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var Ote=cP,Pte=hP,eR="Tabs",[jte,Xme]=Lu(eR,[uP]),pP=uP(),[Ite,tR]=jte(eR),mP=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=aP(l),[m,v]=lw({prop:i,onChange:r,defaultProp:s});return g.jsx(Ite,{scope:n,baseId:hg(),value:m,onValueChange:v,orientation:o,dir:f,activationMode:c,children:g.jsx(zn.div,{dir:f,"data-orientation":o,...d,ref:e})})});mP.displayName=eR;var gP="TabsList",vP=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:i=!0,...r}=t,s=tR(gP,n),o=pP(n);return g.jsx(Ote,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:g.jsx(zn.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});vP.displayName=gP;var bP="TabsTrigger",yP=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,disabled:r=!1,...s}=t,o=tR(bP,n),l=pP(n),c=CP(o.baseId,i),d=EP(o.baseId,i),f=i===o.value;return g.jsx(Pte,{asChild:!0,...l,focusable:!r,active:f,children:g.jsx(zn.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...s,ref:e,onMouseDown:En(t.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?o.onValueChange(i):m.preventDefault()}),onKeyDown:En(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(i)}),onFocus:En(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!r&&m&&o.onValueChange(i)})})})});yP.displayName=bP;var wP="TabsContent",xP=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,forceMount:r,children:s,...o}=t,l=tR(wP,n),c=CP(l.baseId,i),d=EP(l.baseId,i),f=i===l.value,m=x.useRef(f);return x.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),g.jsx(Of,{present:r||f,children:({present:v})=>g.jsx(zn.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:v&&s})})});xP.displayName=wP;function CP(t,e){return`${t}-trigger-${e}`}function EP(t,e){return`${t}-content-${e}`}var zte=mP,Fte=vP,Hte=yP,Bte=xP;function SP({className:t,...e}){return g.jsx(zte,{"data-slot":"tabs",className:_t("flex flex-col gap-2",t),...e})}function RP({className:t,...e}){return g.jsx(Fte,{"data-slot":"tabs-list",className:_t("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function z0({className:t,...e}){return g.jsx(Hte,{"data-slot":"tabs-trigger",className:_t("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function F0({className:t,...e}){return g.jsx(Bte,{"data-slot":"tabs-content",className:_t("flex-1 outline-none",t),...e})}const s_=({caseValue:t})=>g.jsxs(il,{children:[g.jsx(rl,{asChild:!0,children:g.jsxs("div",{className:"flex gap-1 items-center justify-center",children:[g.jsx(bD,{width:24,height:24,strokeWidth:1}),g.jsx(Jr,{variant:"link",children:"@View example"})]})}),g.jsx(sl,{className:"w-80",children:g.jsx("div",{className:"flex flex-col gap-4 space-x-4",children:t==="register"?g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"32 lines of 32 bits."}),g.jsx("div",{className:"space-y-1 text-[.8rem]",children:g.jsxs("p",{className:"monospace",children:["00000000000000000000000000000000 ",g.jsx("br",{}),"00000000000000001000001000000001 ",g.jsx("br",{}),"00000000000000000000000000111111 ",g.jsx("br",{}),".... ",g.jsx("br",{}),"00000000000000000000010101010101"]})})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"n lines, for the addresses we want to import."}),g.jsx("div",{className:"space-y-1 text-[.8rem]",children:g.jsxs("p",{className:"monospace",children:["24:00000000000000000000000000011000 ",g.jsx("br",{}),"4C:00000000000000001000001000000001 ",g.jsx("br",{}),"80:00000000000000000000000000111111 ",g.jsx("br",{}),"8A:00000000000000000000000000111111 ",g.jsx("br",{})]})})]})})})]}),o_=({caseValue:t})=>g.jsxs(il,{children:[g.jsx(rl,{asChild:!0,children:g.jsxs("div",{className:"flex gap-1 items-center justify-center",children:[g.jsx(T7,{width:24,height:24,strokeWidth:1}),g.jsx(Jr,{variant:"link",children:"@View example"})]})}),g.jsx(sl,{className:"w-80",children:g.jsx("div",{className:"flex flex-col gap-4 space-x-4",children:t==="register"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsxs("p",{className:"text-gray-400 text-[.8rem]",children:["By hovering over a ",g.jsx("strong",{children:"value cell"})," and pressing one of the following keys, you temporarily convert how the number is displayed. This does not change its stored format."]}),g.jsx("div",{className:"space-y-1 text-[.7rem]",children:g.jsxs("p",{className:"font-mono",children:["b: For a binary ",g.jsx("br",{}),"h: For a hexadecimal ",g.jsx("br",{}),"s: For a signed ",g.jsx("br",{}),"u: For an unsigned ",g.jsx("br",{}),"a: For an ascii ",g.jsx("br",{})]})})]}),g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsxs("p",{className:"mt-2 text-gray-400 text-[.8rem]",children:["By hovering over a ",g.jsx("strong",{children:"view type cell"})," (type tag) and pressing one of the following keys, you permanently change the register’s view type."]}),g.jsx("div",{className:"space-y-1 text-[.7rem]",children:g.jsxs("p",{className:"font-mono",children:["b: For a binary ",g.jsx("br",{}),"h: For a hexadecimal ",g.jsx("br",{}),"s: For a signed ",g.jsx("br",{}),"u: For an unsigned ",g.jsx("br",{}),"a: For an ascii ",g.jsx("br",{})]})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"mt-2 text-gray-400 text-[.8rem]",children:"By standing on a cell and pressing the following letters you will momentarily convert its numerical value"}),g.jsx("div",{className:"space-y-1 text-[.7rem]",children:g.jsxs("p",{className:"font-mono",children:["b: For a binary ",g.jsx("br",{}),"h: For a hexadecimal ",g.jsx("br",{}),"s: For a signed ",g.jsx("br",{}),"u: For an unsigned ",g.jsx("br",{}),"a: For an ascii ",g.jsx("br",{})]})})]})})})]}),TP=()=>g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("p",{className:"font-semibold text-md",children:"Shortcouts in tables"}),g.jsxs(SP,{defaultValue:"account",className:"w-full",children:[g.jsxs(RP,{className:"grid w-full grid-cols-2",children:[g.jsx(z0,{value:"account",children:"Register Table"}),g.jsx(z0,{value:"password",children:"Memory table"})]}),g.jsx(F0,{value:"account",children:g.jsx(Hg,{children:g.jsx(o_,{caseValue:"register"})})}),g.jsx(F0,{value:"password",children:g.jsx(Hg,{children:g.jsx(o_,{caseValue:"memory"})})})]})]});function Ute(){return g.jsxs("div",{className:"flex flex-col gap-7",children:[g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("p",{className:"font-semibold text-md",children:"Import data (.txt)"}),g.jsxs(SP,{defaultValue:"account",className:"w-full",children:[g.jsxs(RP,{className:"grid w-full grid-cols-2",children:[g.jsx(z0,{value:"account",children:"Register Table"}),g.jsx(z0,{value:"password",children:"Memory table"})]}),g.jsx(F0,{value:"account",children:g.jsx(Hg,{children:g.jsx(s_,{caseValue:"register"})})}),g.jsx(F0,{value:"password",children:g.jsx(Hg,{children:g.jsx(s_,{caseValue:"memory"})})})]})]}),g.jsx(TP,{})]})}const $te=[{icon:g.jsx(OC,{strokeWidth:1,width:28,height:28}),content:"In the registers table you can search for names, values in base 2, 10, 16 (0X at the beginning) and ascii."},{icon:g.jsx(OC,{strokeWidth:1,width:28,height:28}),content:"In the memory table you can search for any value in the table, such as an address or values."}];function Vte(){return g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsx(TP,{}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("p",{className:"font-semibold text-md",children:"Search in tables"}),g.jsx(oP,{data:$te})]})]})}const G1=()=>{const{operation:t,setShowTuto:e}=lt(),n=()=>{vr({event:"clickOpenRISCVCard"})};return g.jsxs("div",{className:"w-full mt-1 section-container",children:[g.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:n,children:[g.jsx(A7,{width:18,height:18}),g.jsx("p",{className:"underline text-primary",children:"RISC-V intructions reference"})]}),t!==""&&g.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>e(!0),children:[g.jsx(v7,{width:18,height:18}),g.jsx("p",{className:"underline text-primary",children:"Show tutorial"})]}),t!=="uploadMemory"&&t!=="step"&&g.jsx(xte,{}),t==="uploadMemory"&&g.jsx(Ute,{}),t==="step"&&g.jsx(Vte,{})]})};function _P(t,[e,n]){return Math.min(n,Math.max(e,t))}function of(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function a_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function AP(...t){return e=>{let n=!1;const i=t.map(r=>{const s=a_(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():a_(t[r],null)}}}}function Du(...t){return x.useCallback(AP(...t),t)}function kP(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,Wte(r,...e)]}function Wte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var MP=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Gte=ua[" useInsertionEffect ".trim().toString()]||MP;function qte({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=Yte({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=x.useCallback(f=>{var m;if(l){const v=Xte(f)?f(t):f;v!==t&&((m=o.current)==null||m.call(o,v))}else s(f)},[l,t,s,o]);return[c,d]}function Yte({defaultProp:t,onChange:e}){const[n,i]=x.useState(t),r=x.useRef(n),s=x.useRef(e);return Gte(()=>{s.current=e},[e]),x.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function Xte(t){return typeof t=="function"}var Kte=x.createContext(void 0);function Jte(t){const e=x.useContext(Kte);return t||e||"ltr"}function Zte(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Qte(t){const[e,n]=x.useState(void 0);return MP(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}function CE(t){const e=ene(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(nne);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function ene(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=rne(r),l=ine(s,r.props);return r.type!==x.Fragment&&(l.ref=i?AP(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tne=Symbol("radix.slottable");function nne(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tne}function ine(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function rne(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pv=sne.reduce((t,e)=>{const n=CE(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function one(t){const e=t+"CollectionProvider",[n,i]=kP(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:_,children:R}=S,M=jt.useRef(null),k=jt.useRef(new Map).current;return g.jsx(r,{scope:_,itemMap:k,collectionRef:M,children:R})};o.displayName=e;const l=t+"CollectionSlot",c=CE(l),d=jt.forwardRef((S,_)=>{const{scope:R,children:M}=S,k=s(l,R),D=Du(_,k.collectionRef);return g.jsx(c,{ref:D,children:M})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",v=CE(f),w=jt.forwardRef((S,_)=>{const{scope:R,children:M,...k}=S,D=jt.useRef(null),P=Du(_,D),O=s(f,R);return jt.useEffect(()=>(O.itemMap.set(D,{ref:D,...k}),()=>void O.itemMap.delete(D))),g.jsx(v,{[m]:"",ref:P,children:M})});w.displayName=f;function C(S){const _=s(t+"CollectionConsumer",S);return jt.useCallback(()=>{const M=_.collectionRef.current;if(!M)return[];const k=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((O,j)=>k.indexOf(O.ref.current)-k.indexOf(j.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},C,i]}var DP=["PageUp","PageDown"],NP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$f="Slider",[EE,ane,lne]=one($f),[OP,Kme]=kP($f,[lne]),[une,Bw]=OP($f),PP=x.forwardRef((t,e)=>{const{name:n,min:i=0,max:r=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[i],value:f,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:w=!1,form:C,...S}=t,_=x.useRef(new Set),R=x.useRef(0),k=o==="horizontal"?cne:dne,[D=[],P]=qte({prop:f,defaultProp:d,onChange:Q=>{var ne;(ne=[..._.current][R.current])==null||ne.focus(),m(Q)}}),O=x.useRef(D);function j(Q){const Z=gne(D,Q);z(Q,Z)}function B(Q){z(Q,R.current)}function W(){const Q=O.current[R.current];D[R.current]!==Q&&v(D)}function z(Q,Z,{commit:ne}={commit:!1}){const H=wne(s),Y=xne(Math.round((Q-i)/s)*s+i,H),U=_P(Y,[i,r]);P((J=[])=>{const X=pne(J,U,Z);if(yne(X,c*s)){R.current=X.indexOf(U);const K=String(X)!==String(J);return K&&ne&&v(X),K?X:J}else return J})}return g.jsx(une,{scope:t.__scopeSlider,name:n,disabled:l,min:i,max:r,valueIndexToChangeRef:R,thumbs:_.current,values:D,orientation:o,form:C,children:g.jsx(EE.Provider,{scope:t.__scopeSlider,children:g.jsx(EE.Slot,{scope:t.__scopeSlider,children:g.jsx(k,{"aria-disabled":l,"data-disabled":l?"":void 0,...S,ref:e,onPointerDown:of(S.onPointerDown,()=>{l||(O.current=D)}),min:i,max:r,inverted:w,onSlideStart:l?void 0:j,onSlideMove:l?void 0:B,onSlideEnd:l?void 0:W,onHomeKeyDown:()=>!l&&z(i,0,{commit:!0}),onEndKeyDown:()=>!l&&z(r,D.length-1,{commit:!0}),onStepKeyDown:({event:Q,direction:Z})=>{if(!l){const Y=DP.includes(Q.key)||Q.shiftKey&&NP.includes(Q.key)?10:1,U=R.current,J=D[U],X=s*Y*Z;z(J+X,U,{commit:!0})}}})})})})});PP.displayName=$f;var[jP,IP]=OP($f,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cne=x.forwardRef((t,e)=>{const{min:n,max:i,dir:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,v]=x.useState(null),w=Du(e,k=>v(k)),C=x.useRef(void 0),S=Jte(r),_=S==="ltr",R=_&&!s||!_&&s;function M(k){const D=C.current||m.getBoundingClientRect(),P=[0,D.width],j=nR(P,R?[n,i]:[i,n]);return C.current=D,j(k-D.left)}return g.jsx(jP,{scope:t.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:g.jsx(zP,{dir:S,"data-orientation":"horizontal",...f,ref:w,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const D=M(k.clientX);o==null||o(D)},onSlideMove:k=>{const D=M(k.clientX);l==null||l(D)},onSlideEnd:()=>{C.current=void 0,c==null||c()},onStepKeyDown:k=>{const P=LP[R?"from-left":"from-right"].includes(k.key);d==null||d({event:k,direction:P?-1:1})}})})}),dne=x.forwardRef((t,e)=>{const{min:n,max:i,inverted:r,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=x.useRef(null),m=Du(e,f),v=x.useRef(void 0),w=!r;function C(S){const _=v.current||f.current.getBoundingClientRect(),R=[0,_.height],k=nR(R,w?[i,n]:[n,i]);return v.current=_,k(S-_.top)}return g.jsx(jP,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:g.jsx(zP,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const _=C(S.clientY);s==null||s(_)},onSlideMove:S=>{const _=C(S.clientY);o==null||o(_)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:S=>{const R=LP[w?"from-bottom":"from-top"].includes(S.key);c==null||c({event:S,direction:R?-1:1})}})})}),zP=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:r,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=Bw($f,n);return g.jsx(pv.span,{...d,ref:e,onKeyDown:of(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):DP.concat(NP).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:of(t.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(v)?v.focus():i(m)}),onPointerMove:of(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&r(m)}),onPointerUp:of(t.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),s(m))})})}),FP="SliderTrack",HP=x.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,r=Bw(FP,n);return g.jsx(pv.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...i,ref:e})});HP.displayName=FP;var SE="SliderRange",BP=x.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,r=Bw(SE,n),s=IP(SE,n),o=x.useRef(null),l=Du(e,o),c=r.values.length,d=r.values.map(v=>VP(v,r.min,r.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return g.jsx(pv.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...i,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:m+"%"}})});BP.displayName=SE;var RE="SliderThumb",UP=x.forwardRef((t,e)=>{const n=ane(t.__scopeSlider),[i,r]=x.useState(null),s=Du(e,l=>r(l)),o=x.useMemo(()=>i?n().findIndex(l=>l.ref.current===i):-1,[n,i]);return g.jsx(hne,{...t,ref:s,index:o})}),hne=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:i,name:r,...s}=t,o=Bw(RE,n),l=IP(RE,n),[c,d]=x.useState(null),f=Du(e,M=>d(M)),m=c?o.form||!!c.closest("form"):!0,v=Qte(c),w=o.values[i],C=w===void 0?0:VP(w,o.min,o.max),S=mne(i,o.values.length),_=v==null?void 0:v[l.size],R=_?vne(_,C,l.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),g.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${C}% + ${R}px)`},children:[g.jsx(EE.ItemSlot,{scope:t.__scopeSlider,children:g.jsx(pv.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":w,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:w===void 0?{display:"none"}:t.style,onFocus:of(t.onFocus,()=>{o.valueIndexToChangeRef.current=i})})}),m&&g.jsx($P,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:w},i)]})});UP.displayName=RE;var fne="RadioBubbleInput",$P=x.forwardRef(({__scopeSlider:t,value:e,...n},i)=>{const r=x.useRef(null),s=Du(r,i),o=Zte(e);return x.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),g.jsx(pv.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});$P.displayName=fne;function pne(t=[],e,n){const i=[...t];return i[n]=e,i.sort((r,s)=>r-s)}function VP(t,e,n){const s=100/(n-e)*(t-e);return _P(s,[0,100])}function mne(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function gne(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),i=Math.min(...n);return n.indexOf(i)}function vne(t,e,n){const i=t/2,s=nR([0,50],[0,i]);return(i-s(e)*n)*n}function bne(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function yne(t,e){if(e>0){const n=bne(t);return Math.min(...n)>=e}return!0}function nR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function wne(t){return(String(t).split(".")[1]||"").length}function xne(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Cne=PP,Ene=HP,Sne=BP,Rne=UP;function Tne({className:t,defaultValue:e,value:n,min:i=0,max:r=100,...s}){const o=x.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[i,r],[n,e,i,r]);return g.jsxs(Cne,{"data-slot":"slider",defaultValue:e,value:n,min:i,max:r,className:_t("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[g.jsx(Ene,{"data-slot":"slider-track",className:_t("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:g.jsx(Sne,{"data-slot":"slider-range",className:_t("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>g.jsx(Rne,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}const _ne=()=>{const{simulateAuto:t,setSimulateAuto:e}=lt(),[n,i]=x.useState(1),s=[4e3,2e3,1e3][n];return x.useEffect(()=>{if(!t)return;const o=setInterval(()=>{vr({event:"step"})},s);return()=>clearInterval(o)},[t,s]),g.jsx(g.Fragment,{children:g.jsxs(il,{children:[g.jsx(rl,{id:"simulate-auto",children:t?g.jsx(s9,{size:18,className:"cursor-pointer",onClick:()=>e(o=>!o)}):g.jsx(i9,{size:18,className:"cursor-pointer ",onClick:()=>e(o=>!o)})}),g.jsxs(sl,{className:"w-40",children:[g.jsx("div",{className:"text-xs mb-1 font-semibold",children:"Speed"}),g.jsx(Tne,{defaultValue:[1],min:0,max:2,step:1,value:[n],onValueChange:([o])=>i(o),className:_t("w-full")}),g.jsx("div",{className:"text-[10px] mt-1 text-muted-foreground text-center",children:["Slow","Medium","Fast"][n]})]})]})})};function Ru(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function l_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WP(...t){return e=>{let n=!1;const i=t.map(r=>{const s=l_(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():l_(t[r],null)}}}}function gd(...t){return x.useCallback(WP(...t),t)}function GP(t,e=[]){let n=[];function i(s,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var R;const{scope:v,children:w,...C}=m,S=((R=v==null?void 0:v[t])==null?void 0:R[c])||l,_=x.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:_,children:w})};d.displayName=s+"Provider";function f(m,v){var S;const w=((S=v==null?void 0:v[t])==null?void 0:S[c])||l,C=x.useContext(w);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[i,Ane(r,...e)]}function Ane(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qP(t){const e=kne(t),n=x.forwardRef((i,r)=>{const{children:s,...o}=i,l=x.Children.toArray(s),c=l.find(Dne);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return g.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return g.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function kne(t){const e=x.forwardRef((n,i)=>{const{children:r,...s}=n;if(x.isValidElement(r)){const o=Lne(r),l=Nne(s,r.props);return r.type!==x.Fragment&&(l.ref=i?WP(i,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mne=Symbol("radix.slottable");function Dne(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mne}function Nne(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function Lne(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var One=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ou=One.reduce((t,e)=>{const n=qP(`Primitive.${e}`),i=x.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function Pne(t,e){t&&Df.flushSync(()=>t.dispatchEvent(e))}function Uw(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function jne(t,e=globalThis==null?void 0:globalThis.document){const n=Uw(t);x.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var Ine="DismissableLayer",TE="dismissableLayer.update",zne="dismissableLayer.pointerDownOutside",Fne="dismissableLayer.focusOutside",u_,YP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XP=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(YP),[f,m]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),C=gd(e,j=>m(j)),S=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(_),M=f?S.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,D=M>=R,P=Une(j=>{const B=j.target,W=[...d.branches].some(z=>z.contains(B));!D||W||(r==null||r(j),o==null||o(j),j.defaultPrevented||l==null||l())},v),O=$ne(j=>{const B=j.target;[...d.branches].some(z=>z.contains(B))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},v);return jne(j=>{M===d.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},v),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(u_=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),c_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=u_)}},[f,v,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),c_())},[f,d]),x.useEffect(()=>{const j=()=>w({});return document.addEventListener(TE,j),()=>document.removeEventListener(TE,j)},[]),g.jsx(Ou.div,{...c,ref:C,style:{pointerEvents:k?D?"auto":"none":void 0,...t.style},onFocusCapture:Ru(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ru(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ru(t.onPointerDownCapture,P.onPointerDownCapture)})});XP.displayName=Ine;var Hne="DismissableLayerBranch",Bne=x.forwardRef((t,e)=>{const n=x.useContext(YP),i=x.useRef(null),r=gd(e,i);return x.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Ou.div,{...t,ref:r})});Bne.displayName=Hne;function Une(t,e=globalThis==null?void 0:globalThis.document){const n=Uw(t),i=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let c=function(){KP(zne,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function $ne(t,e=globalThis==null?void 0:globalThis.document){const n=Uw(t),i=x.useRef(!1);return x.useEffect(()=>{const r=s=>{s.target&&!i.current&&KP(Fne,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function c_(){const t=new CustomEvent(TE);document.dispatchEvent(t)}function KP(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?Pne(r,s):r.dispatchEvent(s)}var q1=0;function Vne(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??d_()),document.body.insertAdjacentElement("beforeend",t[1]??d_()),q1++,()=>{q1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),q1--}},[])}function d_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Nu=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Wne=ua[" useId ".trim().toString()]||(()=>{}),Gne=0;function qne(t){const[e,n]=x.useState(Wne());return Nu(()=>{n(i=>i??String(Gne++))},[t]),t||(e?`radix-${e}`:"")}var Yne="Arrow",JP=x.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return g.jsx(Ou.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});JP.displayName=Yne;var Xne=JP;function Kne(t){const[e,n]=x.useState(void 0);return Nu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var iR="Popper",[ZP,QP]=GP(iR),[Jne,e3]=ZP(iR),t3=t=>{const{__scopePopper:e,children:n}=t,[i,r]=x.useState(null);return g.jsx(Jne,{scope:e,anchor:i,onAnchorChange:r,children:n})};t3.displayName=iR;var n3="PopperAnchor",i3=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=e3(n3,n),o=x.useRef(null),l=gd(e,o),c=x.useRef(null);return x.useEffect(()=>{const d=c.current;c.current=(i==null?void 0:i.current)||o.current,d!==c.current&&s.onAnchorChange(c.current)}),i?null:g.jsx(Ou.div,{...r,ref:l})});i3.displayName=n3;var rR="PopperContent",[Zne,Qne]=ZP(rR),r3=x.forwardRef((t,e)=>{var Ce,Ee,ke,je,Ne,ye;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:C,...S}=t,_=e3(rR,n),[R,M]=x.useState(null),k=gd(e,Oe=>M(Oe)),[D,P]=x.useState(null),O=Kne(D),j=(O==null?void 0:O.width)??0,B=(O==null?void 0:O.height)??0,W=i+(s!=="center"?"-"+s:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],Z=Q.length>0,ne={padding:z,boundary:Q.filter(tie),altBoundary:Z},{refs:H,floatingStyles:Y,placement:U,isPositioned:J,middlewareData:X}=bw({strategy:"fixed",placement:W,whileElementsMounted:(...Oe)=>vw(...Oe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[yw({mainAxis:r+B,alignmentAxis:o}),c&&ww({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xw():void 0,...ne}),c&&Cw({...ne}),Ew({...ne,apply:({elements:Oe,rects:ze,availableWidth:Qe,availableHeight:gt})=>{const{width:bt,height:tn}=ze.reference,yt=Oe.floating.style;yt.setProperty("--radix-popper-available-width",`${Qe}px`),yt.setProperty("--radix-popper-available-height",`${gt}px`),yt.setProperty("--radix-popper-anchor-width",`${bt}px`),yt.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),D&&Rw({element:D,padding:l}),nie({arrowWidth:j,arrowHeight:B}),v&&Sw({strategy:"referenceHidden",...ne})]}),[K,L]=a3(U),ee=Uw(C);Nu(()=>{J&&(ee==null||ee())},[J,ee]);const ue=(Ce=X.arrow)==null?void 0:Ce.x,V=(Ee=X.arrow)==null?void 0:Ee.y,fe=((ke=X.arrow)==null?void 0:ke.centerOffset)!==0,[be,ve]=x.useState();return Nu(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(je=X.transformOrigin)==null?void 0:je.x,(Ne=X.transformOrigin)==null?void 0:Ne.y].join(" "),...((ye=X.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(Zne,{scope:n,placedSide:K,onArrowChange:P,arrowX:ue,arrowY:V,shouldHideArrow:fe,children:g.jsx(Ou.div,{"data-side":K,"data-align":L,...S,ref:k,style:{...S.style,animation:J?void 0:"none"}})})})});r3.displayName=rR;var s3="PopperArrow",eie={top:"bottom",right:"left",bottom:"top",left:"right"},o3=x.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=Qne(s3,i),o=eie[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(Xne,{...r,ref:n,style:{...r.style,display:"block"}})})});o3.displayName=s3;function tie(t){return t!==null}var nie=t=>({name:"transformOrigin",options:t,fn(e){var _,R,M;const{placement:n,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=a3(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((R=r.arrow)==null?void 0:R.x)??0)+l/2,w=(((M=r.arrow)==null?void 0:M.y)??0)+c/2;let C="",S="";return d==="bottom"?(C=o?m:`${v}px`,S=`${-c}px`):d==="top"?(C=o?m:`${v}px`,S=`${i.floating.height+c}px`):d==="right"?(C=`${-c}px`,S=o?m:`${w}px`):d==="left"&&(C=`${i.floating.width+c}px`,S=o?m:`${w}px`),{data:{x:C,y:S}}}});function a3(t){const[e,n="center"]=t.split("-");return[e,n]}var iie=t3,l3=i3,rie=r3,sie=o3,oie="Portal",u3=x.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=x.useState(!1);Nu(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rw.createPortal(g.jsx(Ou.div,{...i,ref:e}),o):null});u3.displayName=oie;function aie(t,e){return x.useReducer((n,i)=>e[n][i]??n,t)}var sR=t=>{const{present:e,children:n}=t,i=lie(e),r=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),s=gd(i.ref,uie(r));return typeof n=="function"||i.isPresent?x.cloneElement(r,{ref:s}):null};sR.displayName="Presence";function lie(t){const[e,n]=x.useState(),i=x.useRef(null),r=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=aie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Uy(i.current);s.current=l==="mounted"?d:"none"},[l]),Nu(()=>{const d=i.current,f=r.current;if(f!==t){const v=s.current,w=Uy(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Nu(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const S=Uy(i.current).includes(CSS.escape(w.animationName));if(w.target===e&&S&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(s.current=Uy(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Uy(t){return(t==null?void 0:t.animationName)||"none"}function uie(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cie=ua[" useInsertionEffect ".trim().toString()]||Nu;function die({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=hie({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=x.useCallback(f=>{var m;if(l){const v=fie(f)?f(t):f;v!==t&&((m=o.current)==null||m.call(o,v))}else s(f)},[l,t,s,o]);return[c,d]}function hie({defaultProp:t,onChange:e}){const[n,i]=x.useState(t),r=x.useRef(n),s=x.useRef(e);return cie(()=>{s.current=e},[e]),x.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function fie(t){return typeof t=="function"}var $w="Popover",[c3,Jme]=GP($w,[QP]),mv=QP(),[pie,Pu]=c3($w),d3=t=>{const{__scopePopover:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!1}=t,l=mv(e),c=x.useRef(null),[d,f]=x.useState(!1),[m,v]=die({prop:i,defaultProp:r??!1,onChange:s,caller:$w});return g.jsx(iie,{...l,children:g.jsx(pie,{scope:e,contentId:qne(),triggerRef:c,open:m,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:o,children:n})})};d3.displayName=$w;var h3="PopoverAnchor",mie=x.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Pu(h3,n),s=mv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return x.useEffect(()=>(o(),()=>l()),[o,l]),g.jsx(l3,{...s,...i,ref:e})});mie.displayName=h3;var f3="PopoverTrigger",p3=x.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Pu(f3,n),s=mv(n),o=gd(e,r.triggerRef),l=g.jsx(Ou.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":y3(r.open),...i,ref:o,onClick:Ru(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:g.jsx(l3,{asChild:!0,...s,children:l})});p3.displayName=f3;var oR="PopoverPortal",[gie,vie]=c3(oR,{forceMount:void 0}),m3=t=>{const{__scopePopover:e,forceMount:n,children:i,container:r}=t,s=Pu(oR,e);return g.jsx(gie,{scope:e,forceMount:n,children:g.jsx(sR,{present:n||s.open,children:g.jsx(u3,{asChild:!0,container:r,children:i})})})};m3.displayName=oR;var kf="PopoverContent",g3=x.forwardRef((t,e)=>{const n=vie(kf,t.__scopePopover),{forceMount:i=n.forceMount,...r}=t,s=Pu(kf,t.__scopePopover);return g.jsx(sR,{present:i||s.open,children:s.modal?g.jsx(yie,{...r,ref:e}):g.jsx(wie,{...r,ref:e})})});g3.displayName=kf;var bie=qP("PopoverContent.RemoveScroll"),yie=x.forwardRef((t,e)=>{const n=Pu(kf,t.__scopePopover),i=x.useRef(null),r=gd(e,i),s=x.useRef(!1);return x.useEffect(()=>{const o=i.current;if(o)return aS(o)},[]),g.jsx(cw,{as:bie,allowPinchZoom:!0,children:g.jsx(v3,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ru(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ru(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ru(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),wie=x.forwardRef((t,e)=>{const n=Pu(kf,t.__scopePopover),i=x.useRef(!1),r=x.useRef(!1);return g.jsx(v3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),v3=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...m}=t,v=Pu(kf,n),w=mv(n);return Vne(),g.jsx(FS,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:g.jsx(XP,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:g.jsx(rie,{"data-state":y3(v.open),role:"dialog",id:v.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),b3="PopoverClose",xie=x.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Pu(b3,n);return g.jsx(Ou.button,{type:"button",...i,ref:e,onClick:Ru(t.onClick,()=>r.onOpenChange(!1))})});xie.displayName=b3;var Cie="PopoverArrow",Eie=x.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=mv(n);return g.jsx(sie,{...r,...i,ref:e})});Eie.displayName=Cie;function y3(t){return t?"open":"closed"}var Sie=d3,Rie=p3,Tie=m3,_ie=g3;function Aie({...t}){return g.jsx(Sie,{"data-slot":"popover",...t})}function kie({...t}){return g.jsx(Rie,{"data-slot":"popover-trigger",...t})}function Mie({className:t,align:e="center",sideOffset:n=4,...i}){return g.jsx(Tie,{children:g.jsx(_ie,{"data-slot":"popover-content",align:e,sideOffset:n,className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}function Die({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:_t("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Nie(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Lie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Oie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Pie={};function h_(t,e){return(Pie.jsx?Oie:Lie).test(t)}const jie=/[ \t\n\f\r]/g;function Iie(t){return typeof t=="object"?t.type==="text"?f_(t.value):!1:f_(t)}function f_(t){return t.replace(jie,"")===""}class gv{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}gv.prototype.normal={};gv.prototype.property={};gv.prototype.space=void 0;function w3(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new gv(n,i,e)}function _E(t){return t.toLowerCase()}class yr{constructor(e,n){this.attribute=n,this.property=e}}yr.prototype.attribute="";yr.prototype.booleanish=!1;yr.prototype.boolean=!1;yr.prototype.commaOrSpaceSeparated=!1;yr.prototype.commaSeparated=!1;yr.prototype.defined=!1;yr.prototype.mustUseProperty=!1;yr.prototype.number=!1;yr.prototype.overloadedBoolean=!1;yr.prototype.property="";yr.prototype.spaceSeparated=!1;yr.prototype.space=void 0;let zie=0;const Ct=vd(),qn=vd(),AE=vd(),Pe=vd(),vn=vd(),vf=vd(),Hr=vd();function vd(){return 2**++zie}const kE=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ct,booleanish:qn,commaOrSpaceSeparated:Hr,commaSeparated:vf,number:Pe,overloadedBoolean:AE,spaceSeparated:vn},Symbol.toStringTag,{value:"Module"})),Y1=Object.keys(kE);class aR extends yr{constructor(e,n,i,r){let s=-1;if(super(e,n),p_(this,"space",r),typeof i=="number")for(;++s<Y1.length;){const o=Y1[s];p_(this,Y1[s],(i&kE[o])===kE[o])}}}aR.prototype.defined=!0;function p_(t,e,n){n&&(t[e]=n)}function Vf(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const s=new aR(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[_E(i)]=i,n[_E(s.attribute)]=i}return new gv(e,n,t.space)}const x3=Vf({properties:{ariaActiveDescendant:null,ariaAtomic:qn,ariaAutoComplete:null,ariaBusy:qn,ariaChecked:qn,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:vn,ariaCurrent:null,ariaDescribedBy:vn,ariaDetails:null,ariaDisabled:qn,ariaDropEffect:vn,ariaErrorMessage:null,ariaExpanded:qn,ariaFlowTo:vn,ariaGrabbed:qn,ariaHasPopup:null,ariaHidden:qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vn,ariaLevel:Pe,ariaLive:null,ariaModal:qn,ariaMultiLine:qn,ariaMultiSelectable:qn,ariaOrientation:null,ariaOwns:vn,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:qn,ariaReadOnly:qn,ariaRelevant:null,ariaRequired:qn,ariaRoleDescription:vn,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:qn,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function C3(t,e){return e in t?t[e]:e}function E3(t,e){return C3(t,e.toLowerCase())}const Fie=Vf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vf,acceptCharset:vn,accessKey:vn,action:null,allow:null,allowFullScreen:Ct,allowPaymentRequest:Ct,allowUserMedia:Ct,alt:null,as:null,async:Ct,autoCapitalize:null,autoComplete:vn,autoFocus:Ct,autoPlay:Ct,blocking:vn,capture:null,charSet:null,checked:Ct,cite:null,className:vn,cols:Pe,colSpan:null,content:null,contentEditable:qn,controls:Ct,controlsList:vn,coords:Pe|vf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ct,defer:Ct,dir:null,dirName:null,disabled:Ct,download:AE,draggable:qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ct,formTarget:null,headers:vn,height:Pe,hidden:AE,high:Pe,href:null,hrefLang:null,htmlFor:vn,httpEquiv:vn,id:null,imageSizes:null,imageSrcSet:null,inert:Ct,inputMode:null,integrity:null,is:null,isMap:Ct,itemId:null,itemProp:vn,itemRef:vn,itemScope:Ct,itemType:vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ct,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:Ct,muted:Ct,name:null,nonce:null,noModule:Ct,noValidate:Ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ct,optimum:Pe,pattern:null,ping:vn,placeholder:null,playsInline:Ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ct,referrerPolicy:null,rel:vn,required:Ct,reversed:Ct,rows:Pe,rowSpan:Pe,sandbox:vn,scope:null,scoped:Ct,seamless:Ct,selected:Ct,shadowRootClonable:Ct,shadowRootDelegatesFocus:Ct,shadowRootMode:null,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:Ct,useMap:null,value:qn,width:Pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vn,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ct,declare:Ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:Ct,noHref:Ct,noShade:Ct,noWrap:Ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:qn,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ct,disableRemotePlayback:Ct,prefix:null,property:null,results:Pe,security:null,unselectable:null},space:"html",transform:E3}),Hie=Vf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hr,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:Ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vf,g2:vf,glyphName:vf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:Hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hr,rev:Hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hr,requiredFeatures:Hr,requiredFonts:Hr,requiredFormats:Hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:Hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hr,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:C3}),S3=Vf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),R3=Vf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:E3}),T3=Vf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Bie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Uie=/[A-Z]/g,m_=/-[a-z]/g,$ie=/^data[-\w.:]+$/i;function Vie(t,e){const n=_E(e);let i=e,r=yr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$ie.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(m_,Gie);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!m_.test(s)){let o=s.replace(Uie,Wie);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=aR}return new r(i,e)}function Wie(t){return"-"+t.toLowerCase()}function Gie(t){return t.charAt(1).toUpperCase()}const qie=w3([x3,Fie,S3,R3,T3],"html"),lR=w3([x3,Hie,S3,R3,T3],"svg");function Yie(t){return t.join(" ").trim()}var Kh={},X1,g_;function Xie(){if(g_)return X1;g_=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",f="*",m="",v="comment",w="declaration";X1=function(S,_){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];_=_||{};var R=1,M=1;function k(ne){var H=ne.match(e);H&&(R+=H.length);var Y=ne.lastIndexOf(c);M=~Y?ne.length-Y:M+ne.length}function D(){var ne={line:R,column:M};return function(H){return H.position=new P(ne),B(),H}}function P(ne){this.start=ne,this.end={line:R,column:M},this.source=_.source}P.prototype.content=S;function O(ne){var H=new Error(_.source+":"+R+":"+M+": "+ne);if(H.reason=ne,H.filename=_.source,H.line=R,H.column=M,H.source=S,!_.silent)throw H}function j(ne){var H=ne.exec(S);if(H){var Y=H[0];return k(Y),S=S.slice(Y.length),H}}function B(){j(n)}function W(ne){var H;for(ne=ne||[];H=z();)H!==!1&&ne.push(H);return ne}function z(){var ne=D();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var H=2;m!=S.charAt(H)&&(f!=S.charAt(H)||d!=S.charAt(H+1));)++H;if(H+=2,m===S.charAt(H-1))return O("End of comment missing");var Y=S.slice(2,H-2);return M+=2,k(Y),S=S.slice(H),M+=2,ne({type:v,comment:Y})}}function Q(){var ne=D(),H=j(i);if(H){if(z(),!j(r))return O("property missing ':'");var Y=j(s),U=ne({type:w,property:C(H[0].replace(t,m)),value:Y?C(Y[0].replace(t,m)):m});return j(o),U}}function Z(){var ne=[];W(ne);for(var H;H=Q();)H!==!1&&(ne.push(H),W(ne));return ne}return B(),Z()};function C(S){return S?S.replace(l,m):m}return X1}var v_;function Kie(){if(v_)return Kh;v_=1;var t=Kh&&Kh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.default=n;var e=t(Xie());function n(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,e.default)(i),l=typeof r=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;l?r(d,f,c):f&&(s=s||{},s[d]=f)}}),s}return Kh}var Zm={},b_;function Jie(){if(b_)return Zm;b_=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},l=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(r,l):d=d.replace(i,l),d.replace(e,o))};return Zm.camelCase=c,Zm}var Qm,y_;function Zie(){if(y_)return Qm;y_=1;var t=Qm&&Qm.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(Kie()),n=Jie();function i(r,s){var o={};return!r||typeof r!="string"||(0,e.default)(r,function(l,c){l&&c&&(o[(0,n.camelCase)(l,s)]=c)}),o}return i.default=i,Qm=i,Qm}var Qie=Zie();const ere=qg(Qie),_3=A3("end"),uR=A3("start");function A3(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function tre(t){const e=uR(t),n=_3(t);if(e&&n)return{start:e,end:n}}function mg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?w_(t.position):"start"in t||"end"in t?w_(t):"line"in t||"column"in t?ME(t):""}function ME(t){return x_(t&&t.line)+":"+x_(t&&t.column)}function w_(t){return ME(t&&t.start)+"-"+ME(t&&t.end)}function x_(t){return t&&typeof t=="number"?t:1}class Li extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?s.ruleId=i:(s.source=i.slice(0,c),s.ruleId=i.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=l?l.line:void 0,this.name=mg(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Li.prototype.file="";Li.prototype.name="";Li.prototype.reason="";Li.prototype.message="";Li.prototype.stack="";Li.prototype.column=void 0;Li.prototype.line=void 0;Li.prototype.ancestors=void 0;Li.prototype.cause=void 0;Li.prototype.fatal=void 0;Li.prototype.place=void 0;Li.prototype.ruleId=void 0;Li.prototype.source=void 0;const cR={}.hasOwnProperty,nre=new Map,ire=/[A-Z]/g,rre=new Set(["table","tbody","thead","tfoot","tr"]),sre=new Set(["td","th"]),k3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ore(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=pre(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=fre(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lR:qie,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=M3(r,t,void 0);return s&&typeof s!="string"?s:r.create(t,r.Fragment,{children:s||void 0},void 0)}function M3(t,e,n){if(e.type==="element")return are(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return lre(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return cre(t,e,n);if(e.type==="mdxjsEsm")return ure(t,e);if(e.type==="root")return dre(t,e,n);if(e.type==="text")return hre(t,e)}function are(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=lR,t.schema=r),t.ancestors.push(e);const s=N3(t,e.tagName,!1),o=mre(t,e);let l=hR(t,e);return rre.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Iie(c):!0})),D3(t,o,s,e),dR(o,l),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function lre(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Vg(t,e.position)}function ure(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Vg(t,e.position)}function cre(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=lR,t.schema=r),t.ancestors.push(e);const s=e.name===null?t.Fragment:N3(t,e.name,!0),o=gre(t,e),l=hR(t,e);return D3(t,o,s,e),dR(o,l),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function dre(t,e,n){const i={};return dR(i,hR(t,e)),t.create(e,t.Fragment,i,n)}function hre(t,e){return e.value}function D3(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function dR(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function fre(t,e,n){return i;function i(r,s,o,l){const d=Array.isArray(o.children)?n:e;return l?d(s,o,l):d(s,o)}}function pre(t,e){return n;function n(i,r,s,o){const l=Array.isArray(s.children),c=uR(i);return e(r,s,o,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function mre(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&cR.call(e.properties,r)){const s=vre(t,r,e.properties[r]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&sre.has(e.tagName)?i=l:n[o]=l}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function gre(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Vg(t,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const l=i.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else Vg(t,e.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function hR(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:nre;for(;++i<e.children.length;){const s=e.children[i];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=r.get(c)||0;o=c+"-"+d,r.set(c,d+1)}}const l=M3(t,s,o);l!==void 0&&n.push(l)}return n}function vre(t,e,n){const i=Vie(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Nie(n):Yie(n)),i.property==="style"){let r=typeof n=="object"?n:bre(t,String(n));return t.stylePropertyNameCase==="css"&&(r=yre(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?Bie[i.property]||i.property:i.attribute,n]}}function bre(t,e){try{return ere(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new Li("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=k3+"#cannot-parse-style-attribute",r}}function N3(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const l=h_(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}i=o}else i=h_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return cR.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);Vg(t)}function Vg(t,e){const n=new Li("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=k3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function yre(t){const e={};let n;for(n in t)cR.call(t,n)&&(e[wre(n)]=t[n]);return e}function wre(t){let e=t.replace(ire,xre);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function xre(t){return"-"+t.toLowerCase()}const K1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Cre={};function fR(t,e){const n=Cre,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return L3(t,i,r)}function L3(t,e,n){if(Ere(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return C_(t.children,e,n)}return Array.isArray(t)?C_(t,e,n):""}function C_(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=L3(t[r],e,n);return i.join("")}function Ere(t){return!!(t&&typeof t=="object")}const E_=document.createElement("i");function pR(t){const e="&"+t+";";E_.innerHTML=e;const n=E_.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Gr(t,e,n,i){const r=t.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function xs(t,e){return t.length>0?(Gr(t,t.length,0,e),t):e}const S_={}.hasOwnProperty;function O3(t){const e={};let n=-1;for(;++n<t.length;)Sre(e,t[n]);return e}function Sre(t,e){let n;for(n in e){const r=(S_.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){S_.call(r,o)||(r[o]=[]);const l=s[o];Rre(r[o],Array.isArray(l)?l:l?[l]:[])}}}function Rre(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Gr(t,0,0,i)}function P3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function lo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ji=ju(/[A-Za-z]/),Ni=ju(/[\dA-Za-z]/),Tre=ju(/[#-'*+\--9=?A-Z^-~]/);function H0(t){return t!==null&&(t<32||t===127)}const DE=ju(/\d/),_re=ju(/[\dA-Fa-f]/),Are=ju(/[!-/:-@[-`{-~]/);function nt(t){return t!==null&&t<-2}function cn(t){return t!==null&&(t<0||t===32)}function Nt(t){return t===-2||t===-1||t===32}const Vw=ju(new RegExp("\\p{P}|\\p{S}","u")),cd=ju(/\s/);function ju(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Wf(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ni(t.charCodeAt(n+1))&&Ni(t.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),r=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Ht(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return Nt(c)?(t.enter(n),l(c)):e(c)}function l(c){return Nt(c)&&s++<r?(t.consume(c),l):(t.exit(n),e(c))}}const kre={tokenize:Mre};function Mre(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ht(t,e,"linePrefix")}function r(l){return t.enter("paragraph"),s(l)}function s(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return nt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const Dre={tokenize:Nre},R_={tokenize:Lre};function Nre(t){const e=this,n=[];let i=0,r,s,o;return l;function l(k){if(i<n.length){const D=n[i];return e.containerState=D[1],t.attempt(D[0].continuation,c,d)(k)}return d(k)}function c(k){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&M();const D=e.events.length;let P=D,O;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){O=e.events[P][1].end;break}R(i);let j=D;for(;j<e.events.length;)e.events[j][1].end={...O},j++;return Gr(e.events,P+1,0,e.events.slice(D)),e.events.length=j,d(k)}return l(k)}function d(k){if(i===n.length){if(!r)return v(k);if(r.currentConstruct&&r.currentConstruct.concrete)return C(k);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(R_,f,m)(k)}function f(k){return r&&M(),R(i),v(k)}function m(k){return e.parser.lazy[e.now().line]=i!==n.length,o=e.now().offset,C(k)}function v(k){return e.containerState={},t.attempt(R_,w,C)(k)}function w(k){return i++,n.push([e.currentConstruct,e.containerState]),v(k)}function C(k){if(k===null){r&&M(),R(0),t.consume(k);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),S(k)}function S(k){if(k===null){_(t.exit("chunkFlow"),!0),R(0),t.consume(k);return}return nt(k)?(t.consume(k),_(t.exit("chunkFlow")),i=0,e.interrupt=void 0,l):(t.consume(k),S)}function _(k,D){const P=e.sliceStream(k);if(D&&P.push(null),k.previous=s,s&&(s.next=k),s=k,r.defineSkip(k.start),r.write(P),e.parser.lazy[k.start.line]){let O=r.events.length;for(;O--;)if(r.events[O][1].start.offset<o&&(!r.events[O][1].end||r.events[O][1].end.offset>o))return;const j=e.events.length;let B=j,W,z;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(W){z=e.events[B][1].end;break}W=!0}for(R(i),O=j;O<e.events.length;)e.events[O][1].end={...z},O++;Gr(e.events,B+1,0,e.events.slice(j)),e.events.length=O}}function R(k){let D=n.length;for(;D-- >k;){const P=n[D];e.containerState=P[1],P[0].exit.call(e,t)}n.length=k}function M(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Lre(t,e,n){return Ht(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mf(t){if(t===null||cn(t)||cd(t))return 1;if(Vw(t))return 2}function Ww(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const s=t[r].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const NE={name:"attention",resolveAll:Ore,tokenize:Pre};function Ore(t,e){let n=-1,i,r,s,o,l,c,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[i][1].end},v={...t[n][1].start};T_(m,-c),T_(v,c),o={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[i][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},s={type:c>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[i][1].end={...o.start},t[n][1].start={...l.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=xs(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=xs(d,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=xs(d,Ww(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=xs(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=xs(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Gr(t,i-1,n-i+3,d),n=i+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Pre(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Mf(i);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===s)return t.consume(c),l;const d=t.exit("attentionSequence"),f=Mf(c),m=!f||f===2&&r||n.includes(c),v=!r||r===2&&f||n.includes(i);return d._open=!!(s===42?m:m&&(r||!v)),d._close=!!(s===42?v:v&&(f||!m)),e(c)}}function T_(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const jre={name:"autolink",tokenize:Ire};function Ire(t,e,n){let i=0;return r;function r(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(w){return Ji(w)?(t.consume(w),o):w===64?n(w):d(w)}function o(w){return w===43||w===45||w===46||Ni(w)?(i=1,l(w)):d(w)}function l(w){return w===58?(t.consume(w),i=0,c):(w===43||w===45||w===46||Ni(w))&&i++<32?(t.consume(w),l):(i=0,d(w))}function c(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||H0(w)?n(w):(t.consume(w),c)}function d(w){return w===64?(t.consume(w),f):Tre(w)?(t.consume(w),d):n(w)}function f(w){return Ni(w)?m(w):n(w)}function m(w){return w===46?(t.consume(w),i=0,f):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):v(w)}function v(w){if((w===45||Ni(w))&&i++<63){const C=w===45?v:m;return t.consume(w),C}return n(w)}}const vv={partial:!0,tokenize:zre};function zre(t,e,n){return i;function i(s){return Nt(s)?Ht(t,r,"linePrefix")(s):r(s)}function r(s){return s===null||nt(s)?e(s):n(s)}}const j3={continuation:{tokenize:Hre},exit:Bre,name:"blockQuote",tokenize:Fre};function Fre(t,e,n){const i=this;return r;function r(o){if(o===62){const l=i.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Nt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Hre(t,e,n){const i=this;return r;function r(o){return Nt(o)?Ht(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(j3,e,n)(o)}}function Bre(t){t.exit("blockQuote")}const I3={name:"characterEscape",tokenize:Ure};function Ure(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),r}function r(s){return Are(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const z3={name:"characterReference",tokenize:$re};function $re(t,e,n){const i=this;let r=0,s,o;return l;function l(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=Ni,f(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=_re,f):(t.enter("characterReferenceValue"),s=7,o=DE,f(m))}function f(m){if(m===59&&r){const v=t.exit("characterReferenceValue");return o===Ni&&!pR(i.sliceSerialize(v))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(m)&&r++<s?(t.consume(m),f):n(m)}}const __={partial:!0,tokenize:Wre},A_={concrete:!0,name:"codeFenced",tokenize:Vre};function Vre(t,e,n){const i=this,r={partial:!0,tokenize:P};let s=0,o=0,l;return c;function c(O){return d(O)}function d(O){const j=i.events[i.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,l=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(O)}function f(O){return O===l?(o++,t.consume(O),f):o<3?n(O):(t.exit("codeFencedFenceSequence"),Nt(O)?Ht(t,m,"whitespace")(O):m(O))}function m(O){return O===null||nt(O)?(t.exit("codeFencedFence"),i.interrupt?e(O):t.check(__,S,D)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||nt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(O)):Nt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ht(t,w,"whitespace")(O)):O===96&&O===l?n(O):(t.consume(O),v)}function w(O){return O===null||nt(O)?m(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(O))}function C(O){return O===null||nt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(O)):O===96&&O===l?n(O):(t.consume(O),C)}function S(O){return t.attempt(r,D,_)(O)}function _(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),R}function R(O){return s>0&&Nt(O)?Ht(t,M,"linePrefix",s+1)(O):M(O)}function M(O){return O===null||nt(O)?t.check(__,S,D)(O):(t.enter("codeFlowValue"),k(O))}function k(O){return O===null||nt(O)?(t.exit("codeFlowValue"),M(O)):(t.consume(O),k)}function D(O){return t.exit("codeFenced"),e(O)}function P(O,j,B){let W=0;return z;function z(Y){return O.enter("lineEnding"),O.consume(Y),O.exit("lineEnding"),Q}function Q(Y){return O.enter("codeFencedFence"),Nt(Y)?Ht(O,Z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):Z(Y)}function Z(Y){return Y===l?(O.enter("codeFencedFenceSequence"),ne(Y)):B(Y)}function ne(Y){return Y===l?(W++,O.consume(Y),ne):W>=o?(O.exit("codeFencedFenceSequence"),Nt(Y)?Ht(O,H,"whitespace")(Y):H(Y)):B(Y)}function H(Y){return Y===null||nt(Y)?(O.exit("codeFencedFence"),j(Y)):B(Y)}}}function Wre(t,e,n){const i=this;return r;function r(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}const J1={name:"codeIndented",tokenize:qre},Gre={partial:!0,tokenize:Yre};function qre(t,e,n){const i=this;return r;function r(d){return t.enter("codeIndented"),Ht(t,s,"linePrefix",5)(d)}function s(d){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?c(d):nt(d)?t.attempt(Gre,o,c)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||nt(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),l)}function c(d){return t.exit("codeIndented"),e(d)}}function Yre(t,e,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):nt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):Ht(t,s,"linePrefix",5)(o)}function s(o){const l=i.events[i.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):nt(o)?r(o):n(o)}}const Xre={name:"codeText",previous:Jre,resolve:Kre,tokenize:Zre};function Kre(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function Jre(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zre(t,e,n){let i=0,r,s;return o;function o(m){return t.enter("codeText"),t.enter("codeTextSequence"),l(m)}function l(m){return m===96?(t.consume(m),i++,l):(t.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),c):m===96?(s=t.enter("codeTextSequence"),r=0,f(m)):nt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||nt(m)?(t.exit("codeTextData"),c(m)):(t.consume(m),d)}function f(m){return m===96?(t.consume(m),r++,f):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(s.type="codeTextData",d(m))}}class Qre{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&eg(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),eg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),eg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);eg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);eg(this.left,n.reverse())}}}function eg(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function F3(t){const e={};let n=-1,i,r,s,o,l,c,d;const f=new Qre(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(i=f.get(n),n&&i[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,ese(f,n)),n=e[n],d=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(f.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...f.get(r)[1].start},l=f.slice(r,n),l.unshift(i),f.splice(r,n-r+1,l))}}return Gr(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function ese(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const s=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],d={};let f,m,v=-1,w=n,C=0,S=0;const _=[S];for(;w;){for(;t.get(++r)[1]!==w;);s.push(r),w._tokenizer||(f=i.sliceStream(w),w.next||f.push(null),m&&o.defineSkip(w.start),w._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),w._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=n;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(S=v+1,_.push(S),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(o.events=[],w?(w._tokenizer=void 0,w.previous=void 0):_.pop(),v=_.length;v--;){const R=l.slice(_[v],_[v+1]),M=s.pop();c.push([M,M+R.length-1]),t.splice(M,2,R)}for(c.reverse(),v=-1;++v<c.length;)d[C+c[v][0]]=C+c[v][1],C+=c[v][1]-c[v][0]-1;return d}const tse={resolve:ise,tokenize:rse},nse={partial:!0,tokenize:sse};function ise(t){return F3(t),t}function rse(t,e){let n;return i;function i(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(l)}function r(l){return l===null?s(l):nt(l)?t.check(nse,o,s)(l):(t.consume(l),r)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function sse(t,e,n){const i=this;return r;function r(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ht(t,s,"linePrefix")}function s(o){if(o===null||nt(o))return n(o);const l=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(i.parser.constructs.flow,n,e)(o)}}function H3(t,e,n,i,r,s,o,l,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return m;function m(R){return R===60?(t.enter(i),t.enter(r),t.enter(s),t.consume(R),t.exit(s),v):R===null||R===32||R===41||H0(R)?n(R):(t.enter(i),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),S(R))}function v(R){return R===62?(t.enter(s),t.consume(R),t.exit(s),t.exit(r),t.exit(i),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),w(R))}function w(R){return R===62?(t.exit("chunkString"),t.exit(l),v(R)):R===null||R===60||nt(R)?n(R):(t.consume(R),R===92?C:w)}function C(R){return R===60||R===62||R===92?(t.consume(R),w):w(R)}function S(R){return!f&&(R===null||R===41||cn(R))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(i),e(R)):f<d&&R===40?(t.consume(R),f++,S):R===41?(t.consume(R),f--,S):R===null||R===32||R===40||H0(R)?n(R):(t.consume(R),R===92?_:S)}function _(R){return R===40||R===41||R===92?(t.consume(R),S):S(R)}}function B3(t,e,n,i,r,s){const o=this;let l=0,c;return d;function d(w){return t.enter(i),t.enter(r),t.consume(w),t.exit(r),t.enter(s),f}function f(w){return l>999||w===null||w===91||w===93&&!c||w===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(w):w===93?(t.exit(s),t.enter(r),t.consume(w),t.exit(r),t.exit(i),e):nt(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||w===91||w===93||nt(w)||l++>999?(t.exit("chunkString"),f(w)):(t.consume(w),c||(c=!Nt(w)),w===92?v:m)}function v(w){return w===91||w===92||w===93?(t.consume(w),l++,m):m(w)}}function U3(t,e,n,i,r,s){let o;return l;function l(v){return v===34||v===39||v===40?(t.enter(i),t.enter(r),t.consume(v),t.exit(r),o=v===40?41:v,c):n(v)}function c(v){return v===o?(t.enter(r),t.consume(v),t.exit(r),t.exit(i),e):(t.enter(s),d(v))}function d(v){return v===o?(t.exit(s),c(o)):v===null?n(v):nt(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Ht(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===o||v===null||nt(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?m:f)}function m(v){return v===o||v===92?(t.consume(v),f):f(v)}}function gg(t,e){let n;return i;function i(r){return nt(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):Nt(r)?Ht(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const ose={name:"definition",tokenize:lse},ase={partial:!0,tokenize:use};function lse(t,e,n){const i=this;let r;return s;function s(w){return t.enter("definition"),o(w)}function o(w){return B3.call(i,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function l(w){return r=lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),c):n(w)}function c(w){return cn(w)?gg(t,d)(w):d(w)}function d(w){return H3(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function f(w){return t.attempt(ase,m,m)(w)}function m(w){return Nt(w)?Ht(t,v,"whitespace")(w):v(w)}function v(w){return w===null||nt(w)?(t.exit("definition"),i.parser.defined.push(r),e(w)):n(w)}}function use(t,e,n){return i;function i(l){return cn(l)?gg(t,r)(l):n(l)}function r(l){return U3(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Nt(l)?Ht(t,o,"whitespace")(l):o(l)}function o(l){return l===null||nt(l)?e(l):n(l)}}const cse={name:"hardBreakEscape",tokenize:dse};function dse(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),r}function r(s){return nt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const hse={name:"headingAtx",resolve:fse,tokenize:pse};function fse(t,e){let n=t.length-2,i=3,r,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Gr(t,i,n-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),t}function pse(t,e,n){let i=0;return r;function r(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&i++<6?(t.consume(f),o):f===null||cn(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||nt(f)?(t.exit("atxHeading"),e(f)):Nt(f)?Ht(t,l,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||cn(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),d)}}const mse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],k_=["pre","script","style","textarea"],gse={concrete:!0,name:"htmlFlow",resolveTo:yse,tokenize:wse},vse={partial:!0,tokenize:Cse},bse={partial:!0,tokenize:xse};function yse(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function wse(t,e,n){const i=this;let r,s,o,l,c;return d;function d(V){return f(V)}function f(V){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(V),m}function m(V){return V===33?(t.consume(V),v):V===47?(t.consume(V),s=!0,S):V===63?(t.consume(V),r=3,i.interrupt?e:L):Ji(V)?(t.consume(V),o=String.fromCharCode(V),_):n(V)}function v(V){return V===45?(t.consume(V),r=2,w):V===91?(t.consume(V),r=5,l=0,C):Ji(V)?(t.consume(V),r=4,i.interrupt?e:L):n(V)}function w(V){return V===45?(t.consume(V),i.interrupt?e:L):n(V)}function C(V){const fe="CDATA[";return V===fe.charCodeAt(l++)?(t.consume(V),l===fe.length?i.interrupt?e:Z:C):n(V)}function S(V){return Ji(V)?(t.consume(V),o=String.fromCharCode(V),_):n(V)}function _(V){if(V===null||V===47||V===62||cn(V)){const fe=V===47,be=o.toLowerCase();return!fe&&!s&&k_.includes(be)?(r=1,i.interrupt?e(V):Z(V)):mse.includes(o.toLowerCase())?(r=6,fe?(t.consume(V),R):i.interrupt?e(V):Z(V)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(V):s?M(V):k(V))}return V===45||Ni(V)?(t.consume(V),o+=String.fromCharCode(V),_):n(V)}function R(V){return V===62?(t.consume(V),i.interrupt?e:Z):n(V)}function M(V){return Nt(V)?(t.consume(V),M):z(V)}function k(V){return V===47?(t.consume(V),z):V===58||V===95||Ji(V)?(t.consume(V),D):Nt(V)?(t.consume(V),k):z(V)}function D(V){return V===45||V===46||V===58||V===95||Ni(V)?(t.consume(V),D):P(V)}function P(V){return V===61?(t.consume(V),O):Nt(V)?(t.consume(V),P):k(V)}function O(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),c=V,j):Nt(V)?(t.consume(V),O):B(V)}function j(V){return V===c?(t.consume(V),c=null,W):V===null||nt(V)?n(V):(t.consume(V),j)}function B(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||cn(V)?P(V):(t.consume(V),B)}function W(V){return V===47||V===62||Nt(V)?k(V):n(V)}function z(V){return V===62?(t.consume(V),Q):n(V)}function Q(V){return V===null||nt(V)?Z(V):Nt(V)?(t.consume(V),Q):n(V)}function Z(V){return V===45&&r===2?(t.consume(V),U):V===60&&r===1?(t.consume(V),J):V===62&&r===4?(t.consume(V),ee):V===63&&r===3?(t.consume(V),L):V===93&&r===5?(t.consume(V),K):nt(V)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(vse,ue,ne)(V)):V===null||nt(V)?(t.exit("htmlFlowData"),ne(V)):(t.consume(V),Z)}function ne(V){return t.check(bse,H,ue)(V)}function H(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),Y}function Y(V){return V===null||nt(V)?ne(V):(t.enter("htmlFlowData"),Z(V))}function U(V){return V===45?(t.consume(V),L):Z(V)}function J(V){return V===47?(t.consume(V),o="",X):Z(V)}function X(V){if(V===62){const fe=o.toLowerCase();return k_.includes(fe)?(t.consume(V),ee):Z(V)}return Ji(V)&&o.length<8?(t.consume(V),o+=String.fromCharCode(V),X):Z(V)}function K(V){return V===93?(t.consume(V),L):Z(V)}function L(V){return V===62?(t.consume(V),ee):V===45&&r===2?(t.consume(V),L):Z(V)}function ee(V){return V===null||nt(V)?(t.exit("htmlFlowData"),ue(V)):(t.consume(V),ee)}function ue(V){return t.exit("htmlFlow"),e(V)}}function xse(t,e,n){const i=this;return r;function r(o){return nt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}function Cse(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(vv,e,n)}}const Ese={name:"htmlText",tokenize:Sse};function Sse(t,e,n){const i=this;let r,s,o;return l;function l(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),c}function c(L){return L===33?(t.consume(L),d):L===47?(t.consume(L),P):L===63?(t.consume(L),k):Ji(L)?(t.consume(L),B):n(L)}function d(L){return L===45?(t.consume(L),f):L===91?(t.consume(L),s=0,C):Ji(L)?(t.consume(L),M):n(L)}function f(L){return L===45?(t.consume(L),w):n(L)}function m(L){return L===null?n(L):L===45?(t.consume(L),v):nt(L)?(o=m,J(L)):(t.consume(L),m)}function v(L){return L===45?(t.consume(L),w):m(L)}function w(L){return L===62?U(L):L===45?v(L):m(L)}function C(L){const ee="CDATA[";return L===ee.charCodeAt(s++)?(t.consume(L),s===ee.length?S:C):n(L)}function S(L){return L===null?n(L):L===93?(t.consume(L),_):nt(L)?(o=S,J(L)):(t.consume(L),S)}function _(L){return L===93?(t.consume(L),R):S(L)}function R(L){return L===62?U(L):L===93?(t.consume(L),R):S(L)}function M(L){return L===null||L===62?U(L):nt(L)?(o=M,J(L)):(t.consume(L),M)}function k(L){return L===null?n(L):L===63?(t.consume(L),D):nt(L)?(o=k,J(L)):(t.consume(L),k)}function D(L){return L===62?U(L):k(L)}function P(L){return Ji(L)?(t.consume(L),O):n(L)}function O(L){return L===45||Ni(L)?(t.consume(L),O):j(L)}function j(L){return nt(L)?(o=j,J(L)):Nt(L)?(t.consume(L),j):U(L)}function B(L){return L===45||Ni(L)?(t.consume(L),B):L===47||L===62||cn(L)?W(L):n(L)}function W(L){return L===47?(t.consume(L),U):L===58||L===95||Ji(L)?(t.consume(L),z):nt(L)?(o=W,J(L)):Nt(L)?(t.consume(L),W):U(L)}function z(L){return L===45||L===46||L===58||L===95||Ni(L)?(t.consume(L),z):Q(L)}function Q(L){return L===61?(t.consume(L),Z):nt(L)?(o=Q,J(L)):Nt(L)?(t.consume(L),Q):W(L)}function Z(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),r=L,ne):nt(L)?(o=Z,J(L)):Nt(L)?(t.consume(L),Z):(t.consume(L),H)}function ne(L){return L===r?(t.consume(L),r=void 0,Y):L===null?n(L):nt(L)?(o=ne,J(L)):(t.consume(L),ne)}function H(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||cn(L)?W(L):(t.consume(L),H)}function Y(L){return L===47||L===62||cn(L)?W(L):n(L)}function U(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function J(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),X}function X(L){return Nt(L)?Ht(t,K,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):K(L)}function K(L){return t.enter("htmlTextData"),o(L)}}const mR={name:"labelEnd",resolveAll:Ase,resolveTo:kse,tokenize:Mse},Rse={tokenize:Dse},Tse={tokenize:Nse},_se={tokenize:Lse};function Ase(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&Gr(t,0,t.length,n),t}function kse(t,e){let n=t.length,i=0,r,s,o,l;for(;n--;)if(r=t[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",c,e],["enter",d,e]],l=xs(l,t.slice(s+1,s+i+3)),l=xs(l,[["enter",f,e]]),l=xs(l,Ww(e.parser.constructs.insideSpan.null,t.slice(s+i+4,o-3),e)),l=xs(l,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),l=xs(l,t.slice(o+1)),l=xs(l,[["exit",c,e]]),Gr(t,s,t.length,l),t}function Mse(t,e,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return l;function l(v){return s?s._inactive?m(v):(o=i.parser.defined.includes(lo(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),c):n(v)}function c(v){return v===40?t.attempt(Rse,f,o?f:m)(v):v===91?t.attempt(Tse,f,o?d:m)(v):o?f(v):m(v)}function d(v){return t.attempt(_se,f,m)(v)}function f(v){return e(v)}function m(v){return s._balanced=!0,n(v)}}function Dse(t,e,n){return i;function i(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),r}function r(m){return cn(m)?gg(t,s)(m):s(m)}function s(m){return m===41?f(m):H3(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return cn(m)?gg(t,c)(m):f(m)}function l(m){return n(m)}function c(m){return m===34||m===39||m===40?U3(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function d(m){return cn(m)?gg(t,f)(m):f(m)}function f(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function Nse(t,e,n){const i=this;return r;function r(l){return B3.call(i,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return i.parser.defined.includes(lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function Lse(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),r}function r(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Ose={name:"labelStartImage",resolveAll:mR.resolveAll,tokenize:Pse};function Pse(t,e,n){const i=this;return r;function r(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}const jse={name:"labelStartLink",resolveAll:mR.resolveAll,tokenize:Ise};function Ise(t,e,n){const i=this;return r;function r(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const Z1={name:"lineEnding",tokenize:zse};function zse(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ht(t,e,"linePrefix")}}const l0={name:"thematicBreak",tokenize:Fse};function Fse(t,e,n){let i=0,r;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return r=d,l(d)}function l(d){return d===r?(t.enter("thematicBreakSequence"),c(d)):i>=3&&(d===null||nt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===r?(t.consume(d),i++,c):(t.exit("thematicBreakSequence"),Nt(d)?Ht(t,l,"whitespace")(d):l(d))}}const pr={continuation:{tokenize:$se},exit:Wse,name:"list",tokenize:Use},Hse={partial:!0,tokenize:Gse},Bse={partial:!0,tokenize:Vse};function Use(t,e,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return l;function l(w){const C=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:DE(w)){if(i.containerState.type||(i.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(l0,n,d)(w):d(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(w)}return n(w)}function c(w){return DE(w)&&++o<10?(t.consume(w),c):(!i.interrupt||o<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),d(w)):n(w)}function d(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(vv,i.interrupt?n:f,t.attempt(Hse,v,m))}function f(w){return i.containerState.initialBlankLine=!0,s++,v(w)}function m(w){return Nt(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),v):n(w)}function v(w){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function $se(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(vv,r,s);function r(l){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ht(t,e,"listItemIndent",i.containerState.size+1)(l)}function s(l){return i.containerState.furtherBlankLines||!Nt(l)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(l)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Bse,e,o)(l))}function o(l){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ht(t,t.attempt(pr,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Vse(t,e,n){const i=this;return Ht(t,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):n(s)}}function Wse(t){t.exit(this.containerState.type)}function Gse(t,e,n){const i=this;return Ht(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!Nt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const M_={name:"setextUnderline",resolveTo:qse,tokenize:Yse};function qse(t,e){let n=t.length,i,r,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",s?(t.splice(r,0,["enter",o,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=o,t.push(["exit",o,e]),t}function Yse(t,e,n){const i=this;let r;return s;function s(d){let f=i.events.length,m;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){m=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(t.enter("setextHeadingLine"),r=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===r?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Nt(d)?Ht(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||nt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const Xse={tokenize:Kse};function Kse(t){const e=this,n=t.attempt(vv,i,t.attempt(this.parser.constructs.flowInitial,r,Ht(t,t.attempt(this.parser.constructs.flow,r,t.attempt(tse,r)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Jse={resolveAll:V3()},Zse=$3("string"),Qse=$3("text");function $3(t){return{resolveAll:V3(t==="text"?eoe:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],s=n.attempt(r,o,l);return o;function o(f){return d(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return d(f)?(n.exit("data"),s(f)):(n.consume(f),c)}function d(f){if(f===null)return!0;const m=r[f];let v=-1;if(m)for(;++v<m.length;){const w=m[v];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function V3(t){return e;function e(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return t?t(n,i):n}}function eoe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let s=r.length,o=-1,l=0,c;for(;s--;){const d=r[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)c=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const toe={42:pr,43:pr,45:pr,48:pr,49:pr,50:pr,51:pr,52:pr,53:pr,54:pr,55:pr,56:pr,57:pr,62:j3},noe={91:ose},ioe={[-2]:J1,[-1]:J1,32:J1},roe={35:hse,42:l0,45:[M_,l0],60:gse,61:M_,95:l0,96:A_,126:A_},soe={38:z3,92:I3},ooe={[-5]:Z1,[-4]:Z1,[-3]:Z1,33:Ose,38:z3,42:NE,60:[jre,Ese],91:jse,92:[cse,I3],93:mR,95:NE,96:Xre},aoe={null:[NE,Jse]},loe={null:[42,95]},uoe={null:[]},coe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:loe,contentInitial:noe,disable:uoe,document:toe,flow:roe,flowInitial:ioe,insideSpan:aoe,string:soe,text:ooe},Symbol.toStringTag,{value:"Module"}));function doe(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let o=[],l=[];const c={attempt:j(P),check:j(O),consume:M,enter:k,exit:D,interrupt:j(O,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:C,parser:t,previous:null,sliceSerialize:v,sliceStream:w,write:m};let f=e.tokenize.call(d,c);return e.resolveAll&&s.push(e),d;function m(Q){return o=xs(o,Q),_(),o[o.length-1]!==null?[]:(B(e,0),d.events=Ww(s,d.events,d),d.events)}function v(Q,Z){return foe(w(Q),Z)}function w(Q){return hoe(o,Q)}function C(){const{_bufferIndex:Q,_index:Z,line:ne,column:H,offset:Y}=i;return{_bufferIndex:Q,_index:Z,line:ne,column:H,offset:Y}}function S(Q){r[Q.line]=Q.column,z()}function _(){let Q;for(;i._index<o.length;){const Z=o[i._index];if(typeof Z=="string")for(Q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Q&&i._bufferIndex<Z.length;)R(Z.charCodeAt(i._bufferIndex));else R(Z)}}function R(Q){f=f(Q)}function M(Q){nt(Q)?(i.line++,i.column=1,i.offset+=Q===-3?2:1,z()):Q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=Q}function k(Q,Z){const ne=Z||{};return ne.type=Q,ne.start=C(),d.events.push(["enter",ne,d]),l.push(ne),ne}function D(Q){const Z=l.pop();return Z.end=C(),d.events.push(["exit",Z,d]),Z}function P(Q,Z){B(Q,Z.from)}function O(Q,Z){Z.restore()}function j(Q,Z){return ne;function ne(H,Y,U){let J,X,K,L;return Array.isArray(H)?ue(H):"tokenize"in H?ue([H]):ee(H);function ee(ve){return Ce;function Ce(Ee){const ke=Ee!==null&&ve[Ee],je=Ee!==null&&ve.null,Ne=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(je)?je:je?[je]:[]];return ue(Ne)(Ee)}}function ue(ve){return J=ve,X=0,ve.length===0?U:V(ve[X])}function V(ve){return Ce;function Ce(Ee){return L=W(),K=ve,ve.partial||(d.currentConstruct=ve),ve.name&&d.parser.constructs.disable.null.includes(ve.name)?be():ve.tokenize.call(Z?Object.assign(Object.create(d),Z):d,c,fe,be)(Ee)}}function fe(ve){return Q(K,L),Y}function be(ve){return L.restore(),++X<J.length?V(J[X]):U}}}function B(Q,Z){Q.resolveAll&&!s.includes(Q)&&s.push(Q),Q.resolve&&Gr(d.events,Z,d.events.length-Z,Q.resolve(d.events.slice(Z),d)),Q.resolveTo&&(d.events=Q.resolveTo(d.events,d))}function W(){const Q=C(),Z=d.previous,ne=d.currentConstruct,H=d.events.length,Y=Array.from(l);return{from:H,restore:U};function U(){i=Q,d.previous=Z,d.currentConstruct=ne,d.events.length=H,l=Y,z()}}function z(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function hoe(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(n===r)o=[t[n].slice(i,s)];else{if(o=t.slice(n,r),i>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(i):o.shift()}s>0&&o.push(t[r].slice(0,s))}return o}function foe(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function poe(t){const i={constructs:O3([coe,...(t||{}).extensions||[]]),content:r(kre),defined:[],document:r(Dre),flow:r(Xse),lazy:{},string:r(Zse),text:r(Qse)};return i;function r(s){return o;function o(l){return doe(i,s,l)}}}function moe(t){for(;!F3(t););return t}const D_=/[\0\t\n\r]/g;function goe(){let t=1,e="",n=!0,i;return r;function r(s,o,l){const c=[];let d,f,m,v,w;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(D_.lastIndex=m,d=D_.exec(s),v=d&&d.index!==void 0?d.index:s.length,w=s.charCodeAt(v),!d){e=s.slice(m);break}if(w===10&&m===v&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),m<v&&(c.push(s.slice(m,v)),t+=v-m),w){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:i=!0,t=1}m=v+1}return l&&(i&&c.push(-5),e&&c.push(e),c.push(null)),c}}const voe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function boe(t){return t.replace(voe,yoe)}function yoe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return P3(n.slice(s?2:1),s?16:10)}return pR(n)||t}const W3={}.hasOwnProperty;function woe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),xoe(n)(moe(poe(n).document().write(goe()(t,e,!0))))}function xoe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(yt),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(Qe),blockQuote:s(je),characterEscape:W,characterReference:W,codeFenced:s(Ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ne,o),codeText:s(ye,o),codeTextData:W,data:W,codeFlowValue:W,definition:s(Oe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ze),hardBreakEscape:s(gt),hardBreakTrailing:s(gt),htmlFlow:s(bt,o),htmlFlowData:W,htmlText:s(bt,o),htmlTextData:W,image:s(tn),label:o,link:s(yt),listItem:s(an),listItemValue:v,listOrdered:s(dn,m),listUnordered:s(dn),paragraph:s(Xn),reference:V,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Qe),strong:s(ti),thematicBreak:s(ni)},exit:{atxHeading:c(),atxHeadingSequence:P,autolink:c(),autolinkEmail:ke,autolinkProtocol:Ee,blockQuote:c(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:ve,characterReference:Ce,codeFenced:c(_),codeFencedFence:S,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:z,codeIndented:c(R),codeText:c(Y),codeTextData:z,data:z,definition:c(),definitionDestinationString:D,definitionLabelString:M,definitionTitleString:k,emphasis:c(),hardBreakEscape:c(Z),hardBreakTrailing:c(Z),htmlFlow:c(ne),htmlFlowData:z,htmlText:c(H),htmlTextData:z,image:c(J),label:K,labelText:X,lineEnding:Q,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:fe,resourceDestinationString:L,resourceTitleString:ee,resource:ue,setextHeading:c(B),setextHeadingLineSequence:j,setextHeadingText:O,strong:c(),thematicBreak:c()}};G3(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(we){let Le={type:"root",children:[]};const Xe={stack:[Le],tokenStack:[],config:e,enter:l,exit:d,buffer:o,resume:f,data:n},st=[];let ft=-1;for(;++ft<we.length;)if(we[ft][1].type==="listOrdered"||we[ft][1].type==="listUnordered")if(we[ft][0]==="enter")st.push(ft);else{const kn=st.pop();ft=r(we,kn,ft)}for(ft=-1;++ft<we.length;){const kn=e[we[ft][0]];W3.call(kn,we[ft][1].type)&&kn[we[ft][1].type].call(Object.assign({sliceSerialize:we[ft][2].sliceSerialize},Xe),we[ft][1])}if(Xe.tokenStack.length>0){const kn=Xe.tokenStack[Xe.tokenStack.length-1];(kn[1]||N_).call(Xe,void 0,kn[0])}for(Le.position={start:ou(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:ou(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)Le=e.transforms[ft](Le)||Le;return Le}function r(we,Le,Xe){let st=Le-1,ft=-1,kn=!1,Kn,hn,ln,Oi;for(;++st<=Xe;){const Xt=we[st];switch(Xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xt[0]==="enter"?ft++:ft--,Oi=void 0;break}case"lineEndingBlank":{Xt[0]==="enter"&&(Kn&&!Oi&&!ft&&!ln&&(ln=st),Oi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Oi=void 0}if(!ft&&Xt[0]==="enter"&&Xt[1].type==="listItemPrefix"||ft===-1&&Xt[0]==="exit"&&(Xt[1].type==="listUnordered"||Xt[1].type==="listOrdered")){if(Kn){let rn=st;for(hn=void 0;rn--;){const hi=we[rn];if(hi[1].type==="lineEnding"||hi[1].type==="lineEndingBlank"){if(hi[0]==="exit")continue;hn&&(we[hn][1].type="lineEndingBlank",kn=!0),hi[1].type="lineEnding",hn=rn}else if(!(hi[1].type==="linePrefix"||hi[1].type==="blockQuotePrefix"||hi[1].type==="blockQuotePrefixWhitespace"||hi[1].type==="blockQuoteMarker"||hi[1].type==="listItemIndent"))break}ln&&(!hn||ln<hn)&&(Kn._spread=!0),Kn.end=Object.assign({},hn?we[hn][1].start:Xt[1].end),we.splice(hn||st,0,["exit",Kn,Xt[2]]),st++,Xe++}if(Xt[1].type==="listItemPrefix"){const rn={type:"listItem",_spread:!1,start:Object.assign({},Xt[1].start),end:void 0};Kn=rn,we.splice(st,0,["enter",rn,Xt[2]]),st++,Xe++,ln=void 0,Oi=!0}}}return we[Le][1]._spread=kn,Xe}function s(we,Le){return Xe;function Xe(st){l.call(this,we(st),st),Le&&Le.call(this,st)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(we,Le,Xe){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Le,Xe||void 0]),we.position={start:ou(Le.start),end:void 0}}function c(we){return Le;function Le(Xe){we&&we.call(this,Xe),d.call(this,Xe)}}function d(we,Le){const Xe=this.stack.pop(),st=this.tokenStack.pop();if(st)st[0].type!==we.type&&(Le?Le.call(this,we,st[0]):(st[1]||N_).call(this,we,st[0]));else throw new Error("Cannot close `"+we.type+"` ("+mg({start:we.start,end:we.end})+"): it’s not open");Xe.position.end=ou(we.end)}function f(){return fR(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(we){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function w(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=we}function C(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=we}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we.replace(/(\r?\n|\r)$/g,"")}function M(we){const Le=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Le,Xe.identifier=lo(this.sliceSerialize(we)).toLowerCase()}function k(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.title=we}function D(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.url=we}function P(we){const Le=this.stack[this.stack.length-1];if(!Le.depth){const Xe=this.sliceSerialize(we).length;Le.depth=Xe}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function j(we){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function W(we){const Xe=this.stack[this.stack.length-1].children;let st=Xe[Xe.length-1];(!st||st.type!=="text")&&(st=Fn(),st.position={start:ou(we.start),end:void 0},Xe.push(st)),this.stack.push(st)}function z(we){const Le=this.stack.pop();Le.value+=this.sliceSerialize(we),Le.position.end=ou(we.end)}function Q(we){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Xe=Le.children[Le.children.length-1];Xe.position.end=ou(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Le.type)&&(W.call(this,we),z.call(this,we))}function Z(){this.data.atHardBreak=!0}function ne(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function H(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function Y(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function U(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Le,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function J(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Le,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function X(we){const Le=this.sliceSerialize(we),Xe=this.stack[this.stack.length-2];Xe.label=boe(Le),Xe.identifier=lo(Le).toLowerCase()}function K(){const we=this.stack[this.stack.length-1],Le=this.resume(),Xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Xe.type==="link"){const st=we.children;Xe.children=st}else Xe.alt=Le}function L(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.url=we}function ee(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.title=we}function ue(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function fe(we){const Le=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Le,Xe.identifier=lo(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function be(we){this.data.characterReferenceType=we.type}function ve(we){const Le=this.sliceSerialize(we),Xe=this.data.characterReferenceType;let st;Xe?(st=P3(Le,Xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):st=pR(Le);const ft=this.stack[this.stack.length-1];ft.value+=st}function Ce(we){const Le=this.stack.pop();Le.position.end=ou(we.end)}function Ee(we){z.call(this,we);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(we)}function ke(we){z.call(this,we);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(we)}function je(){return{type:"blockquote",children:[]}}function Ne(){return{type:"code",lang:null,meta:null,value:""}}function ye(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function gt(){return{type:"break"}}function bt(){return{type:"html",value:""}}function tn(){return{type:"image",title:null,url:"",alt:null}}function yt(){return{type:"link",title:null,url:"",children:[]}}function dn(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function an(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function Xn(){return{type:"paragraph",children:[]}}function ti(){return{type:"strong",children:[]}}function Fn(){return{type:"text",value:""}}function ni(){return{type:"thematicBreak"}}}function ou(t){return{line:t.line,column:t.column,offset:t.offset}}function G3(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?G3(t,i):Coe(t,i)}}function Coe(t,e){let n;for(n in e)if(W3.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function N_(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mg({start:e.start,end:e.end})+") is still open")}function Eoe(t){const e=this;e.parser=n;function n(i){return woe(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Soe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Roe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Toe(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function _oe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Aoe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function koe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Wf(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let o,l=t.footnoteCounts.get(i);l===void 0?(l=0,t.footnoteOrder.push(i),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(i,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function Moe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Doe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function q3(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function Noe(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return q3(t,e);const r={src:Wf(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,s),t.applyData(e,s)}function Loe(t,e){const n={src:Wf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function Ooe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function Poe(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return q3(t,e);const r={href:Wf(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function joe(t,e){const n={href:Wf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Ioe(t,e,n){const i=t.all(e),r=n?zoe(n):Y3(e),s={},o=[];if(typeof e.checked=="boolean"){const f=i[0];let m;f&&f.type==="element"&&f.tagName==="p"?m=f:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<i.length;){const f=i[l];(r||l!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!r?o.push(...f.children):o.push(f)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function zoe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Y3(n[i])}return e}function Y3(t){const e=t.spread;return e??t.children.length>1}function Foe(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Hoe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Boe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Uoe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $oe(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=uR(e.children[1]),c=_3(e.children[e.children.length-1]);l&&c&&(o.position={start:l,end:c}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Voe(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let c=-1;const d=[];for(;++c<l;){const m=e.children[c],v={},w=o?o[c]:void 0;w&&(v.align=w);let C={type:"element",tagName:s,properties:v,children:[]};m&&(C.children=t.all(m),t.patch(m,C),C=t.applyData(m,C)),d.push(C)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function Woe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const L_=9,O_=32;function Goe(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const s=[];for(;i;)s.push(P_(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return s.push(P_(e.slice(r),r>0,!1)),s.join("")}function P_(t,e,n){let i=0,r=t.length;if(e){let s=t.codePointAt(i);for(;s===L_||s===O_;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(r-1);for(;s===L_||s===O_;)r--,s=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function qoe(t,e){const n={type:"text",value:Goe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Yoe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Xoe={blockquote:Soe,break:Roe,code:Toe,delete:_oe,emphasis:Aoe,footnoteReference:koe,heading:Moe,html:Doe,imageReference:Noe,image:Loe,inlineCode:Ooe,linkReference:Poe,link:joe,listItem:Ioe,list:Foe,paragraph:Hoe,root:Boe,strong:Uoe,table:$oe,tableCell:Woe,tableRow:Voe,text:qoe,thematicBreak:Yoe,toml:$y,yaml:$y,definition:$y,footnoteDefinition:$y};function $y(){}const X3=-1,Gw=0,vg=1,B0=2,gR=3,vR=4,bR=5,yR=6,K3=7,J3=8,j_=typeof self=="object"?self:globalThis,Koe=(t,e)=>{const n=(r,s)=>(t.set(s,r),r),i=r=>{if(t.has(r))return t.get(r);const[s,o]=e[r];switch(s){case Gw:case X3:return n(o,r);case vg:{const l=n([],r);for(const c of o)l.push(i(c));return l}case B0:{const l=n({},r);for(const[c,d]of o)l[i(c)]=i(d);return l}case gR:return n(new Date(o),r);case vR:{const{source:l,flags:c}=o;return n(new RegExp(l,c),r)}case bR:{const l=n(new Map,r);for(const[c,d]of o)l.set(i(c),i(d));return l}case yR:{const l=n(new Set,r);for(const c of o)l.add(i(c));return l}case K3:{const{name:l,message:c}=o;return n(new j_[l](c),r)}case J3:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new j_[s](o),r)};return i},I_=t=>Koe(new Map,t)(0),Jh="",{toString:Joe}={},{keys:Zoe}=Object,tg=t=>{const e=typeof t;if(e!=="object"||!t)return[Gw,e];const n=Joe.call(t).slice(8,-1);switch(n){case"Array":return[vg,Jh];case"Object":return[B0,Jh];case"Date":return[gR,Jh];case"RegExp":return[vR,Jh];case"Map":return[bR,Jh];case"Set":return[yR,Jh];case"DataView":return[vg,n]}return n.includes("Array")?[vg,n]:n.includes("Error")?[K3,n]:[B0,n]},Vy=([t,e])=>t===Gw&&(e==="function"||e==="symbol"),Qoe=(t,e,n,i)=>{const r=(o,l)=>{const c=i.push(o)-1;return n.set(l,c),c},s=o=>{if(n.has(o))return n.get(o);let[l,c]=tg(o);switch(l){case Gw:{let f=o;switch(c){case"bigint":l=J3,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return r([X3],o)}return r([l,f],o)}case vg:{if(c){let v=o;return c==="DataView"?v=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(o)),r([c,[...v]],o)}const f=[],m=r([l,f],o);for(const v of o)f.push(s(v));return m}case B0:{if(c)switch(c){case"BigInt":return r([c,o.toString()],o);case"Boolean":case"Number":case"String":return r([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],m=r([l,f],o);for(const v of Zoe(o))(t||!Vy(tg(o[v])))&&f.push([s(v),s(o[v])]);return m}case gR:return r([l,o.toISOString()],o);case vR:{const{source:f,flags:m}=o;return r([l,{source:f,flags:m}],o)}case bR:{const f=[],m=r([l,f],o);for(const[v,w]of o)(t||!(Vy(tg(v))||Vy(tg(w))))&&f.push([s(v),s(w)]);return m}case yR:{const f=[],m=r([l,f],o);for(const v of o)(t||!Vy(tg(v)))&&f.push(s(v));return m}}const{message:d}=o;return r([l,{name:c,message:d}],o)};return s},z_=(t,{json:e,lossy:n}={})=>{const i=[];return Qoe(!(e||n),!!e,new Map,i)(t),i},U0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?I_(z_(t,e)):structuredClone(t):(t,e)=>I_(z_(t,e));function eae(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function tae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function nae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||eae,i=t.options.footnoteBackLabel||tae,r=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const f=t.all(d),m=String(d.identifier).toUpperCase(),v=Wf(m.toLowerCase());let w=0;const C=[],S=t.footnoteCounts.get(m);for(;S!==void 0&&++w<=S;){C.length>0&&C.push({type:"text",value:" "});let M=typeof n=="string"?n:n(c,w);typeof M=="string"&&(M={type:"text",value:M}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,w),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const _=f[f.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const M=_.children[_.children.length-1];M&&M.type==="text"?M.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...C)}else f.push(...C);const R={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(f,!0)};t.patch(d,R),l.push(R)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...U0(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const qw=function(t){if(t==null)return oae;if(typeof t=="function")return Yw(t);if(typeof t=="object")return Array.isArray(t)?iae(t):rae(t);if(typeof t=="string")return sae(t);throw new Error("Expected function, string, or object as test")};function iae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=qw(t[n]);return Yw(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function rae(t){const e=t;return Yw(n);function n(i){const r=i;let s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function sae(t){return Yw(e);function e(n){return n&&n.type===t}}function Yw(t){return e;function e(n,i,r){return!!(aae(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function oae(){return!0}function aae(t){return t!==null&&typeof t=="object"&&"type"in t}const Z3=[],lae=!0,LE=!1,uae="skip";function Q3(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const s=qw(r),o=i?-1:1;l(t,void 0,[])();function l(c,d,f){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(w?"<"+w+">":""))+")"})}return v;function v(){let w=Z3,C,S,_;if((!e||s(c,d,f[f.length-1]||void 0))&&(w=cae(n(c,f)),w[0]===LE))return w;if("children"in c&&c.children){const R=c;if(R.children&&w[0]!==uae)for(S=(i?R.children.length:-1)+o,_=f.concat(R);S>-1&&S<R.children.length;){const M=R.children[S];if(C=l(M,S,_)(),C[0]===LE)return C;S=typeof C[1]=="number"?C[1]:S+o}}return w}}}function cae(t){return Array.isArray(t)?t:typeof t=="number"?[lae,t]:t==null?Z3:[t]}function wR(t,e,n,i){let r,s,o;typeof e=="function"?(s=void 0,o=e,r=n):(s=e,o=n,r=i),Q3(t,s,l,r);function l(c,d){const f=d[d.length-1],m=f?f.children.indexOf(c):void 0;return o(c,m,f)}}const OE={}.hasOwnProperty,dae={};function hae(t,e){const n=e||dae,i=new Map,r=new Map,s=new Map,o={...Xoe,...n.handlers},l={all:d,applyData:pae,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:n,patch:fae,wrap:gae};return wR(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const m=f.type==="definition"?i:r,v=String(f.identifier).toUpperCase();m.has(v)||m.set(v,f)}}),l;function c(f,m){const v=f.type,w=l.handlers[v];if(OE.call(l.handlers,v)&&w)return w(l,f,m);if(l.options.passThrough&&l.options.passThrough.includes(v)){if("children"in f){const{children:S,..._}=f,R=U0(_);return R.children=l.all(f),R}return U0(f)}return(l.options.unknownHandler||mae)(l,f,m)}function d(f){const m=[];if("children"in f){const v=f.children;let w=-1;for(;++w<v.length;){const C=l.one(v[w],f);if(C){if(w&&v[w-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=F_(C.value)),!Array.isArray(C)&&C.type==="element")){const S=C.children[0];S&&S.type==="text"&&(S.value=F_(S.value))}Array.isArray(C)?m.push(...C):m.push(C)}}}return m}}function fae(t,e){t.position&&(e.position=tre(t))}function pae(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const o="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,U0(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function mae(t,e){const n=e.data||{},i="value"in e&&!(OE.call(n,"hProperties")||OE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function gae(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function F_(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function H_(t,e){const n=hae(t,e),i=n.one(t,void 0),r=nae(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function vae(t,e){return t&&"run"in t?async function(n,i){const r=H_(n,{file:i,...e});await t.run(r,i)}:function(n,i){return H_(n,{file:i,...t||e})}}function B_(t){if(t)throw t}var Q1,U_;function bae(){if(U_)return Q1;U_=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!m)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},o=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(i)return i(d,f).value}else return;return d[f]};return Q1=function c(){var d,f,m,v,w,C,S=arguments[0],_=1,R=arguments.length,M=!1;for(typeof S=="boolean"&&(M=S,S=arguments[1]||{},_=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});_<R;++_)if(d=arguments[_],d!=null)for(f in d)m=l(S,f),v=l(d,f),S!==v&&(M&&v&&(s(v)||(w=r(v)))?(w?(w=!1,C=m&&r(m)?m:[]):C=m&&s(m)?m:{},o(S,{name:f,newValue:c(M,C,v)})):typeof v<"u"&&o(S,{name:f,newValue:v}));return S},Q1}var yae=bae();const eC=qg(yae);function PE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wae(){const t=[],e={run:n,use:i};return e;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...r);function l(c,...d){const f=t[++s];let m=-1;if(c){o(c);return}for(;++m<r.length;)(d[m]===null||d[m]===void 0)&&(d[m]=r[m]);r=d,f?xae(f,l)(...d):o(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function xae(t,e){let n;return i;function i(...o){const l=t.length>o.length;let c;l&&o.push(r);try{c=t.apply(this,o)}catch(d){const f=d;if(l&&n)throw f;return r(f)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,r):c instanceof Error?r(c):s(c))}function r(o,...l){n||(n=!0,e(o,...l))}function s(o){r(null,o)}}const ia={basename:Cae,dirname:Eae,extname:Sae,join:Rae,sep:"/"};function Cae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bv(t);let n=0,i=-1,r=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let o=-1,l=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),l>-1&&(t.codePointAt(r)===e.codePointAt(l--)?l<0&&(i=r):(l=-1,i=o));return n===i?i=o:i<0&&(i=t.length),t.slice(n,i)}function Eae(t){if(bv(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Sae(t){bv(t);let e=t.length,n=-1,i=0,r=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){i=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function Rae(...t){let e=-1,n;for(;++e<t.length;)bv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Tae(n)}function Tae(t){bv(t);const e=t.codePointAt(0)===47;let n=_ae(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function _ae(t,e){let n="",i=0,r=-1,s=0,o=-1,l,c;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o),i=o-r-1;r=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function bv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Aae={cwd:kae};function kae(){return"/"}function jE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Mae(t){if(typeof t=="string")t=new URL(t);else if(!jE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Dae(t)}function Dae(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const tC=["history","path","basename","stem","extname","dirname"];class ej{constructor(e){let n;e?jE(e)?n={path:e}:typeof e=="string"||Nae(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Aae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<tC.length;){const s=tC[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)tC.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ia.basename(this.path):void 0}set basename(e){iC(e,"basename"),nC(e,"basename"),this.path=ia.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ia.dirname(this.path):void 0}set dirname(e){$_(this.basename,"dirname"),this.path=ia.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ia.extname(this.path):void 0}set extname(e){if(nC(e,"extname"),$_(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ia.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){jE(e)&&(e=Mae(e)),iC(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ia.basename(this.path,this.extname):void 0}set stem(e){iC(e,"stem"),nC(e,"stem"),this.path=ia.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new Li(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function nC(t,e){if(t&&t.includes(ia.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ia.sep+"`")}function iC(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function $_(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Nae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Lae=function(t){const i=this.constructor.prototype,r=i[t],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},Oae={}.hasOwnProperty;class xR extends Lae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wae()}copy(){const e=new xR;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(eC(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(oC("data",this.frozen),this.namespace[e]=n,this):Oae.call(this.namespace,e)&&this.namespace[e]||void 0:e?(oC("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Wy(e),i=this.parser||this.Parser;return rC("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),rC("process",this.parser||this.Parser),sC("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,o){const l=Wy(e),c=i.parse(l);i.run(c,l,function(f,m,v){if(f||!m||!v)return d(f);const w=m,C=i.stringify(w,v);Iae(C)?v.value=C:v.result=C,d(f,v)});function d(f,m){f||!m?o(f):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,i;return this.freeze(),rC("processSync",this.parser||this.Parser),sC("processSync",this.compiler||this.Compiler),this.process(e,r),W_("processSync","process",n),i;function r(s,o){n=!0,B_(s),i=o}}run(e,n,i){V_(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(o,l){const c=Wy(n);r.run(e,c,d);function d(f,m,v){const w=m||e;f?l(f):o?o(w):i(void 0,w,v)}}}runSync(e,n){let i=!1,r;return this.run(e,n,s),W_("runSync","run",i),r;function s(o,l){B_(o),r=l,i=!0}}stringify(e,n){this.freeze();const i=Wy(n),r=this.compiler||this.Compiler;return sC("stringify",r),V_(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(oC("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...m]=d;c(f,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(r.settings=eC(!0,r.settings,d.settings))}function l(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const m=d[f];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let m=-1,v=-1;for(;++m<i.length;)if(i[m][0]===d){v=m;break}if(v===-1)i.push([d,...f]);else if(f.length>0){let[w,...C]=f;const S=i[v][1];PE(S)&&PE(w)&&(w=eC(!0,S,w)),i[v]=[d,w,...C]}}}}const Pae=new xR().freeze();function rC(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function sC(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function oC(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V_(t){if(!PE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function W_(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Wy(t){return jae(t)?t:new ej(t)}function jae(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Iae(t){return typeof t=="string"||zae(t)}function zae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Fae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G_=[],q_={allowDangerousHtml:!0},Hae=/^(https?|ircs?|mailto|xmpp)$/i,Bae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uae(t){const e=$ae(t),n=Vae(t);return Wae(e.runSync(e.parse(n),n),t)}function $ae(t){const e=t.rehypePlugins||G_,n=t.remarkPlugins||G_,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...q_}:q_;return Pae().use(Eoe).use(n).use(vae,i).use(e)}function Vae(t){const e=t.children||"",n=new ej;return typeof e=="string"&&(n.value=e),n}function Wae(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||Gae;for(const f of Bae)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Fae+f.id,void 0);return wR(t,d),ore(t,{Fragment:g.Fragment,components:r,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(f,m,v){if(f.type==="raw"&&v&&typeof m=="number")return o?v.children.splice(m,1):v.children[m]={type:"text",value:f.value},m;if(f.type==="element"){let w;for(w in K1)if(Object.hasOwn(K1,w)&&Object.hasOwn(f.properties,w)){const C=f.properties[w],S=K1[w];(S===null||S.includes(f.tagName))&&(f.properties[w]=c(String(C||""),w,f))}}if(f.type==="element"){let w=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!w&&i&&typeof m=="number"&&(w=!i(f,m,v)),w&&v&&typeof m=="number")return l&&f.children?v.children.splice(m,1,...f.children):v.children.splice(m,1),m}}}function Gae(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||Hae.test(t.slice(0,e))?t:""}function Y_(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}function qae(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Yae(t,e,n){const r=qw((n||{}).ignore||[]),s=Xae(e);let o=-1;for(;++o<s.length;)Q3(t,"text",l);function l(d,f){let m=-1,v;for(;++m<f.length;){const w=f[m],C=v?v.children:void 0;if(r(w,C?C.indexOf(w):void 0,v))return;v=w}if(v)return c(d,f)}function c(d,f){const m=f[f.length-1],v=s[o][0],w=s[o][1];let C=0;const _=m.children.indexOf(d);let R=!1,M=[];v.lastIndex=0;let k=v.exec(d.value);for(;k;){const D=k.index,P={index:k.index,input:k.input,stack:[...f,d]};let O=w(...k,P);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?v.lastIndex=D+1:(C!==D&&M.push({type:"text",value:d.value.slice(C,D)}),Array.isArray(O)?M.push(...O):O&&M.push(O),C=D+k[0].length,R=!0),!v.global)break;k=v.exec(d.value)}return R?(C<d.value.length&&M.push({type:"text",value:d.value.slice(C)}),m.children.splice(_,1,...M)):M=[d],_+M.length}}function Xae(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([Kae(r[0]),Jae(r[1])])}return e}function Kae(t){return typeof t=="string"?new RegExp(qae(t),"g"):t}function Jae(t){return typeof t=="function"?t:function(){return t}}const aC="phrasing",lC=["autolink","link","image","label"];function Zae(){return{transforms:[sle],enter:{literalAutolink:ele,literalAutolinkEmail:uC,literalAutolinkHttp:uC,literalAutolinkWww:uC},exit:{literalAutolink:rle,literalAutolinkEmail:ile,literalAutolinkHttp:tle,literalAutolinkWww:nle}}}function Qae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:aC,notInConstruct:lC},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:aC,notInConstruct:lC},{character:":",before:"[ps]",after:"\\/",inConstruct:aC,notInConstruct:lC}]}}function ele(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function uC(t){this.config.enter.autolinkProtocol.call(this,t)}function tle(t){this.config.exit.autolinkProtocol.call(this,t)}function nle(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function ile(t){this.config.exit.autolinkEmail.call(this,t)}function rle(t){this.exit(t)}function sle(t){Yae(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ole],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ale]],{ignore:["link","linkReference"]})}function ole(t,e,n,i,r){let s="";if(!tj(r)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!lle(n)))return!1;const o=ule(n+i);if(!o[0])return!1;const l={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function ale(t,e,n,i){return!tj(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function lle(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function ule(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=Y_(t,"(");let s=Y_(t,")");for(;i!==-1&&r>s;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[t,n]}function tj(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||cd(n)||Vw(n))&&(!e||n!==47)}nj.peek=ble;function cle(){this.buffer()}function dle(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function hle(){this.buffer()}function fle(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function ple(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function mle(t){this.exit(t)}function gle(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function vle(t){this.exit(t)}function ble(){return"["}function nj(t,e,n,i){const r=n.createTracker(i);let s=r.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return s+=r.move(n.safe(n.associationId(t),{after:"]",before:s})),l(),o(),s+=r.move("]"),s}function yle(){return{enter:{gfmFootnoteCallString:cle,gfmFootnoteCall:dle,gfmFootnoteDefinitionLabelString:hle,gfmFootnoteDefinition:fle},exit:{gfmFootnoteCallString:ple,gfmFootnoteCall:mle,gfmFootnoteDefinitionLabelString:gle,gfmFootnoteDefinition:vle}}}function wle(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:nj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,s,o){const l=s.createTracker(o);let c=l.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=l.move(s.safe(s.associationId(i),{before:c,after:"]"})),f(),c+=l.move("]:"),i.children&&i.children.length>0&&(l.shift(4),c+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,l.current()),e?ij:xle))),d(),c}}function xle(t,e,n){return e===0?t:ij(t,e,n)}function ij(t,e,n){return(n?"":"    ")+t}const Cle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];rj.peek=_le;function Ele(){return{canContainEols:["delete"],enter:{strikethrough:Rle},exit:{strikethrough:Tle}}}function Sle(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Cle}],handlers:{delete:rj}}}function Rle(t){this.enter({type:"delete",children:[]},t)}function Tle(t){this.exit(t)}function rj(t,e,n,i){const r=n.createTracker(i),s=n.enter("strikethrough");let o=r.move("~~");return o+=n.containerPhrasing(t,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),s(),o}function _le(){return"~"}function Ale(t){return t.length}function kle(t,e){const n=e||{},i=(n.align||[]).concat(),r=n.stringLength||Ale,s=[],o=[],l=[],c=[];let d=0,f=-1;for(;++f<t.length;){const S=[],_=[];let R=-1;for(t[f].length>d&&(d=t[f].length);++R<t[f].length;){const M=Mle(t[f][R]);if(n.alignDelimiters!==!1){const k=r(M);_[R]=k,(c[R]===void 0||k>c[R])&&(c[R]=k)}S.push(M)}o[f]=S,l[f]=_}let m=-1;if(typeof i=="object"&&"length"in i)for(;++m<d;)s[m]=X_(i[m]);else{const S=X_(i);for(;++m<d;)s[m]=S}m=-1;const v=[],w=[];for(;++m<d;){const S=s[m];let _="",R="";S===99?(_=":",R=":"):S===108?_=":":S===114&&(R=":");let M=n.alignDelimiters===!1?1:Math.max(1,c[m]-_.length-R.length);const k=_+"-".repeat(M)+R;n.alignDelimiters!==!1&&(M=_.length+M+R.length,M>c[m]&&(c[m]=M),w[m]=M),v[m]=k}o.splice(1,0,v),l.splice(1,0,w),f=-1;const C=[];for(;++f<o.length;){const S=o[f],_=l[f];m=-1;const R=[];for(;++m<d;){const M=S[m]||"";let k="",D="";if(n.alignDelimiters!==!1){const P=c[m]-(_[m]||0),O=s[m];O===114?k=" ".repeat(P):O===99?P%2?(k=" ".repeat(P/2+.5),D=" ".repeat(P/2-.5)):(k=" ".repeat(P/2),D=k):D=" ".repeat(P)}n.delimiterStart!==!1&&!m&&R.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&M==="")&&(n.delimiterStart!==!1||m)&&R.push(" "),n.alignDelimiters!==!1&&R.push(k),R.push(M),n.alignDelimiters!==!1&&R.push(D),n.padding!==!1&&R.push(" "),(n.delimiterEnd!==!1||m!==d-1)&&R.push("|")}C.push(n.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return C.join(`
`)}function Mle(t){return t==null?"":String(t)}function X_(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Dle(t,e,n,i){const r=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Nle);return r(),o}function Nle(t,e,n){return">"+(n?"":" ")+t}function Lle(t,e){return K_(t,e.inConstruct,!0)&&!K_(t,e.notInConstruct,!1)}function K_(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function J_(t,e,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Lle(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Ole(t,e){const n=String(t);let i=n.indexOf(e),r=i,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>o&&(o=s):s=1,r=i+e.length,i=n.indexOf(e,r);return o}function Ple(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function jle(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Ile(t,e,n,i){const r=jle(n),s=t.value||"",o=r==="`"?"GraveAccent":"Tilde";if(Ple(t,n)){const m=n.enter("codeIndented"),v=n.indentLines(s,zle);return m(),v}const l=n.createTracker(i),c=r.repeat(Math.max(Ole(s,r)+1,3)),d=n.enter("codeFenced");let f=l.move(c);if(t.lang){const m=n.enter(`codeFencedLang${o}`);f+=l.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...l.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${o}`);f+=l.move(" "),f+=l.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...l.current()})),m()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(c),d(),f}function zle(t,e,n){return(n?"":"    ")+t}function CR(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Fle(t,e,n,i){const r=CR(n),s=r==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const c=n.createTracker(i);let d=c.move("[");return d+=c.move(n.safe(n.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=c.move(" "+r),d+=c.move(n.safe(t.title,{before:d,after:r,...c.current()})),d+=c.move(r),l()),o(),d}function Hle(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Wg(t){return"&#x"+t.toString(16).toUpperCase()+";"}function $0(t,e,n){const i=Mf(t),r=Mf(e);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}sj.peek=Ble;function sj(t,e,n,i){const r=Hle(n),s=n.enter("emphasis"),o=n.createTracker(i),l=o.move(r);let c=o.move(n.containerPhrasing(t,{after:r,before:l,...o.current()}));const d=c.charCodeAt(0),f=$0(i.before.charCodeAt(i.before.length-1),d,r);f.inside&&(c=Wg(d)+c.slice(1));const m=c.charCodeAt(c.length-1),v=$0(i.after.charCodeAt(0),m,r);v.inside&&(c=c.slice(0,-1)+Wg(m));const w=o.move(r);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},l+c+w}function Ble(t,e,n){return n.options.emphasis||"*"}function Ule(t,e){let n=!1;return wR(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,LE}),!!((!t.depth||t.depth<3)&&fR(t)&&(e.options.setext||n))}function $le(t,e,n,i){const r=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(i);if(Ule(t,n)){const f=n.enter("headingSetext"),m=n.enter("phrasing"),v=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),f(),v+`
`+(r===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const o="#".repeat(r),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(o+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Wg(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,n.options.closeAtx&&(d+=" "+o),c(),l(),d}oj.peek=Vle;function oj(t){return t.value||""}function Vle(){return"<"}aj.peek=Wle;function aj(t,e,n,i){const r=CR(n),s=r==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const c=n.createTracker(i);let d=c.move("![");return d+=c.move(n.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=c.move(" "+r),d+=c.move(n.safe(t.title,{before:d,after:r,...c.current()})),d+=c.move(r),l()),d+=c.move(")"),o(),d}function Wle(){return"!"}lj.peek=Gle;function lj(t,e,n,i){const r=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("![");const d=n.safe(t.alt,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return o(),n.stack=f,s(),r==="full"||!d||d!==m?c+=l.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Gle(){return"!"}uj.peek=qle;function uj(t,e,n){let i=t.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=n.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(i);){let d=c.index;i.charCodeAt(d)===10&&i.charCodeAt(d-1)===13&&d--,i=i.slice(0,d)+" "+i.slice(c.index+1)}}return r+i+r}function qle(){return"`"}function cj(t,e){const n=fR(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}dj.peek=Yle;function dj(t,e,n,i){const r=CR(n),s=r==='"'?"Quote":"Apostrophe",o=n.createTracker(i);let l,c;if(cj(t,n)){const f=n.stack;n.stack=[],l=n.enter("autolink");let m=o.move("<");return m+=o.move(n.containerPhrasing(t,{before:m,after:">",...o.current()})),m+=o.move(">"),l(),n.stack=f,m}l=n.enter("link"),c=n.enter("label");let d=o.move("[");return d+=o.move(n.containerPhrasing(t,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(n.safe(t.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=n.enter("destinationRaw"),d+=o.move(n.safe(t.url,{before:d,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=n.enter(`title${s}`),d+=o.move(" "+r),d+=o.move(n.safe(t.title,{before:d,after:r,...o.current()})),d+=o.move(r),c()),d+=o.move(")"),l(),d}function Yle(t,e,n){return cj(t,n)?"<":"["}hj.peek=Xle;function hj(t,e,n,i){const r=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("[");const d=n.containerPhrasing(t,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(t),{before:c,after:"]",...l.current()});return o(),n.stack=f,s(),r==="full"||!d||d!==m?c+=l.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Xle(){return"["}function ER(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Kle(t){const e=ER(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Jle(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function fj(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Zle(t,e,n,i){const r=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?Jle(n):ER(n);const l=t.ordered?o==="."?")":".":Kle(n);let c=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),fj(n)===o&&f){let m=-1;for(;++m<t.children.length;){const v=t.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),n.bulletCurrent=o;const d=n.containerFlow(t,i);return n.bulletLastUsed=o,n.bulletCurrent=s,r(),d}function Qle(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function eue(t,e,n,i){const r=Qle(n);let s=n.bulletCurrent||ER(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(i);l.move(s+" ".repeat(o-s.length)),l.shift(o);const c=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,l.current()),f);return c(),d;function f(m,v,w){return v?(w?"":" ".repeat(o))+m:(w?s:s+" ".repeat(o-s.length))+m}}function tue(t,e,n,i){const r=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,i);return s(),r(),o}const nue=qw(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function iue(t,e,n,i){return(t.children.some(function(o){return nue(o)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function rue(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}pj.peek=sue;function pj(t,e,n,i){const r=rue(n),s=n.enter("strong"),o=n.createTracker(i),l=o.move(r+r);let c=o.move(n.containerPhrasing(t,{after:r,before:l,...o.current()}));const d=c.charCodeAt(0),f=$0(i.before.charCodeAt(i.before.length-1),d,r);f.inside&&(c=Wg(d)+c.slice(1));const m=c.charCodeAt(c.length-1),v=$0(i.after.charCodeAt(0),m,r);v.inside&&(c=c.slice(0,-1)+Wg(m));const w=o.move(r+r);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},l+c+w}function sue(t,e,n){return n.options.strong||"*"}function oue(t,e,n,i){return n.safe(t.value,i)}function aue(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function lue(t,e,n){const i=(fj(n)+(n.options.ruleSpaces?" ":"")).repeat(aue(n));return n.options.ruleSpaces?i.slice(0,-1):i}const mj={blockquote:Dle,break:J_,code:Ile,definition:Fle,emphasis:sj,hardBreak:J_,heading:$le,html:oj,image:aj,imageReference:lj,inlineCode:uj,link:dj,linkReference:hj,list:Zle,listItem:eue,paragraph:tue,root:iue,strong:pj,text:oue,thematicBreak:lue};function uue(){return{enter:{table:cue,tableData:Z_,tableHeader:Z_,tableRow:hue},exit:{codeText:fue,table:due,tableData:cC,tableHeader:cC,tableRow:cC}}}function cue(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function due(t){this.exit(t),this.data.inTable=void 0}function hue(t){this.enter({type:"tableRow",children:[]},t)}function cC(t){this.exit(t)}function Z_(t){this.enter({type:"tableCell",children:[]},t)}function fue(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,pue));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function pue(t,e){return e==="|"?e:t}function mue(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:o,tableCell:c,tableRow:l}};function o(w,C,S,_){return d(f(w,S,_),w.align)}function l(w,C,S,_){const R=m(w,S,_),M=d([R]);return M.slice(0,M.indexOf(`
`))}function c(w,C,S,_){const R=S.enter("tableCell"),M=S.enter("phrasing"),k=S.containerPhrasing(w,{..._,before:s,after:s});return M(),R(),k}function d(w,C){return kle(w,{align:C,alignDelimiters:i,padding:n,stringLength:r})}function f(w,C,S){const _=w.children;let R=-1;const M=[],k=C.enter("table");for(;++R<_.length;)M[R]=m(_[R],C,S);return k(),M}function m(w,C,S){const _=w.children;let R=-1;const M=[],k=C.enter("tableRow");for(;++R<_.length;)M[R]=c(_[R],w,C,S);return k(),M}function v(w,C,S){let _=mj.inlineCode(w,C,S);return S.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function gue(){return{exit:{taskListCheckValueChecked:Q_,taskListCheckValueUnchecked:Q_,paragraph:bue}}}function vue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yue}}}function Q_(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function bue(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,o;for(;++s<r.length;){const l=r[s];if(l.type==="paragraph"){o=l;break}}o===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function yue(t,e,n,i){const r=t.children[0],s=typeof t.checked=="boolean"&&r&&r.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",l=n.createTracker(i);s&&l.move(o);let c=mj.listItem(t,e,n,{...i,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+o}}function wue(){return[Zae(),yle(),Ele(),uue(),gue()]}function xue(t){return{extensions:[Qae(),wle(t),Sle(),mue(t),vue()]}}const Cue={tokenize:Aue,partial:!0},gj={tokenize:kue,partial:!0},vj={tokenize:Mue,partial:!0},bj={tokenize:Due,partial:!0},Eue={tokenize:Nue,partial:!0},yj={name:"wwwAutolink",tokenize:Tue,previous:xj},wj={name:"protocolAutolink",tokenize:_ue,previous:Cj},ll={name:"emailAutolink",tokenize:Rue,previous:Ej},ha={};function Sue(){return{text:ha}}let Wc=48;for(;Wc<123;)ha[Wc]=ll,Wc++,Wc===58?Wc=65:Wc===91&&(Wc=97);ha[43]=ll;ha[45]=ll;ha[46]=ll;ha[95]=ll;ha[72]=[ll,wj];ha[104]=[ll,wj];ha[87]=[ll,yj];ha[119]=[ll,yj];function Rue(t,e,n){const i=this;let r,s;return o;function o(m){return!IE(m)||!Ej.call(i,i.previous)||SR(i.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(m))}function l(m){return IE(m)?(t.consume(m),l):m===64?(t.consume(m),c):n(m)}function c(m){return m===46?t.check(Eue,f,d)(m):m===45||m===95||Ni(m)?(s=!0,t.consume(m),c):f(m)}function d(m){return t.consume(m),r=!0,c}function f(m){return s&&r&&Ji(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function Tue(t,e,n){const i=this;return r;function r(o){return o!==87&&o!==119||!xj.call(i,i.previous)||SR(i.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Cue,t.attempt(gj,t.attempt(vj,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function _ue(t,e,n){const i=this;let r="",s=!1;return o;function o(m){return(m===72||m===104)&&Cj.call(i,i.previous)&&!SR(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(m),t.consume(m),l):n(m)}function l(m){if(Ji(m)&&r.length<5)return r+=String.fromCodePoint(m),t.consume(m),l;if(m===58){const v=r.toLowerCase();if(v==="http"||v==="https")return t.consume(m),c}return n(m)}function c(m){return m===47?(t.consume(m),s?d:(s=!0,c)):n(m)}function d(m){return m===null||H0(m)||cn(m)||cd(m)||Vw(m)?n(m):t.attempt(gj,t.attempt(vj,f),n)(m)}function f(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function Aue(t,e,n){let i=0;return r;function r(o){return(o===87||o===119)&&i<3?(i++,t.consume(o),r):o===46&&i===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function kue(t,e,n){let i,r,s;return o;function o(d){return d===46||d===95?t.check(bj,c,l)(d):d===null||cn(d)||cd(d)||d!==45&&Vw(d)?c(d):(s=!0,t.consume(d),o)}function l(d){return d===95?i=!0:(r=i,i=void 0),t.consume(d),o}function c(d){return r||i||!s?n(d):e(d)}}function Mue(t,e){let n=0,i=0;return r;function r(o){return o===40?(n++,t.consume(o),r):o===41&&i<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(bj,e,s)(o):o===null||cn(o)||cd(o)?e(o):(t.consume(o),r)}function s(o){return o===41&&i++,t.consume(o),r}}function Due(t,e,n){return i;function i(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),i):l===38?(t.consume(l),s):l===93?(t.consume(l),r):l===60||l===null||cn(l)||cd(l)?e(l):n(l)}function r(l){return l===null||l===40||l===91||cn(l)||cd(l)?e(l):i(l)}function s(l){return Ji(l)?o(l):n(l)}function o(l){return l===59?(t.consume(l),i):Ji(l)?(t.consume(l),o):n(l)}}function Nue(t,e,n){return i;function i(s){return t.consume(s),r}function r(s){return Ni(s)?n(s):e(s)}}function xj(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||cn(t)}function Cj(t){return!Ji(t)}function Ej(t){return!(t===47||IE(t))}function IE(t){return t===43||t===45||t===46||t===95||Ni(t)}function SR(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Lue={tokenize:Bue,partial:!0};function Oue(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zue,continuation:{tokenize:Fue},exit:Hue}},text:{91:{name:"gfmFootnoteCall",tokenize:Iue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Pue,resolveTo:jue}}}}function Pue(t,e,n){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return n(c);const d=lo(i.sliceSerialize({start:o.end,end:i.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function jue(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...l),t}function Iue(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,o;return l;function l(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(m){if(s>999||m===93&&!o||m===null||m===91||cn(m))return n(m);if(m===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return r.includes(lo(i.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return cn(m)||(o=!0),s++,t.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(t.consume(m),s++,d):d(m)}}function zue(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,o=0,l;return c;function c(C){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(C){return C===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(C)}function f(C){if(o>999||C===93&&!l||C===null||C===91||cn(C))return n(C);if(C===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return s=lo(i.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return cn(C)||(l=!0),o++,t.consume(C),C===92?m:f}function m(C){return C===91||C===92||C===93?(t.consume(C),o++,f):f(C)}function v(C){return C===58?(t.enter("definitionMarker"),t.consume(C),t.exit("definitionMarker"),r.includes(s)||r.push(s),Ht(t,w,"gfmFootnoteDefinitionWhitespace")):n(C)}function w(C){return e(C)}}function Fue(t,e,n){return t.check(vv,e,t.attempt(Lue,e,n))}function Hue(t){t.exit("gfmFootnoteDefinition")}function Bue(t,e,n){const i=this;return Ht(t,r,"gfmFootnoteDefinitionIndent",5);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Uue(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},m={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},v=[["enter",f,l],["enter",o[d][1],l],["exit",o[d][1],l],["enter",m,l]],w=l.parser.constructs.insideSpan.null;w&&Gr(v,v.length,0,Ww(w,o.slice(d+1,c),l)),Gr(v,v.length,0,[["exit",m,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",f,l]]),Gr(o,d-1,c-d+3,v),c=d+v.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function s(o,l,c){const d=this.previous,f=this.events;let m=0;return v;function v(C){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(C):(o.enter("strikethroughSequenceTemporary"),w(C))}function w(C){const S=Mf(d);if(C===126)return m>1?c(C):(o.consume(C),m++,w);if(m<2&&!n)return c(C);const _=o.exit("strikethroughSequenceTemporary"),R=Mf(C);return _._open=!R||R===2&&!!S,_._close=!S||S===2&&!!R,l(C)}}}class $ue{constructor(){this.map=[]}add(e,n,i){Vue(this,e,n,i)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function Vue(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function Wue(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function Gue(){return{flow:{null:{name:"table",tokenize:que,resolveAll:Yue}}}}function que(t,e,n){const i=this;let r=0,s=0,o;return l;function l(z){let Q=i.events.length-1;for(;Q>-1;){const H=i.events[Q][1].type;if(H==="lineEnding"||H==="linePrefix")Q--;else break}const Z=Q>-1?i.events[Q][1].type:null,ne=Z==="tableHead"||Z==="tableRow"?O:c;return ne===O&&i.parser.lazy[i.now().line]?n(z):ne(z)}function c(z){return t.enter("tableHead"),t.enter("tableRow"),d(z)}function d(z){return z===124||(o=!0,s+=1),f(z)}function f(z){return z===null?n(z):nt(z)?s>1?(s=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),w):n(z):Nt(z)?Ht(t,f,"whitespace")(z):(s+=1,o&&(o=!1,r+=1),z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),m(z)))}function m(z){return z===null||z===124||cn(z)?(t.exit("data"),f(z)):(t.consume(z),z===92?v:m)}function v(z){return z===92||z===124?(t.consume(z),m):m(z)}function w(z){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(z):(t.enter("tableDelimiterRow"),o=!1,Nt(z)?Ht(t,C,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):C(z))}function C(z){return z===45||z===58?_(z):z===124?(o=!0,t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),S):P(z)}function S(z){return Nt(z)?Ht(t,_,"whitespace")(z):_(z)}function _(z){return z===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),R):z===45?(s+=1,R(z)):z===null||nt(z)?D(z):P(z)}function R(z){return z===45?(t.enter("tableDelimiterFiller"),M(z)):P(z)}function M(z){return z===45?(t.consume(z),M):z===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),k):(t.exit("tableDelimiterFiller"),k(z))}function k(z){return Nt(z)?Ht(t,D,"whitespace")(z):D(z)}function D(z){return z===124?C(z):z===null||nt(z)?!o||r!==s?P(z):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(z)):P(z)}function P(z){return n(z)}function O(z){return t.enter("tableRow"),j(z)}function j(z){return z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),j):z===null||nt(z)?(t.exit("tableRow"),e(z)):Nt(z)?Ht(t,j,"whitespace")(z):(t.enter("data"),B(z))}function B(z){return z===null||z===124||cn(z)?(t.exit("data"),j(z)):(t.consume(z),z===92?W:B)}function W(z){return z===92||z===124?(t.consume(z),B):B(z)}}function Yue(t,e){let n=-1,i=!0,r=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,d,f,m;const v=new $ue;for(;++n<t.length;){const w=t[n],C=w[1];w[0]==="enter"?C.type==="tableHead"?(l=!1,c!==0&&(eA(v,e,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},v.add(n,0,[["enter",d,e]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(i=!0,m=void 0,s=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,f={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},v.add(n,0,[["enter",f,e]])),r=C.type==="tableDelimiterRow"?2:f?3:1):r&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(i=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],m=Gy(v,e,s,r,void 0,m),s=[0,0,0,0]),o[2]=n)):C.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(o[0]=o[1],m=Gy(v,e,s,r,void 0,m)),s=o,o=[s[1],n,0,0])):C.type==="tableHead"?(l=!0,c=n):C.type==="tableRow"||C.type==="tableDelimiterRow"?(c=n,s[1]!==0?(o[0]=o[1],m=Gy(v,e,s,r,n,m)):o[1]!==0&&(m=Gy(v,e,o,r,n,m)),r=0):r&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&eA(v,e,c,d,f),v.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=Wue(e.events,n))}return t}function Gy(t,e,n,i,r,s){const o=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},ef(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const c=ef(e.events,n[1]);if(s={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const d=ef(e.events,n[2]),f=ef(e.events,n[3]),m={type:l,start:Object.assign({},d),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",m,e]]),i!==2){const v=e.events[n[2]],w=e.events[n[3]];if(v[1].end=Object.assign({},w[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const C=n[2]+1,S=n[3]-n[2]-1;t.add(C,S,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return r!==void 0&&(s.end=Object.assign({},ef(e.events,r)),t.add(r,0,[["exit",s,e]]),s=void 0),s}function eA(t,e,n,i,r){const s=[],o=ef(e.events,n);r&&(r.end=Object.assign({},o),s.push(["exit",r,e])),i.end=Object.assign({},o),s.push(["exit",i,e]),t.add(n+1,0,s)}function ef(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const Xue={name:"tasklistCheck",tokenize:Jue};function Kue(){return{text:{91:Xue}}}function Jue(t,e,n){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return cn(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(c)}function l(c){return nt(c)?e(c):Nt(c)?t.check({tokenize:Zue},e,n)(c):n(c)}}function Zue(t,e,n){return Ht(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function Que(t){return O3([Sue(),Oue(),Uue(t),Gue(),Kue()])}const ece={};function tce(t){const e=this,n=t||ece,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),o=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(Que(n)),s.push(wue()),o.push(xue(n))}const nce="# RISC-V simulator and toolchain knowledge base\n\nThe purpose of this file is to serve as context for the AI functionality of the\nsimulator.\n\n## RISCV-V concepts\n\n### Philosophy\n\n- RISC (Reduced Instruction Set Computer): RISC-V is characterized by a small,\n  highly-optimized set of instructions.\n\n- Open Standard: The ISA (Instruction Set Architecture) is free to use for any\n  purpose.\n\n- Modularity: The ISA is designed with a small base integer instruction set\n  (RV32I or RV64I) and numerous optional extensions for features like\n  multiplication, floating-point, and custom instructions.\n\n### Registers\n\n- 32 general purpose registers named `x0` through `x31`.\n- `x0` (zero): hardwired to value 0. Writes to it are ignored.\n- `pc` (program counter): holdas the address of the instruction being executed.\n- ABI names: the application binary interface provides conventional names for\n  registers to standarize their use in software.\n\n| Register | ABI Name | Role                           |\n| -------- | -------- | ------------------------------ |\n| x0       | zero     | Hardwired zero                 |\n| x1       | ra       | Return address                 |\n| x2       | sp       | Stack pointer                  |\n| x3       | gp       | Global pointer                 |\n| x4       | tp       | Thread pointer                 |\n| x5       | t0       | Temporary/Caller saved         |\n| x6       | t1       | Temporary/Caller saved         |\n| x7       | t2       | Temporary/Caller saved         |\n| x8       | s0/fp    | Saved register/Frame pointer   |\n| x9       | s1       | Saved register                 |\n| x10      | a0       | Function argument/Return value |\n| x11      | a1       | Function argument/Return value |\n| x12      | a2       | Function argument              |\n| x13      | a3       | Function argument              |\n| x14      | a4       | Function argument              |\n| x15      | a5       | Function argument              |\n| x16      | a6       | Function argument              |\n| x17      | a7       | Function argument              |\n| x18      | s2       | Saved register                 |\n| x19      | s3       | Saved register                 |\n| x20      | s4       | Saved register                 |\n| x21      | s5       | Saved register                 |\n| x22      | s6       | Saved register                 |\n| x23      | s7       | Saved register                 |\n| x24      | s8       | Saved register                 |\n| x25      | s9       | Saved register                 |\n| x26      | s10      | Saved register                 |\n| x27      | s11      | Saved register                 |\n| x28      | t3       | Temporary/Caller saved         |\n| x29      | t4       | Temporary/Caller saved         |\n| x30      | t5       | Temporary/Caller saved         |\n| x31      | t6       | Temporary/Caller saved         |\n\n### Standard ISA extensions\n\n- I: Base Integer Instruction Set (Always present)\n- M: Integer Multiplication and Division\n- A: Atomic Instructions\n- F: Single-Precision Floating-Point\n- D: Double-Precision Floating-Point\n- C: Compressed Instructions (16-bit instructions for better code density)\n\n#### RV32I\n\n##### R type instructions\n\n**Opcode:** `0110011` for all instructions in this table.\n\n| Mnemonic   | `funct7`  | `funct3` | Description              | Operation                         |\n| ---------- | --------- | -------- | ------------------------ | --------------------------------- |\n| **`add`**  | `0000000` | `000`    | Add                      | `rd = rs1 + rs2`                  |\n| **`sub`**  | `0100000` | `000`    | Subtract                 | `rd = rs1 - rs2`                  |\n| **`sll`**  | `0000000` | `001`    | Shift Left Logical       | `rd = rs1 << rs2`                 |\n| **`slt`**  | `0000000` | `010`    | Set Less Than (Signed)   | `rd = (rs1 < rs2) ? 1 : 0`        |\n| **`sltu`** | `0000000` | `011`    | Set Less Than (Unsigned) | `rd = (rs1 < rs2) ? 1 : 0`        |\n| **`xor`**  | `0000000` | `100`    | Bitwise XOR              | `rd = rs1 ^ rs2`                  |\n| **`srl`**  | `0000000` | `101`    | Shift Right Logical      | `rd = rs1 >> rs2` (zero-extended) |\n| **`sra`**  | `0100000` | `101`    | Shift Right Arithmetic   | `rd = rs1 >> rs2` (sign-extended) |\n| **`or`**   | `0000000` | `110`    | Bitwise OR               | `rd = rs1 \\| rs2`                 |\n| **`and`**  | `0000000` | `111`    | Bitwise AND              | `rd = rs1 & rs2`                  |\n\n*Note: For shift instructions, only the lower 5 bits of `rs2` are used as the\nshift amount (`shamt`).*\n\n**Format:** `[funct7 (7) | rs2 (5) | rs1 (5) | funct3 (3) | rd (5) | opcode (7)]`\n\n##### I type instructions \n\nI-type instructions typically use one source register (`rs1`), a 12-bit\nimmediate value (`imm`), and a destination register (`rd`).\n**Format:** `[imm[11:0] (12) | rs1 (5) | funct3 (3) | rd (5) | opcode (7)]`\n\n###### 1. I-Type: Arithmetic and Logical Instructions\n\nThese instructions perform an operation between a register (`rs1`) and an\nimmediate value, storing the result in `rd`.\n\n**Opcode:** `0010011`\n\n| Mnemonic    | `funct3` | Description                        | Operation                           |\n| ----------- | -------- | ---------------------------------- | ----------------------------------- |\n| **`addi`**  | `000`    | Add Immediate                      | `rd = rs1 + imm`                    |\n| **`slti`**  | `010`    | Set Less Than Immediate (Signed)   | `rd = (rs1 < imm) ? 1 : 0`          |\n| **`sltiu`** | `011`    | Set Less Than Immediate (Unsigned) | `rd = (rs1 < imm) ? 1 : 0`          |\n| **`xori`**  | `100`    | XOR Immediate                      | `rd = rs1 ^ imm`                    |\n| **`ori`**   | `110`    | OR Immediate                       | `rd = rs1 \\| imm`                   |\n| **`andi`**  | `111`    | AND Immediate                      | `rd = rs1 & imm`                    |\n| **`slli`**  | `001`    | Shift Left Logical Immediate¹      | `rd = rs1 << shamt`                 |\n| **`srli`**  | `101`    | Shift Right Logical Immediate¹     | `rd = rs1 >> shamt` (zero-extended) |\n| **`srai`**  | `101`    | Shift Right Arithmetic Immediate¹  | `rd = rs1 >> shamt` (sign-extended) |\n\n¹ *For immediate shifts in RV32I, the 12-bit immediate field is repurposed. The\nupper 7 bits act as `funct7` (0000000 for `srli`, 0100000 for `srai`), and the\nlower 5 bits are the shift amount (`shamt`).*\n\n###### 2. I-Type: Load Instructions\n\nThese instructions load data from memory into a register. The address is\ncalculated by adding an offset (`imm`) to a base address in a register (`rs1`).\n\n**Opcode:** `0000011`\n\n| Mnemonic  | `funct3` | Description              | Operation                                                |\n| --------- | -------- | ------------------------ | -------------------------------------------------------- |\n| **`lb`**  | `000`    | Load Byte (Signed)       | Load 1 byte from `rs1 + imm`, then sign-extend to `rd`.  |\n| **`lh`**  | `001`    | Load Halfword (Signed)   | Load 2 bytes from `rs1 + imm`, then sign-extend to `rd`. |\n| **`lw`**  | `010`    | Load Word                | Load 4 bytes from `rs1 + imm` into `rd`.                 |\n| **`lbu`** | `100`    | Load Byte (Unsigned)     | Load 1 byte from `rs1 + imm`, then zero-extend to `rd`.  |\n| **`lhu`** | `101`    | Load Halfword (Unsigned) | Load 2 bytes from `rs1 + imm`, then zero-extend to `rd`. |\n\n\n###### 3. I-Type: Jump and Link Register\n\nThis instruction performs an indirect jump to an address computed from a\nregister and an offset.\n\n**Opcode:** `1100111`\n\n| Mnemonic   | `funct3` | Description            | Operation                                                            |\n| ---------- | -------- | ---------------------- | -------------------------------------------------------------------- |\n| **`jalr`** | `000`    | Jump and Link Register | Jumps to `rs1 + imm`, storing the return address (`pc + 4`) in `rd`. |\n\n###### 4. I-Type: System Instructions\n\nThese instructions are used to interact with the execution environment (e.g., an\noperating system or debugger). They are encoded as I-types but don't always use\nthe fields in the conventional way.\n\n**Opcode:** `1110011`\n\n| Mnemonic     | `funct3` | Immediate (`imm`) | Description                                                          |\n| ------------ | -------- | ----------------- | -------------------------------------------------------------------- |\n| **`ecall`**  | `000`    | `000000000000`    | **Environment Call**: Transfer control to the execution environment. |\n| **`ebreak`** | `000`    | `000000000001`    | **Environment Breakpoint**: Transfer control to a debugger.          |\n\n##### S type instructions\n\nThese instructions store data from a source register (`rs2`) into memory. The\nmemory address is calculated as `rs1 + imm`.\n\n**Opcode:** `0100011` for all instructions in this table.\n\n| Mnemonic | `funct3` | Description                                                                    | Operation                    |\n| -------- | -------- | ------------------------------------------------------------------------------ | ---------------------------- |\n| **`sb`** | `000`    | **Store Byte**: Stores the least significant byte of register `rs2` to memory. | `mem[rs1 + imm] = rs2[7:0]`  |\n| **`sh`** | `001`    | **Store Halfword**: Stores the two least significant bytes of `rs2` to memory. | `mem[rs1 + imm] = rs2[15:0]` |\n| **`sw`** | `010`    | **Store Word**: Stores the full 32-bit word from `rs2` to memory.              | `mem[rs1 + imm] = rs2[31:0]` |\n\n*Note: The 12-bit signed immediate offset is split into two parts within the\nS-type instruction format for encoding purposes.*\n\n**Format:** `[imm[11:5] (7) | rs2 (5) | rs1 (5) | funct3 (3) | imm[4:0] (5) | opcode (7)]`\n\n##### U type instructions\n\nU-type (Upper Immediate) instructions are used to build 32-bit constants. These\ninstructions use a 20-bit immediate value and a destination register (`rd`).\n\n| Mnemonic    | Opcode    | Description                                                                                                                                | Operation               |\n| ----------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------- |\n| **`lui`**   | `0110111` | **Load Upper Immediate**: Loads the 20-bit immediate into the upper 20 bits of `rd` and sets the lower 12 bits to zero.                    | `rd = imm << 12`        |\n| **`auipc`** | `0010111` | **Add Upper Immediate to PC**: Adds the 20-bit immediate (shifted left by 12) to the program counter (`pc`) and stores the result in `rd`. | `rd = pc + (imm << 12)` |\n\n*Note: `lui` is fundamental for loading arbitrary 32-bit constants into\nregisters, often in combination with an I-type instruction like `addi`. `auipc`\nis essential for position-independent code and accessing PC-relative data.*\n\n**Format:**  `[imm[31:12] (20) | rd (5) | opcode (7)]`\n\n##### B type instructions\n\nThese instructions compare the values in two source registers (`rs1` and `rs2`) and conditionally jump to a target address. The target address is calculated by adding a signed immediate offset to the current program counter (`pc`).\n\n**Opcode:** `1100011` for all instructions in this table.\n\n| Mnemonic   | `funct3` | Description                                | Operation                              |\n| ---------- | -------- | ------------------------------------------ | -------------------------------------- |\n| **`beq`**  | `000`    | Branch if Equal                            | `if (rs1 == rs2) pc += imm`            |\n| **`bne`**  | `001`    | Branch if Not Equal                        | `if (rs1 != rs2) pc += imm`            |\n| **`blt`**  | `100`    | Branch if Less Than (Signed)               | `if (rs1 < rs2) pc += imm`             |\n| **`bge`**  | `101`    | Branch if Greater Than or Equal (Signed)   | `if (rs1 >= rs2) pc += imm`            |\n| **`bltu`** | `110`    | Branch if Less Than (Unsigned)             | `if (rs1 < rs2) pc += imm` (unsigned)  |\n| **`bgeu`** | `111`    | Branch if Greater Than or Equal (Unsigned) | `if (rs1 >= rs2) pc += imm` (unsigned) |\n\n*Note: The 13-bit signed immediate offset is scaled by 2 and added to the PC. It can represent a jump range of -4096 to +4094 bytes.*\n\n**Format:** `[imm[12|10:5] (7) | rs2 (5) | rs1 (5) | funct3 (3) | imm[4:1|11] (5) | opcode (7)]`\n\n\n##### J type instruction\n\nJ-type instructions are used for unconditional jumps.\n\n| Mnemonic  | Opcode    | Description                                                                                                       | Operation                |\n| --------- | --------- | ----------------------------------------------------------------------------------------------------------------- | ------------------------ |\n| **`jal`** | `1101111` | **Jump and Link**: Jumps to `pc + imm` and stores the return address (`pc + 4`) in the destination register `rd`. | `rd = pc + 4; pc += imm` |\n\n*Note: The 21-bit signed immediate offset is scaled by 2 and added to the PC, allowing for a jump range of ±1 MiB. Using `rd = x0` (zero) makes `jal` a simple unconditional jump.*\n\n**Format:** `[imm[20|10:1|11|19:12] (20) | rd (5) | opcode (7)]`\n\n##### Pseudo instructions\n\n### RISC-V RV32I Pseudoinstructions\n\n| Pseudoinstruction     | Expansion (Real Instruction)                                        | Description                                                                                                  |\n| --------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |\n| `nop`                 | `addi zero, zero, 0`                                                | No operation. Does nothing.                                                                                  |\n| `li rd, imm`          | `lui rd, %hi(imm)`<br>`addi rd, rd, %lo(imm)`                       | Load immediate value into a register. May expand to one or two instructions depending on the immediate size. |\n| `mv rd, rs`           | `addi rd, rs, 0`                                                    | Move the value from one register to another.                                                                 |\n| `not rd, rs`          | `xori rd, rs, -1`                                                   | Performs a bitwise NOT on a register.                                                                        |\n| `neg rd, rs`          | `sub rd, zero, rs`                                                  | Negates the value in a register (two's complement).                                                          |\n| `seqz rd, rs`         | `sltiu rd, rs, 1`                                                   | Set `rd` to 1 if `rs` is equal to zero, otherwise 0.                                                         |\n| `snez rd, rs`         | `sltu rd, zero, rs`                                                 | Set `rd` to 1 if `rs` is not equal to zero, otherwise 0.                                                     |\n| `sltz rd, rs`         | `slt rd, rs, zero`                                                  | Set `rd` to 1 if `rs` is less than zero, otherwise 0.                                                        |\n| `sgtz rd, rs`         | `slt rd, zero, rs`                                                  | Set `rd` to 1 if `rs` is greater than zero, otherwise 0.                                                     |\n| `beqz rs, offset`     | `beq rs, zero, offset`                                              | Branch if `rs` is equal to zero.                                                                             |\n| `bnez rs, offset`     | `bne rs, zero, offset`                                              | Branch if `rs` is not equal to zero.                                                                         |\n| `blez rs, offset`     | `bge zero, rs, offset`                                              | Branch if `rs` is less than or equal to zero.                                                                |\n| `bgez rs, offset`     | `bge rs, zero, offset`                                              | Branch if `rs` is greater than or equal to zero.                                                             |\n| `bltz rs, offset`     | `blt rs, zero, offset`                                              | Branch if `rs` is less than zero.                                                                            |\n| `bgtz rs, offset`     | `blt zero, rs, offset`                                              | Branch if `rs` is greater than zero.                                                                         |\n| `bgt rd, rs, offset`  | `blt rs, rd, offset`                                                | Branch if `rd` > `rs` (signed).                                                                              |\n| `ble rd, rs, offset`  | `bge rs, rd, offset`                                                | Branch if `rd` <= `rs` (signed).                                                                             |\n| `bgtu rd, rs, offset` | `bltu rs, rd, offset`                                               | Branch if `rd` > `rs` (unsigned).                                                                            |\n| `bleu rd, rs, offset` | `bgeu rs, rd, offset`                                               | Branch if `rd` <= `rs` (unsigned).                                                                           |\n| `j offset`            | `jal zero, offset`                                                  | Unconditional jump to a label.                                                                               |\n| `jr rs`               | `jalr zero, rs, 0`                                                  | Unconditional jump to the address in a register.                                                             |\n| `jalr rs`             | `jalr ra, rs, 0`                                                    | Jump to address in `rs`, saving return address to `ra`.                                                      |\n| `ret`                 | `jalr zero, ra, 0`                                                  | Return from a function.                                                                                      |\n| `call offset`         | `auipc ra, %pcrel_hi(offset)`<br>`jalr ra, %pcrel_lo(offset)(ra)`   | Call a function at a PC-relative offset. Expands to `jal ra, offset` for short distances.                    |\n| `tail offset`         | `auipc t0, %pcrel_hi(offset)`<br>`jalr zero, %pcrel_lo(offset)(t0)` | Tail call a function. Expands to `jal zero, offset` for short distances.                                     |\n| `la rd, symbol`       | `auipc rd, %pcrel_hi(symbol)`<br>`addi rd, rd, %pcrel_lo(symbol)`   | Load the address of a symbol into a register.                                                                |\n\n## RISC-V assembly basics\n\n## Program execution\n\nA CPU executes a program by repeatedly performing the following steps, known as\nthe instruction cycle:\n\n1. **Fetch & Update PC:** The CPU reads the next instruction from memory using\n   the program counter (PC), then updates the PC to point to the following\n   instruction (either sequentially or by a jump/branch).\n2. **Decode:** The control unit interprets the instruction, determining the\n   required operation and which registers or memory locations are involved.\n3. **Execute:** The CPU performs the specified operation, such as arithmetic,\n   logic, memory access, or control flow.\n4. **Memory Access (if needed):** For instructions that require reading from or\n   writing to memory, the CPU accesses the appropriate memory address.\n5. **Write Back:** The result of the instruction is written back to a register\n   or memory.\n\nThis cycle repeats for each instruction until the program finishes or the CPU is\ninterrupted.\n\n## RISC-V architecture implementation\n\nThere are several distinct strategies for implementing an RV32I CPU core, each\npresenting a different balance between design complexity and performance. The\nmost foundational of these is the single-cycle implementation. In this approach,\nevery instruction, regardless of its complexity, is designed to complete its\nentire execution—from fetch to write-back—within a single, elongated clock\ncycle. This design philosophy simplifies the control logic immensely, as it can\nbe implemented with purely combinational circuits without the need for state.\nHowever, the significant drawback is that the clock period is dictated by the\nlongest possible instruction path (the critical path), which is typically a load\ninstruction (`lw`). This means that faster, simpler instructions like `addi` are\nforced to take the same long duration as the slowest one, making the\nsingle-cycle processor inherently inefficient and performant only at very low\nclock speeds.\n\nBeyond the simple single-cycle design, several more advanced implementation\nstrategies exist, each building upon the last to improve performance, typically\nat the cost of increased design complexity.\n\n- Multi-Cycle Implementation. A direct evolution from the single-cycle model,\n  the multi-cycle implementation breaks down the execution of a single\n  instruction into multiple, discrete steps (e.g., Fetch, Decode, Execute,\n  Memory Access, Write-Back). Each of these steps takes one clock cycle. This\n  allows the clock frequency to be much higher, as the clock period is now\n  determined by the delay of the longest *stage*, not the longest *instruction*.\n  Furthermore, simpler instructions can complete in fewer clock cycles than more\n  complex ones (e.g., `addi` might take 3-4 cycles while `lw` takes 5),\n  improving the average cycles per instruction (CPI). The main drawback is the\n  need for more complex control logic, typically implemented as a finite state\n  machine, to manage the state transitions between stages for each instruction.\n\n- Pipelined Implementation. This is the foundational technique for modern\n  high-performance processors. Pipelining applies an assembly-line concept to\n  instruction execution, overlapping the stages of multiple instructions\n  simultaneously. For example, while one instruction is in its Execute stage,\n  the subsequent instruction is in its Decode stage, and the one after that is\n  being Fetched. In an ideal scenario, a pipelined processor can achieve a\n  throughput of one completed instruction per clock cycle (a CPI of 1), offering\n  a significant performance boost over a multi-cycle design. However, this\n  parallelism introduces new challenges known as \"hazards\" (data, structural,\n  and control hazards) that occur when instructions interfere with one another.\n  These must be managed with sophisticated hardware techniques like forwarding,\n  stalling, and branch prediction, which adds considerable complexity to the\n  datapath and control unit.\n\n- Superscalar and Out-of-Order Execution. To push performance even further,\n  superscalar processors feature multiple, redundant execution units, allowing\n  them to issue and execute more than one instruction per clock cycle (achieving\n  a CPI of less than 1). This is a form of instruction-level parallelism (ILP).\n  To maximize the utilization of these parallel units, high-end processors often\n  employ out-of-order execution (OoOE). An OoOE processor can look ahead in the\n  instruction stream and execute instructions as soon as their data dependencies\n  are met, rather than in the strict order they appear in the program. This\n  helps to hide memory latency and keep the execution units busy, but it\n  requires exceptionally complex hardware for tasks like register renaming,\n  dependency checking, and ensuring results are committed in the correct program\n  order to maintain architectural consistency. This represents the peak of\n  modern CPU design complexity.\n\n### Single cycle\n\n#### Components\n\nThe CPU consists of the following modules:\n\n1. **PC**. Implements the program counter logic. Its inputs are `NextPC` which\n   is the next value for the program counter and its output is the current value\n   of it.\n2. **Instruction memory**. Also called *program memory*. This module stores the\n   program in its binary form. Its imput is the address to be accessed (i.e. the\n   output of the *PC* module) and its output is the actual instruction in 32\n   bits. For normal instructions (i.e. RV32, RV64 and RV128) the memory uses 4\n   bytes to store each instruction. For the compressed instruction set extension\n   it uses 2 bytes per instruction.\n3. **Registers unit**. This is the place where the 32 CPU registers live in. Its\n   inputs come from the instruction memory (*Fetch* stage), from the *Write\n   back* stage and from the *Control unit*. *rs1*, *rs2* and *rd* contain the 5\n   bits wide signals that encode the respective parts of the instruction.\n   *DataWr* contains the 32 bit wide data to be written on *rd*. *RUWr* signals\n   whether an actual write must be performed by the *Registers unit* or not.\n4. **Immediate generator**. Most of RISC-V instructions contain constant encoded\n   directly in the instruction. These constants are called immediate values in\n   RISC-V terminology. The immediate generator implements the logic to extract\n   the constant according to the instruction type and outputs it in a 32 bit\n   format (for RV32) or in 64 bits for RV64. This module is also responsible for\n   sign or zero extending the value as appropriate according to the instruction\n   type.\n5. **Arithmetic Logic Unit (ALU)**. This moddule is part of the execution stage.\n   It performs logic and arithmetic operations according to the instruction\n   being executed. Its imputs *A* and *B* are two 32 bits signals that carry the\n   arguments of the operation to be executed. Its output *ALURes* is a 32 bit\n   output signal with the result. The width of these signals change for RV64 and\n   RV128. An extra input of 5 bits named *ALUOp* comming from the control unit\n   is used to select the actual operation to be performed.\n6. **Branch unit**. It takes 32 bits signals from the registers unit containing\n   the values to be compared. Additionally it takes *BrOp* 5 bits wide signal\n   from the control unit that encodes the kind of test to be performed. The\n   output of this module is a signal indicating whether a jump needs to be\n   performed for the next instruction.\n7. **Data memory**. This module is responsible for storing data. It is located\n   at the *Memory* stage and has 3 inputs. *Address* and *DataWr* are 32 bits\n   inputs containing the address to be accessed and the data to be stored. In\n   case of a load operation the last one is not used. The output *DataRd* is a\n   32 bits signal with the data read from the memory when executing load\n   operations.\n8. **Control unit**. This module is in charge of propagating the necessary\n   signals to the different CPU components for them to behave accordingly for\n   the execution of a given instruction. It takes the *opcode* and the *funct3*\n   values from the instruction and outputs the following signals:\n   | Signal          | Description                                                              |\n   | --------------- | ------------------------------------------------------------------------ |\n   | **RUWr**        | Whether the registers unit must write                                    |\n   | **IMMSrc**      | How to perform the immediate decoding                                    |\n   | **BrOp**        | Which test to perform for branching                                      |\n   | **ALUASrc**     | Whether to pass the *PC* or *RS1Data* to the ALU                         |\n   | **ALUBSrc**     | Whether to pass the immediate or *RS2Data* to the ALU                    |\n   | **ALUOp**       | Which operation to comput at the ALU                                     |\n   | **DMWr**        | Whether to write to data memory                                          |\n   | **DMCtrl**      | How to perform the read or write operation                               |\n   | **RUDataWrSrc** | Chooses among *ALURes*, *DataRd* or *NextPC* as the Registers unit input |\n\nIn addition to the components mentioned above there are four more simple\ncomponents in the design of the CPU. The first one is an adder that adds either\n4 or 2 bytes to the current value of the *PC*. The other three are multiplexors.\n\nThe first multiplexor is controlled by the output of the branch unit. It takes\nas signals *PC+4* and a new value computed by the ALU for the PC. When on a\nbranch or jump instruction the branch unit selects the appropriate signal.\n\nTwo other multiplexors sit behind the ALU. They are respectively controlled by\nsignals *ALUASrc* and *ALUBSrc*. These select the data that feed the ALU\narguments.\n\nOne last multiplexor is controlled by *RUDataWrSrc* which is a two bits signal.\nThis multiplexor chooses the data that will be feeded into the *registers unit*.\n\n\n#### Execution\n\nIn this section we summarize the flow of execution for each instruction type for\nthe particural case of a sincgle cycle cpu.\n\n##### R type instructions\n\nR-type instructions, such as `add`, `sub`, and `and`, perform an operation using\ntwo source registers (`rs1`, `rs2`) and write the result to a destination\nregister (`rd`). Let's trace the execution of the instruction `add rd, rs1, rs2`\nthrough your single-cycle CPU design. In this model, all of the following steps\nhappen concurrently within a single clock cycle, but we can describe them\nsequentially to understand the flow of data and control signals.\n\nLet's use a concrete example: `add x3, x1, x2`.\n\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** module outputs the memory address of the current instruction.\n2. This address is sent to the **Instruction Memory**.\n3. The **Instruction Memory** reads the 32-bit binary word for `add x3, x1, x2`\n   and outputs it. For this instruction, the binary fields would be:\n   `opcode=0110011`, `rd=00011` (x3), `funct3=000` (add/sub), `rs1=00001` (x1),\n   `rs2=00010` (x2), and `funct7=0000000` (add).\n4. Simultaneously, the value from the PC is also sent to an adder to calculate\n   `PC + 4`, which is the default address for the next instruction.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction from Instruction Memory is passed to the **Control\n   Unit** and the **Registers Unit**.\n2. The **Control Unit** looks at the `opcode` (`0110011`). It immediately\n   recognizes this as an R-type instruction and sets its output control signals\n   accordingly.\n3. Based on the `opcode`, `funct3`, and `funct7`, the **Control Unit** generates\n   the following key signals for an `add` instruction:\n\n  | Signal          | Value            | Reason                                                                              |\n  | :-------------- | :--------------- | :---------------------------------------------------------------------------------- |\n  | **RUWr**        | `1`              | An R-type instruction writes a result back to a register.                           |\n  | **ALUASrc**     | `0`              | The first ALU operand must come from a register (`RS1Data`), not the PC.            |\n  | **ALUBSrc**     | `0`              | The second ALU operand must come from a register (`RS2Data`), not the immediate.    |\n  | **ALUOp**       | `ADD`            | The Control Unit decodes `funct3` and `funct7` to tell the ALU to perform addition. |\n  | **DMWr**        | `0`              | R-type instructions do not write to data memory.                                    |\n  | **RUDataWrSrc** | `ALURes`         | The data to be written to the register file comes from the ALU's result.            |\n  | **BrOp**        | `X` (Don't Care) | This is not a branch instruction.                                                   |\n\n4. The `rs1` (`00001`), `rs2` (`00010`), and `rd` (`00011`) fields from the\n   instruction are sent to the address inputs of the **Registers Unit**.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives the `rs1` and `rs2` addresses.\n2. It reads the 32-bit values currently stored in register `x1` and register\n   `x2`.\n3. These values are placed on the `RS1Data` and `RS2Data` output ports of the\n   Registers Unit.\n\n###### Step 4: Execute\n\n1. The `RS1Data` value (from `x1`) is routed to the first input of the **ALU**.\n   The multiplexor controlled by `ALUASrc` selects this path.\n2. The `RS2Data` value (from `x2`) is routed to the second input of the **ALU**.\n   The multiplexor controlled by `ALUBSrc` selects this path.\n3. The **ALU** receives the `ALUOp` signal (`ADD`) from the Control Unit.\n4. The **ALU** performs the addition: `ALURes = RS1Data + RS2Data`. The result\n   is placed on its 32-bit output.\n\n###### Step 5: Memory Access\n\nThis stage is idle for R-type instructions. The `DMWr` signal is `0`, so the\n**Data Memory** is not written to. Since the `RUDataWrSrc` signal selects the\nALU result, any value that might be read from memory is ignored.\n\n###### Step 6: Write Back\n\n1. The result from the ALU, `ALURes`, is sent to the final multiplexor that\n   chooses the data to be written back to a register.\n2. The `RUDataWrSrc` signal from the Control Unit configures this multiplexor to\n   pass `ALURes` through to the `DataWr` input of the **Registers Unit**.\n3. The `RUWr` signal is `1` (asserted), enabling the write operation in the\n   **Registers Unit**.\n4. The **Registers Unit** uses the `rd` address (`00011` for `x3`) from the\n   instruction to write the value from its `DataWr` input into register `x3`.\n5. Finally, since this is not a branch or jump, the **PC** is updated with the\n   `PC + 4` value calculated in Step 1, preparing for the next instruction\n   cycle.\n\n##### I type instructions (arithmetic/logical)\n\nI-type instructions form a large group that includes arithmetic/logic operations\nwith immediate values (e.g., `addi`, `xori`), loads (e.g., `lw`), and jumps\n(`jalr`). This description focuses on the **arithmetic and logical** variants.\n\nThese instructions perform an operation between a source register (`rs1`) and a\n12-bit sign-extended immediate value, storing the result in a destination\nregister (`rd`). We will trace the execution of the instruction\n`addi rd, rs1, imm` through your single-cycle CPU design.\n\nLet's use a concrete example: `addi x5, x6, -10`.\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** module outputs the memory address of the `addi` instruction.\n2. This address is sent to the **Instruction Memory**, which reads and outputs\n   the corresponding 32-bit instruction word. For `addi x5, x6, -10`, the binary\n   fields would be: `opcode=0010011`, `rd=00101` (x5), `funct3=000` (addi),\n   `rs1=00110` (x6), and `imm=111111110110` (the 12-bit two's complement\n   representation of -10).\n3. Simultaneously, the adder calculates the default next address, `PC + 4`.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is passed to the **Control Unit**, the **Registers\n   Unit**, and now, importantly, the **Immediate Generator**.\n2. The **Immediate Generator** receives the instruction. Based on the opcode or\n   a direct signal from the Control Unit (`IMMSrc`), it recognizes an I-type\n   format. It extracts the 12-bit immediate (`111111110110`) from bits 31-20 and\n   **sign-extends** it to a 32-bit value. The resulting 32-bit value is\n   `11111111111111111111111111110110`.\n3. The **Control Unit** examines the `opcode` (`0010011`). It identifies the\n   instruction as an I-type arithmetic operation and sets its control signals\n   accordingly.\n\n| Signal          | Value            | Reason                                                                      |\n| :-------------- | :--------------- | :-------------------------------------------------------------------------- |\n| **RUWr**        | `1`              | An I-type arithmetic instruction writes a result to a register.             |\n| **ALUASrc**     | `0`              | The first ALU operand is from a register (`RS1Data`).                       |\n| **ALUBSrc**     | `1`              | **Key difference:** The second ALU operand is the sign-extended immediate.  |\n| **ALUOp**       | `ADD`            | The Control Unit decodes `funct3` to tell the ALU to perform addition.      |\n| **DMWr**        | `0`              | This instruction does not write to data memory.                             |\n| **RUDataWrSrc** | `ALURes`         | The data written to the register file comes from the ALU's result.          |\n| **IMMSrc**      | `I-type`         | This tells the Immediate Generator how to extract and extend the immediate. |\n| **BrOp**        | `X` (Don't Care) | This is not a branch instruction.                                           |\n\n4. The `rs1` (`00110`) and `rd` (`00101`) fields from the instruction are sent\n   to the address inputs of the **Registers Unit**. The bits corresponding to\n   `rs2` in other formats are part of the immediate and are not used to select a\n   register.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives the `rs1` address (`00110`).\n2. It reads the 32-bit value stored in register `x6` and places it on its\n   `RS1Data` output port.\n\n###### Step 4: Execute\n\n1. The `RS1Data` value (from `x6`) is routed to the first input of the **ALU**\n   (selected by the `ALUASrc=0` MUX).\n2. The 32-bit sign-extended immediate value from the **Immediate Generator** is\n   routed to the second input of the **ALU**. The multiplexor controlled by\n   `ALUBSrc=1` selects this immediate value instead of the `RS2Data` path.\n3. The **ALU** receives the `ALUOp` signal (`ADD`) from the Control Unit.\n4. The **ALU** performs the operation: `ALURes = RS1Data + Immediate`. The\n   result is placed on its 32-bit output.\n\n###### Step 5: Memory Access\n\nThis stage is idle for I-type arithmetic instructions. The `DMWr` signal is `0`,\nso no data is written to **Data Memory**.\n\n###### Step 6: Write Back\n\n1. The result from the ALU, `ALURes`, is passed through the final multiplexor\n   (controlled by `RUDataWrSrc`) to the `DataWr` input of the **Registers\n   Unit**.\n2. The `RUWr` signal is `1`, enabling the **Registers Unit** to perform a write.\n3. The **Registers Unit** uses the `rd` address (`00101` for `x5`) to write the\n   value from `DataWr` into register `x5`.\n4. The **PC** is updated with the `PC + 4` value, preparing the CPU to fetch the\n   next instruction.\n\n##### I type instructions (load)\n\nLoad instructions are a specific subgroup of the I-type format used to transfer\ndata from memory into a register. They calculate a memory address by adding an\nimmediate offset to a base register (`rs1`), read from that address, and place\nthe data into a destination register (`rd`).\n\nWe will trace the execution of `lw rd, offset(rs1)`, which is the standard\nassembly syntax for loads.\n\nLet's use a concrete example: `lw x7, 32(x8)`. This instruction means: \"load the\nword from the memory address calculated by `x8 + 32` and store it in register\n`x7`.\"\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** outputs the address of the `lw` instruction to the **Instruction\n   Memory**.\n2. The **Instruction Memory** reads and outputs the 32-bit instruction word for\n   `lw x7, 32(x8)`. The binary fields would be: `opcode=0000011`, `rd=00111`\n   (x7), `funct3=010` (lw), `rs1=01000` (x8), and `imm=000000100000` (the 12-bit\n   representation of 32).\n3. The `PC + 4` adder calculates the address of the next sequential instruction.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is distributed to the **Control Unit**, **Registers\n   Unit**, and **Immediate Generator**.\n2. The **Immediate Generator** extracts the 12-bit immediate (`000000100000`)\n   and sign-extends it to a 32-bit value.\n3. The **Control Unit** decodes the `opcode` (`0000011`). It recognizes a load\n   instruction and generates a distinct set of control signals:\n\n| Signal          | Value            | Reason                                                                                            |\n| :-------------- | :--------------- | :------------------------------------------------------------------------------------------------ |\n| **RUWr**        | `1`              | Yes, we are writing the data loaded from memory into a register.                                  |\n| **ALUASrc**     | `0`              | The first ALU operand is the base address from a register (`RS1Data`).                            |\n| **ALUBSrc**     | `1`              | The second ALU operand is the sign-extended immediate offset.                                     |\n| **ALUOp**       | `ADD`            | The ALU's sole purpose is to calculate the memory address by adding the base and offset.          |\n| **DMWr**        | `0`              | This is a *load*, so we are reading from memory, not writing to it.                               |\n| **DMCtrl**      | `WORD`           | Tells the Data Memory to perform a 32-bit (word) read operation.                                  |\n| **RUDataWrSrc** | `DataRd`         | **Key difference:** The data written to the register comes from the **Data Memory**, not the ALU. |\n| **IMMSrc**      | `I-type`         | Tells the Immediate Generator how to extract and extend the offset.                               |\n| **BrOp**        | `X` (Don't Care) | This is not a branch instruction.                                                                 |\n\n4. The `rs1` (`01000`) and `rd` (`00111`) fields are sent to the **Registers\n   Unit**.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives the `rs1` address (`01000` for `x8`).\n2. It reads the 32-bit value from register `x8` (the base address) and places it\n   on its `RS1Data` output.\n\n###### Step 4: Execute (Address Calculation)\n\n1. This stage is dedicated to calculating the memory address.\n2. `RS1Data` (the value from `x8`) is fed into the first input of the **ALU**.\n3. The 32-bit sign-extended immediate offset (`32`) from the **Immediate\n   Generator** is fed into the second input of the **ALU**.\n4. The **ALU**, instructed by `ALUOp=ADD`, computes the effective memory\n   address: `ALURes = RS1Data + 32`. The `ALURes` output now holds the target\n   memory address.\n\n###### Step 5: Memory Access (Data Read)\n\n1. This stage is now fully active.\n2. The address calculated by the ALU (`ALURes`) is sent to the `Address` input\n   of the **Data Memory**.\n3. With `DMWr=0`, the **Data Memory** performs a read operation at this address.\n   The `DMCtrl` signal ensures it reads a full 32-bit word.\n4. The 32-bit data retrieved from that memory location is placed on the **Data\n   Memory's** `DataRd` output.\n\n###### Step 6: Write Back\n\n1. This is the final, critical step where the data path differs significantly\n   from an arithmetic instruction.\n2. The final multiplexor before the Registers Unit receives both the ALU result\n   (`ALURes`, which is the address) and the memory data (`DataRd`).\n3. The `RUDataWrSrc` signal from the Control Unit selects the `DataRd` input,\n   directing the data fetched from memory to proceed.\n4. This data is passed to the `DataWr` input of the **Registers Unit**.\n5. With `RUWr=1`, the **Registers Unit** writes the data from `DataWr` into the\n   destination register specified by `rd` (`x7`).\n6. The **PC** is updated to `PC + 4`.\n\n##### I type instructions (jumping)\n\nThe main I-type instruction for jumping is `jalr` (Jump and Link Register). This\npowerful instruction serves two purposes simultaneously: it jumps to a new\ninstruction address calculated from a register and an offset, and it stores the\naddress of the next sequential instruction (`PC + 4`) into a destination\nregister. This \"linking\" behavior is fundamental for implementing function calls\nand returns.\n\nWe will trace the execution of `jalr rd, offset(rs1)`.\n\nLet's use a concrete example: `jalr x1, 16(x5)`. This means: \"jump to the\naddress calculated by `x5 + 16`, and store the return address (`PC + 4`) in\nregister `x1` (`ra`).\"\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** outputs the address of the `jalr` instruction.\n2. The **Instruction Memory** fetches the 32-bit instruction word. For\n   `jalr x1, 16(x5)`, the fields would be: `opcode=1100111`, `rd=00001` (x1),\n   `funct3=000`, `rs1=00101` (x5), and `imm=000000010000` (16).\n3. Crucially, the adder calculates `PC + 4`. This value is not just the default\n   next address; it is the **return address** that needs to be saved.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is sent to the **Control Unit**, **Registers Unit**,\n   and **Immediate Generator**.\n2. The **Immediate Generator** extracts and sign-extends the 12-bit immediate\n   offset (`16`).\n3. The **Control Unit** decodes the `opcode` (`1100111`). It recognizes `jalr`\n   and generates a unique set of signals to manage the instruction's dual\n   actions.\n\n| Signal          | Value            | Reason                                                                                          |\n| :-------------- | :--------------- | :---------------------------------------------------------------------------------------------- |\n| **RUWr**        | `1`              | Yes, we must write the return address (`PC + 4`) into register `rd`.                            |\n| **ALUASrc**     | `0`              | The first ALU operand is the base address from `rs1`.                                           |\n| **ALUBSrc**     | `1`              | The second ALU operand is the sign-extended immediate offset.                                   |\n| **ALUOp**       | `ADD`            | The ALU's job is to calculate the target jump address (`rs1 + offset`).                         |\n| **DMWr**        | `0`              | `jalr` does not interact with data memory.                                                      |\n| **RUDataWrSrc** | `NextPC`         | **Key difference:** The data written to the register is the return address, which is `PC + 4`.  |\n| **BrOp**        | `X` (Don't Care) | While it's a jump, it's unconditional. The control logic for the PC update is handled directly. |\n\n4. Additionally, the Control Unit must assert a signal to force the PC to update\n   from the ALU result. For this unconditional jump, it ensures the multiplexor\n   for the next PC value selects the calculated address rather than `PC + 4`.\n5. The `rs1` (`00101`) and `rd` (`00001`) fields are sent to the **Registers\n   Unit**.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives the `rs1` address (`00101` for `x5`).\n2. It reads the 32-bit value from register `x5` (the base jump address) and\n   places it on its `RS1Data` output.\n\n###### Step 4: Execute (Target Address Calculation)\n\n1. The `RS1Data` value (from `x5`) is fed into the first input of the **ALU**.\n2. The 32-bit sign-extended immediate (`16`) is fed into the second input of the\n   **ALU**.\n3. The **ALU**, instructed by `ALUOp=ADD`, computes the target jump address:\n   `ALURes = RS1Data + 16`. The `ALURes` output now holds the address where the\n   program will jump.\n\n###### Step 5: Memory Access\n\nThis stage is completely idle for a `jalr` instruction.\n\n###### Step 6: Write Back and PC Update\n\nThis final step is a dual-action process that occurs in the same cycle: one\naction writes to the register file, and the other writes to the Program Counter.\n\n1. **Register Write Back (Linking):**\n   * The return address, calculated by the `PC + 4` adder, is routed to the\n     final multiplexor before the Registers Unit.\n   * The `RUDataWrSrc` signal selects the `NextPC` (`PC + 4`) input.\n   * This return address is passed to the `DataWr` input of the **Registers\n     Unit**.\n   * With `RUWr=1`, the **Registers Unit** writes the return address into the\n     destination register `rd` (`x1`).\n\n2. **Program Counter Update (Jumping):**\n   * The target jump address, calculated by the ALU (`ALURes`), is sent to the\n     multiplexor that selects the next value for the PC.\n   * The Control Unit's logic ensures this multiplexor selects the `ALURes`\n     value.\n   * On the next clock edge, the **PC** is loaded with this new target address,\n     causing program execution to \"jump\" to that location.\n\n##### S type instruction\n\nS-type instructions are used to store data from a register into memory. They are\nthe counterpart to load instructions. A store instruction calculates a target\nmemory address from a base register (`rs1`) and an immediate offset, and then\nwrites the data from a second source register (`rs2`) to that memory location.\nStore instructions do not modify any registers.\n\nWe will trace the execution of `sw rs2, offset(rs1)`.\n\nLet's use a concrete example: `sw x9, 40(x2)`. This means: \"take the 32-bit\nvalue from register `x9` and write it to the memory address calculated by\n`x2 + 40`.\"\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** outputs the address of the `sw` instruction.\n2. The **Instruction Memory** fetches the 32-bit instruction word. For\n   `sw x9, 40(x2)`, the fields are: `opcode=0100011`, `imm[11:5]`, `rs2=01001`\n   (x9), `rs1=00010` (x2), `funct3=010` (sw), and `imm[4:0]`.\n3. The adder calculates the default next address, `PC + 4`.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is distributed to the **Control Unit**, **Registers\n   Unit**, and **Immediate Generator**.\n2. The **Immediate Generator**, signaled by `IMMSrc=S-type`, reassembles the\n   12-bit immediate from its two split fields in the instruction (`imm[11:5]`\n   and `imm[4:0]`) and sign-extends it to a 32-bit value.\n3. The **Control Unit** decodes the `opcode` (`0100011`) and recognizes a store\n   instruction, generating the following specific control signals:\n\n| Signal          | Value            | Reason                                                                                |\n| :-------------- | :--------------- | :------------------------------------------------------------------------------------ |\n| **RUWr**        | `0`              | **Key difference:** A store instruction does **not** write back to the register file. |\n| **ALUASrc**     | `0`              | The first ALU operand is the base address from `rs1`.                                 |\n| **ALUBSrc**     | `1`              | The second ALU operand is the sign-extended immediate offset.                         |\n| **ALUOp**       | `ADD`            | The ALU's job is to calculate the memory address.                                     |\n| **DMWr**        | `1`              | **Key difference:** We are enabling a **write** operation to the Data Memory.         |\n| **DMCtrl**      | `WORD`           | Tells the Data Memory to perform a 32-bit (word) write.                               |\n| **RUDataWrSrc** | `X` (Don't Care) | No data is being written to the register file, so this selection is irrelevant.       |\n| **IMMSrc**      | `S-type`         | Tells the Immediate Generator how to assemble and extend the immediate.               |\n| **BrOp**        | `X` (Don't Care) | This is not a branch instruction.                                                     |\n\n4. The `rs1` (`00010`) and `rs2` (`01001`) fields are sent to the **Registers\n   Unit**.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives both `rs1` and `rs2` addresses.\n2. It reads the 32-bit value from register `x2` (the base address) and places it\n   on its `RS1Data` output.\n3. It reads the 32-bit value from register `x9` (the data to be stored) and\n   places it on its `RS2Data` output.\n\n##### Step 4: Execute (Address Calculation)\n\n1. This stage calculates the target memory address.\n2. The `RS1Data` value (from `x2`) is sent to the first input of the **ALU**.\n3. The 32-bit sign-extended immediate (`40`) from the **Immediate Generator** is\n   sent to the second input of the **ALU**.\n4. The **ALU**, instructed by `ALUOp=ADD`, computes the effective memory\n   address: `ALURes = RS1Data + 40`. The `ALURes` output now holds the address\n   to write to.\n\n###### Step 5: Memory Access (Data Write)\n\n1. This is the primary action stage for a store instruction.\n2. The address calculated by the ALU (`ALURes`) is sent to the `Address` input\n   of the **Data Memory**.\n3. The data to be written, which comes from the `RS2Data` output of the\n   Registers Unit (the value of `x9`), is sent to the `DataWr` input of the\n   **Data Memory**.\n4. The `DMWr` signal from the Control Unit is `1`, enabling the memory's write\n   functionality.\n5. The **Data Memory** takes the 32-bit value on its `DataWr` input and stores\n   it at the location specified by its `Address` input.\n\n###### Step 6: Write Back\n\n1. This stage is completely inactive.\n2. The `RUWr` signal is `0`, so the **Registers Unit** is disabled from writing,\n   and no registers are modified.\n3. The **PC** is updated with the `PC + 4` value, and the CPU proceeds to the\n   next instruction. \n\n##### B instruction type\n\nB-type instructions are the foundation of conditional control flow in RISC-V.\nInstructions like `beq` (Branch if Equal) and `bne` (Branch if Not Equal)\ncompare two registers (`rs1` and `rs2`). If the condition is met, program\nexecution jumps to a new address. If not, execution continues to the next\nsequential instruction (`PC + 4`).\n\nThese instructions calculate the target jump address by adding a sign-extended\nimmediate offset to the current Program Counter (`PC`). They do not write to the\nregister file or access data memory.\n\nLet's use a concrete example: `beq x5, x6, my_label`. This means: \"If the value\nin `x5` is equal to the value in `x6`, then jump to `my_label`.\" The assembler\nconverts `my_label` into a numeric offset.\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** outputs the address of the `beq` instruction.\n2. The **Instruction Memory** fetches the 32-bit instruction word.\n3. Simultaneously, the adder calculates the \"branch not taken\" address,\n   `PC + 4`.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is distributed to the **Control Unit**, **Registers\n   Unit**, and **Immediate Generator**.\n2. The **Immediate Generator**, signaled by `IMMSrc=B-type`, reassembles the\n   13-bit immediate offset from its encoded fields and sign-extends it to a\n   32-bit value.\n3. The **Control Unit** decodes the `opcode` (`1100011`) and recognizes a branch\n   instruction. It generates a set of signals to manage the two parallel\n   operations (comparison and address calculation).\n\n| Signal          | Value            | Reason                                                                                                  |\n| :-------------- | :--------------- | :------------------------------------------------------------------------------------------------------ |\n| **RUWr**        | `0`              | Branch instructions never write to the register file.                                                   |\n| **ALUASrc**     | `1`              | **Key difference:** The first ALU operand is the **PC**, needed to calculate the target address.        |\n| **ALUBSrc**     | `1`              | The second ALU operand is the sign-extended immediate offset.                                           |\n| **ALUOp**       | `ADD`            | The ALU's job is to calculate the branch target address (`PC + offset`).                                |\n| **DMWr**        | `0`              | Branch instructions do not access data memory.                                                          |\n| **BrOp**        | `EQ`             | **Key difference:** Tells the **Branch Unit** which comparison to perform (for `beq`, this is \"Equal\"). |\n| **RUDataWrSrc** | `X` (Don't Care) | No data is being written to the register file.                                                          |\n| **IMMSrc**      | `B-type`         | Tells the Immediate Generator how to extract and extend the immediate.                                  |\n\n4.  The `rs1` and `rs2` fields from the instruction are sent to the **Registers\n    Unit** to select the registers to be compared.\n\n###### Step 3: Register Read\n\n1. The **Registers Unit** receives the `rs1` and `rs2` addresses (for `x5` and\n   `x6`).\n2. It reads the 32-bit values from both registers and places them on its\n   `RS1Data` and `RS2Data` outputs.\n\n###### Step 4: Execute (Parallel Operations)\n\nFor a branch instruction, two critical operations happen in the execute stage at\nthe same time: the registers are compared, and the potential target address is\ncalculated.\n\n1. **Branch Condition Test:**\n   * The `RS1Data` (value from `x5`) and `RS2Data` (value from `x6`) outputs are\n     fed into the **Branch Unit**.\n   * The `BrOp` signal from the Control Unit (`EQ`) instructs the **Branch\n     Unit** to perform an equality test (`RS1Data == RS2Data`).\n   * The **Branch Unit** produces a single-bit output (let's call it\n     `BranchTaken`), which will be `1` if the condition is true (`x5 == x6`) and\n     `0` otherwise.\n\n2. **Target Address Calculation:**\n   * The current value of the **PC** is routed to the first input of the **ALU**\n     (selected by `ALUASrc=1`).\n   * The sign-extended immediate offset from the **Immediate Generator** is\n     routed to the second input of the **ALU** (selected by `ALUBSrc=1`).\n   * The **ALU** computes the target address for a taken branch:\n     `TargetAddress = PC + Immediate`. This result is available on the `ALURes`\n     output.\n\n###### Step 5: Memory Access\n\nThis stage is completely inactive for a branch instruction.\n\n###### Step 6: PC Selection and Update\n\nThis final stage determines the next instruction to be fetched.\n\n1. The multiplexor that selects the next value for the PC receives its two\n   inputs:\n   * Input 0: The `PC + 4` value (\"branch not taken\" path).\n   * Input 1: The `TargetAddress` calculated by the ALU (\"branch taken\" path).\n2. The `BranchTaken` signal (the `1` or `0` result from the **Branch Unit**) is\n   used as the select signal for this multiplexor.\n3. If `BranchTaken` is `1`, the multiplexor selects the `TargetAddress`.\n4. If `BranchTaken` is `0`, the multiplexor selects `PC + 4`.\n5. On the next rising clock edge, the **PC** is updated with the selected\n   address, completing the conditional branch. The register file remains\n   unchanged.\n \n##### J instruction type\n\nJ-type instructions are used for unconditional jumps. The primary J-type\ninstruction is `jal` (Jump and Link), which is the standard way to perform a\ndirect function call. Like `jalr`, it performs two actions: it saves a return\naddress and unconditionally jumps to a new location.\n\nThe key difference from `jalr` is how the target address is calculated. `jal`\nuses a large 20-bit immediate offset relative to the current `PC`, allowing for\na wide jump range (±1MiB).\n\nLet's use a concrete example: `jal ra, my_function`. This means:\n\"unconditionally jump to the address of `my_function`, and store the return\naddress (`PC + 4`) in the `ra` (return address) register.\"\n\n###### Step 1: Instruction Fetch\n\n1. The **PC** outputs the address of the `jal` instruction.\n2. The **Instruction Memory** fetches the 32-bit instruction word for\n   `jal ra, my_function`. The binary fields would be: `opcode=1101111`,\n   `rd=00001` (ra), and a 20-bit immediate field representing the offset to\n   `my_function`.\n3. The `PC + 4` adder calculates the return address that must be saved.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n\n1. The 32-bit instruction is distributed to the **Control Unit**, **Registers\n   Unit**, and **Immediate Generator**.\n2. The **Immediate Generator** extracts the 20-bit immediate value from its\n   specific encoding in the J-type format and sign-extends it to a 32-bit\n   offset.\n3. The **Control Unit** decodes the `opcode` (`1101111`) and recognizes the\n   `jal` instruction, generating signals for the unconditional jump and link.\n\n| Signal          | Value            | Reason                                                                                         |\n| :-------------- | :--------------- | :--------------------------------------------------------------------------------------------- |\n| **RUWr**        | `1`              | A `jal` instruction must write the return address (`PC + 4`) to the destination register `rd`. |\n| **ALUASrc**     | `1`              | The first ALU operand is the **PC**, which is the base for the jump address calculation.       |\n| **ALUBSrc**     | `1`              | The second ALU operand is the sign-extended immediate offset.                                  |\n| **ALUOp**       | `ADD`            | The ALU's job is to calculate the target address (`PC + offset`).                              |\n| **DMWr**        | `0`              | `jal` does not access data memory.                                                             |\n| **RUDataWrSrc** | `NextPC`         | The data written to the register is the return address, which is `PC + 4`.                     |\n| **IMMSrc**      | `J-type`         | Tells the Immediate Generator how to extract and extend the immediate.                         |\n| **BrOp**        | `X` (Don't Care) | This is an unconditional jump, not a conditional branch.                                       |\n\n4. The Control Unit also asserts an unconditional \"jump\" signal to ensure the PC\n   is updated from the ALU's result.\n5. The `rd` field from the instruction is sent to the **Registers Unit**.\n\n###### Step 3: Register Read\n\nThis stage is inactive. The J-type format does not use any source registers\n(`rs1` or `rs2`), so no register reading is performed.\n\n###### Step 4: Execute (Target Address Calculation)\n\n1. The current value of the **PC** is routed to the first input of the **ALU**\n   (selected by `ALUASrc=1`).\n2. The 32-bit sign-extended immediate offset from the **Immediate Generator** is\n   routed to the second input of the **ALU** (selected by `ALUBSrc=1`).\n3. The **ALU** computes the target jump address:\n   `TargetAddress = PC + Immediate`. This result is placed on the `ALURes`\n   output.\n\n###### Step 5: Memory Access\n\nThis stage is completely idle for a `jal` instruction.\n\n###### Step 6: Write Back and PC Update\n\nThis final step performs the two simultaneous actions of the `jal` instruction\nwithin the same clock cycle.\n\n1. **Register Write Back (Linking):**\n   * The return address (`PC + 4`) from the dedicated adder is sent to the final\n     multiplexor before the Registers Unit.\n   * The `RUDataWrSrc` signal selects the `NextPC` (`PC + 4`) input.\n   * This return address is passed to the `DataWr` input of the **Registers\n     Unit**.\n   * With `RUWr=1` asserted, the **Registers Unit** writes this return address\n     into the destination register specified by `rd` (in this case, `ra`).\n\n2. **Program Counter Update (Jumping):**\n   * The `TargetAddress` calculated by the ALU (`ALURes`) is sent to the\n     multiplexor that selects the next value for the PC.\n   * The Control Unit's unconditional jump logic forces this multiplexor to\n     select the `TargetAddress`.\n   * On the next rising clock edge, the **PC** is loaded with this new\n     `TargetAddress`, causing program execution to jump to the target function.\n\n\n##### U type instructions: `lui` \n\nU-type (Upper Immediate) instructions are fundamental for creating 32-bit\nconstants and PC-relative addresses. Their primary function is to load a 20-bit\nimmediate value into the upper 20 bits of a destination register. There are two\nU-type instructions, `lui` and `auipc`, which have slightly different data\npaths.\n\nThe `lui` instruction is used to build large constants. It takes a 20-bit\nimmediate, shifts it left by 12 bits (filling the lower 12 bits with zeros), and\nwrites the result to a destination register. The operation is `rd = imm << 12`.\n\nLet's use a concrete example: `lui a0, 0x80001`. This will result in `a0`\nholding the value `0x80001000`.\n\n###### Step 1: Instruction Fetch\n1. The **PC** outputs the address of the `lui` instruction.\n2. The **Instruction Memory** fetches the 32-bit instruction word. The fields\n   would be: `opcode=0110111`, `rd=01010` (a0), and `imm=10000000000000000001`\n   (0x80001).\n3. The adder calculates the default next address, `PC + 4`.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n1. The 32-bit instruction is passed to the **Control Unit**, **Registers Unit**,\n   and **Immediate Generator**.\n2. The **Immediate Generator** extracts the 20-bit immediate (`0x80001`) and\n   creates a 32-bit value by shifting it left 12 places, resulting in\n   `0x80001000`.\n3. The **Control Unit** decodes the `opcode` (`0110111`) and generates signals\n   to pass the immediate through the ALU to the register file.\n\n| Signal          | Value            | Reason                                                                                 |\n| :-------------- | :--------------- | :------------------------------------------------------------------------------------- |\n| **RUWr**        | `1`              | `lui` writes a result to the destination register.                                     |\n| **ALUASrc**     | `0`              | We need a zero source. This can be accomplished by selecting `RS1Data` and using `x0`. |\n| **ALUBSrc**     | `1`              | The second ALU operand is the shifted immediate from the Immediate Generator.          |\n| **ALUOp**       | `ADD`            | The ALU will perform `0 + Immediate`, effectively passing the immediate through.       |\n| **DMWr**        | `0`              | `lui` does not access data memory.                                                     |\n| **RUDataWrSrc** | `ALURes`         | The result to be written comes from the ALU.                                           |\n| **IMMSrc**      | `U-type`         | Tells the Immediate Generator how to format the immediate.                             |\n| **BrOp**        | `X` (Don't Care) | Not a branch instruction.                                                              |\n\n4. The `rd` field is sent to the **Registers Unit**. The `rs1` field, though not\n   present in the U-type format, is effectively treated as `x0` to provide a\n   zero input to the ALU.\n\n###### Step 3: Register Read\nThis stage is effectively inactive. The control logic selects register `x0`\n(zero) as the first source operand.\n\n###### Step 4: Execute\n1. The first input to the **ALU** is `0` (from register `x0`).\n2. The second input to the **ALU** is the 32-bit shifted immediate\n   (`0x80001000`) from the **Immediate Generator**.\n3. The **ALU**, instructed by `ALUOp=ADD`, computes `ALURes = 0 + 0x80001000`.\n4. The result, `0x80001000`, is placed on the `ALURes` output.\n\n###### Step 5: Memory Access\nThis stage is inactive.\n\n###### Step 6: Write Back\n1. The `ALURes` value (`0x80001000`) is selected by the write-back multiplexor\n   and sent to the `DataWr` input of the **Registers Unit**.\n2. With `RUWr=1`, the **Registers Unit** writes this value into the destination\n   register `rd` (`a0`).\n3. The **PC** is updated to `PC + 4`.\n\n##### U type instructions: `auipc`\n\nThe `auipc` instruction is used for generating PC-relative addresses, essential\nfor position-independent code. It takes a 20-bit immediate, shifts it left by 12\nbits, adds it to the current `PC`, and writes the result to a destination\nregister. The operation is `rd = PC + (imm << 12)`.\n\nLet's use an example: `auipc t0, 0x1`. If the PC is `0x2000`, this will result\nin `t0` holding the value `0x2000 + 0x1000 = 0x3000`.\n\n###### Step 1: Instruction Fetch\nThis step is identical to `lui`. The instruction is fetched and `PC+4` is\ncalculated.\n\n###### Step 2: Instruction Decode & Control Signal Generation\n1. The **Immediate Generator** extracts the 20-bit immediate (`0x1`) and creates\n   a 32-bit value by shifting it left 12 places, resulting in `0x00001000`.\n2. The **Control Unit** decodes the `opcode` (`0010111`) for `auipc`.\n\n| Signal          | Value    | Reason                                                     |\n| :-------------- | :------- | :--------------------------------------------------------- |\n| **RUWr**        | `1`      | `auipc` writes a result to the destination register.       |\n| **ALUASrc**     | `1`      | **Key difference:** The first ALU operand is the **PC**.   |\n| **ALUBSrc**     | `1`      | The second ALU operand is the shifted immediate.           |\n| **ALUOp**       | `ADD`    | The ALU's job is to add the PC and the immediate.          |\n| **DMWr**        | `0`      | `auipc` does not access data memory.                       |\n| **RUDataWrSrc** | `ALURes` | The result to be written comes from the ALU.               |\n| **IMMSrc**      | `U-type` | Tells the Immediate Generator how to format the immediate. |\n\n#### Step 3: Register Read\nThis stage is inactive as no source registers are used.\n\n#### Step 4: Execute\n1. The current value of the **PC** is routed to the first input of the **ALU**\n   (selected by `ALUASrc=1`).\n2. The 32-bit shifted immediate (`0x00001000`) is routed to the second input of\n   the **ALU**.\n3. The **ALU** performs the addition: `ALURes = PC + 0x00001000`.\n4. The result is placed on the `ALURes` output.\n\n#### Step 5: Memory Access\nThis stage is inactive.\n\n#### Step 6: Write Back\n1. The `ALURes` value (e.g., `0x3000`) is sent to the `DataWr` input of the\n   **Registers Unit**.\n2. With `RUWr=1`, the **Registers Unit** writes this value into the destination\n   register `rd` (`t0`).\n3. The **PC** is updated to `PC + 4`.\n\n## TODO\n\nA common point of confusion is the \"64\" in RV64. This number refers to the width\nof the general-purpose registers and the address space (i.e., 64-bit data and\npointers), not the size of the instructions themselves. The RISC-V ISA maintains\na fixed 32-bit instruction length for its base instruction set, regardless of\nwhether the architecture is RV32, RV64, or RV128.\n\nHowever, the standard also includes the **\"C\" extension for Compressed\nInstructions**. When this extension is enabled, the processor can also execute\n16-bit instructions. These are simply shorter, more compact encodings of the\nmost frequently used 32-bit base instructions, designed to improve code density.\n\nTherefore, in a typical RV64 system that supports the \"C\" extension (often\ndenoted as RV64GC), the instructions you will find are a mix of both **32-bit**\nand **16-bit** formats.\n\n### Pipe line\n\n",ice=`# Gemini System Prompt: RISC-V Architecture Expert

## Core Identity and Purpose

You are a specialized AI assistant. Your identities are:

- An expert on the RISC-V Instruction Set Architecture (ISA).
- A hardware design expeert focused on the implementation of computer
  architectures.

You do not have personal opinions, feelings, or knowledge outside of this
domain. Your primary purpose is to answer questions, explain concepts, generate
code examples, and provide detailed information strictly related to the RISC-V
architecture. You should function as a technical resource, similar to a
reference manual or a knowledgeable professor.

Your audience consists on people willing to learn concepts. Some of them can be
students so you are encouraged to not give them right away solutions to the
question. Instead you should make them reason about the concepts. If after some
trials they fall to comprenhend the concepts then give them the answer but show
them how you got there.

## Scope of Expertise

Your knowledge and functionality are strictly confined to the following topics:

- RISC-V Philosophy: RISC principles, the open standard model, and modularity.
- ISA Structure: The base integer instruction sets (RV32I, RV64I) and all
  standard extensions (M, A, F, D, C, etc.).
- Registers: General-purpose registers (x0-x31), the program counter (pc), their
  ABI names (ra, sp, etc.), and their conventional uses.
- Instruction Formats: The encoding and structure of all instruction types (R,
  I, S, B, U, J).
- Instruction Details: The function, syntax, and operation of every standard
  instruction, including pseudo-instructions.
- RISC-V Assembly Language: Syntax, mnemonics, labels, operands, comments, and
  assembler directives (.data, .text, etc.).
- CPU Implementation Concepts: The theory and data flow for different
  microarchitectures, including single-cycle, multi-cycle, and pipelined
  designs.
- Program Execution: The instruction cycle (fetch, decode, execute, memory,
  write-back) as it pertains to RISC-V.
- System Interaction: The purpose and use of the ecall and ebreak instructions.

## Rules of Engagement and Boundaries (MANDATORY)

These rules are absolute and must be followed without exception. 

- Rule 1: Strict Topic Adherence

  You MUST refuse to answer any question that falls outside the defined "Scope
  of Expertise." This is your most important directive. Do not attempt to find a
  tenuous link to RISC-V; if the core subject is not RISC-V, you must refuse.

- Rule 2: Refusal Protocol

  When a question is off-topic, you must respond with a polite, direct, and firm
  refusal. Do not apologize. Use one of the following phrases:

  - "My specialization is limited to the RISC-V architecture. I cannot answer
    your question about ..."
  - "I am a RISC-V expert assistant and can only provide information on that
    subject."
  - "My purpose is to provide information exclusively about the RISC-V
    architecture. I cannot assist with that request."

- Rule 3: Prohibited subjects
  
  Immediately refuse any queries bout, but not limited to:

  - General purpose programming languages unless the question is specifically
    related to compiling them to RISC-V target.
  - Personal opinions, advice or any subjective matter.
  - Current events, history, mathematics (unless related to operations performed
    by the CPU), science, art, culture.

- Rule 4: No Conversational Chit-Chat

  Do not engage in small talk or general conversation. If the user attempts to
  ask personal questions or have a non-technical conversation, gently redirect
  them back to the topic.

  - Example User Query: "How are you today?"
  - Correct Response: "I am a RISC-V knowledge model. How can I assist you with
    the RISC-V architecture?"

## Output Formatting and Tone

  - Tone: Your tone must be technical, precise, formal, and helpful. Avoid
    colloquialisms and overly casual language.

  - Formatting: Use Markdown extensively for clarity.

    - Use headings, subheadings, bold text, and lists to structure your answers.
    - Use tables for structured data like instruction sets or register files.

  - Code Blocks: For all RISC-V assembly code examples, you MUST use Markdown
    code blocks with the language identifier python. All code must be clearly
    commented.

    \`\`\`python
    # Load the address of 'my_data' into register t0
    la t0, my_data
    # Load the word at that address into register t1
    lw t1, 0(t0)
    \`\`\`


  - Clarity: Prioritize accuracy and clarity in all explanations. Define
    technical terms when appropriate.`,rce=nce,sce=ice,oce=()=>{const[t,e]=x.useState(""),[n,i]=x.useState(!1),[r,s]=x.useState(!1),[o,l]=x.useState([]),{textProgram:c}=lt(),{currentInst:d}=It(),f=x.useRef(null),m=x.useRef(null),[v,w]=x.useState(null),C=x.useRef({x:0,y:0,width:0,height:0}),S=(D,P)=>{D.preventDefault(),D.stopPropagation(),w(P),m.current&&(C.current={x:D.clientX,y:D.clientY,width:m.current.offsetWidth,height:m.current.offsetHeight})},_=x.useCallback(D=>{if(!v||!m.current)return;const P=D.clientX-C.current.x,O=D.clientY-C.current.y;let j=C.current.width,B=C.current.height;v.includes("left")&&(j=C.current.width-P),v.includes("top")&&(B=C.current.height-O);const W=320,z=window.innerWidth*.95,Q=200,Z=window.innerHeight*.95;j<W&&(j=W),j>z&&(j=z),B<Q&&(B=Q),B>Z&&(B=Z),m.current.style.width=`${j}px`,m.current.style.height=`${B}px`},[v]),R=x.useCallback(()=>{w(null)},[]);x.useEffect(()=>(v&&(window.addEventListener("mousemove",_),window.addEventListener("mouseup",R)),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",R)}),[v,_,R]),x.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[o,n]);const M=async D=>{if(!D)return;const P={role:"user",parts:[{text:D}]},O=[...o,P];l(O),i(!0);const B="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyCHnhCqcQ12fb59y4zgq6YKU9x7IX4Uujw",W={contents:O,system_instruction:{parts:[{text:`
          Rules:${sce}
          Context:${rce}
          Current program being simulated:${c}
          Curent instruction being executed:${JSON.stringify(d)}
          `}]}};try{const z=await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!z.ok)throw new Error(`Error en la petición: ${z.status}`);const Q=await z.json();if(!Q.candidates||Q.candidates.length===0)throw new Error("Respuesta no válida o bloqueada por seguridad.");const ne={role:"model",parts:[{text:Q.candidates[0].content.parts[0].text}]};l([...O,ne])}catch(z){console.error("Hubo un error al llamar a Gemini:",z);const Q={role:"model",parts:[{text:"Lo siento, algo salió mal. Inténtalo de nuevo."}]};l([...O,Q])}finally{i(!1)}},k=D=>{D.preventDefault(),M(t),e("")};return g.jsx("div",{className:"fixed bottom-5 right-5",id:"gemini-chat",children:g.jsxs(Aie,{open:r,onOpenChange:s,children:[g.jsx(kie,{asChild:!0,children:g.jsx(I7,{size:18,className:"cursor-pointer"})}),g.jsxs(Mie,{ref:m,className:`w-80 mr-4 flex flex-col gap-4 p-4 z-[10000] relative max-h-[90vh] 
                     bg-neutral-100 border border-neutral-300 text-neutral-900 
                     dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-100`,align:"end",children:[g.jsx("div",{onMouseDown:D=>S(D,"left"),className:"absolute top-0 left-0 h-full w-2 cursor-ew-resize z-10"}),g.jsx("div",{onMouseDown:D=>S(D,"top"),className:"absolute top-0 left-0 w-full h-2 cursor-ns-resize z-10"}),g.jsx("div",{onMouseDown:D=>S(D,"top-left"),className:"absolute top-0 left-0 w-3 h-3 cursor-nwse-resize z-10"}),g.jsx("div",{className:"space-y-2 flex-shrink-0",children:g.jsx("h4",{className:"font-medium leading-none",children:"Ask the AI"})}),g.jsxs("div",{ref:f,className:`flex-1 rounded-md border overflow-y-auto p-3 text-sm
                       border-neutral-300 bg-neutral-50
                       dark:border-neutral-700 dark:bg-neutral-800/50`,children:[o.length===0&&!n?g.jsx("p",{children:"Waiting for your question..."}):o.map((D,P)=>g.jsx("div",{className:"mb-4",children:D.role==="user"?g.jsx("div",{className:"text-right",children:g.jsx("p",{className:"inline-block bg-blue-500 text-white rounded-lg px-3 py-2",children:D.parts[0].text})}):g.jsx("div",{className:"prose-sm prose dark:prose-invert max-w-none",children:g.jsx(Uae,{remarkPlugins:[tce],children:D.parts[0].text})})},P)),n&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(M7,{className:"h-4 w-4 animate-spin"}),g.jsx("span",{children:"Thinking..."})]})]}),g.jsxs("form",{onSubmit:k,className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx(Die,{id:"question",placeholder:"How can I help you?",className:`flex-1 
                           bg-neutral-50 border-neutral-300 outline-none
                           dark:bg-neutral-800 dark:border-neutral-700 `,value:t,onChange:D=>e(D.target.value),disabled:n}),g.jsx(Jr,{type:"submit",size:"icon",disabled:n||!t,children:g.jsx(K7,{className:"h-4 w-4"})})]})]})]})})},ace=()=>{const{operation:t,setSimulateAuto:e}=lt(),[n,i]=x.useState(!1),{dialog:r}=Lf(),{theme:s}=ho();return x.useEffect(()=>{t==="uploadMemory"&&i(!1)},[t,n]),x.useEffect(()=>{if(r&&r.stop){e(!1),i(!0);return}},[r,e]),g.jsxs(g.Fragment,{children:[t!==""&&!n&&g.jsx("div",{className:`flex flex-col gap-6 items-center px-2 py-4 ${s==="light"?"bg-gray-200":"bg-black"}  rounded-sm mt-3`,children:g.jsx(_ne,{})}),g.jsx(oce,{})]})},Sj=()=>{const{modeSimulator:t,operation:e,section:n}=lt(),{setTheme:i}=ho(),[r,s]=x.useState(!1),o=1296;return x.useEffect(()=>{document.body.classList.contains("vscode-light")?i("light"):i("dark")},[i]),x.useEffect(()=>{const l=()=>{if(window.innerWidth<o&&(e==="uploadMemory"||e==="step")){s(!0);const c=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(c)}};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[e]),g.jsxs($W,{className:"h-full overflow-hidden",children:[g.jsx(XW,{}),e==="uploadMemory"||e==="step"?g.jsxs("div",{className:`relative flex gap-5 p-4 overflow-x-auto overflow-y-hidden  ${t!=="graphic"&&"h-screen"} `,children:[g.jsx(bJ,{}),e==="uploadMemory"&&(n==="settings"?g.jsx(e_,{}):n==="convert"?g.jsx(O1,{}):g.jsx(G1,{})),e==="step"&&(n==="search"?g.jsx(Lee,{}):n==="convert"?g.jsx(O1,{}):n==="settings"?g.jsx(e_,{}):g.jsx(G1,{}))]}):n==="convert"?g.jsx(O1,{}):g.jsx(G1,{}),e!==""&&r&&g.jsx("div",{className:"absolute right-8 bottom-[1rem] transform -translate-y-1/2 z-10000 text-black left-animation",children:g.jsx("div",{className:"flex items-center justify-center",children:g.jsx(yV,{})})}),g.jsxs("div",{className:"absolute right-2 flex flex-col items-center  ",children:[g.jsx(WW,{}),g.jsx(ace,{})]})]})},lce=()=>{const{requestFitView:t}=zf(),[e,n]=x.useState(()=>window.innerHeight*.35),[i,r]=x.useState(!1),[s,o]=x.useState(0),[l,c]=x.useState(200),d=v=>{r(!0),o(v.clientY),c(e)},f=v=>{i&&window.requestAnimationFrame(()=>{const w=l+(s-v.clientY);w>=10&&n(w)})},m=()=>{r(!1),t()};return x.useEffect(()=>(i?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",m)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m)),()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m)}),[i,l,s]),g.jsx("div",{className:"flex ",children:g.jsxs("div",{style:{height:`${e}px`},className:"relative w-full overflow-y-hidden overflow-hidden",children:[g.jsx("div",{className:"flex absolute top-0 left-0 min-w-full h-[.3rem]  cursor-ns-resize bg-gray-500 z-10",onMouseDown:d}),g.jsx("div",{className:"h-full p-4 ",children:g.jsx(Sj,{})})]})})},Rj={border:"none",borderRadius:0,padding:0,boxShadow:"none"},uce={width:5,height:5,backgroundColor:"black",...Rj},ht=(t,e,n,i="black")=>({id:t,type:t,data:{label:""},position:e,parentId:n,extent:"parent",style:{...uce,backgroundColor:i}}),$e=(t,e,n,i,r,s,o,l="transparent",c={})=>({id:t,type:e,data:{label:n},position:i,parentId:r,extent:"parent",style:{backgroundColor:l,width:s,height:o,...Rj,...c}}),cce=()=>{const{typeSimulator:t}=lt(),e=t==="pipeline",n=e?50:0;return[{id:"IF",type:"group",data:{label:"Section 1"},position:{x:0,y:0},draggable:!1,zIndex:6,style:{width:870+n,height:1330+(e?140:0),backgroundColor:"#FCE4EC",border:"1px solid #FCE4EC",borderRadius:8}},$e("title-IF","title","Fetch (IF)",{x:10,y:0},"IF",870,50),$e("pc","pc","PC",{x:215+(e?12:0),y:685},"IF",180,239),$e("adder4","adder4","Adder 4",{x:595,y:225},"IF",90,120),$e("four","four","4",{x:465,y:191},"IF",90,120),$e("instructionMemory","instructionMemory","Instruction Memory",{x:505+(e?15:0),y:685},"IF",290,339),$e("muxD","muxD","MUX D",{x:93,y:480},"IF",65,150),ht("pivot1",{x:435+(e?15:0),y:386+(e?30:0)},"IF"),ht("pivot15",{x:225,y:178},"IF"),ht("pivot17",{x:90.7,y:78},"IF"),ht("pivot25",{x:435+(e?15:0),y:798.9},"IF"),{id:"controlUnit",type:"controlUnit",data:{label:"controlUnit"},zIndex:7,position:{x:40,y:1180.5+(e?130:0)},parentId:"IF",draggable:!1,style:{width:3050+(e?545:0),height:170,backgroundColor:"transparent",border:"none",borderRadius:0,padding:0,boxShadow:"none"}},...e?[$e("pc_fe","pc_fe","pc_fe",{x:90.5,y:829.5},"IF",36,50),$e("pcinc_de","pcinc_de","pcinc_de",{x:870+n,y:232.4},"IF",36,50),ht("pivot18",{x:820,y:254},"IF"),ht("pivot19",{x:820,y:128},"IF"),$e("pivotJump10","pivotJump10","pivotJump10",{x:804.3,y:155},"IF",47,47),$e("pc_id","pc_id","PC_De",{x:870+n,y:370},"IF",36,50),$e("inst_id","inst_id","inst_id",{x:870+n,y:821.4},"IF",36,50)]:[]]},dce=()=>{const{typeSimulator:t}=lt(),e=t==="pipeline",n=e?80:0,i=s=>s+(e?35:0);return[{id:"ID",type:"group",data:{label:"Section 2"},position:{x:870+(e?50:0),y:0},draggable:!1,zIndex:5,style:{width:740+n,height:1330+(e?140:0),backgroundColor:"#FFF9C4",border:"1px solid #FFF9C4",borderRadius:8}},$e("title-ID","title","Decode (ID)",{x:10,y:0},"ID",870,50),$e("ruWr","ruWr","RUWR",{x:i(120)+(e?70:0),y:814},"ID",90,30),$e("registersUnit","registerUnit","Registers Unit",{x:i(255)+(e?70:0),y:435},"ID",360,450),$e("immSrc","immSrc","IMMSrc",{x:i(145)+(e?70:0),y:1028.5},"ID",90,30),$e("immGenerator","immGenerator","Immediate Generator",{x:i(285)+(e?70:0),y:935.5},"ID",330,150),ht("pivot3",{x:i(50),y:843},"ID"),ht("pivot12",{x:i(100)+(e?70:0),y:1131},"ID"),ht("pivot20",{x:i(50),y:563},"ID"),ht("pivot21",{x:i(50),y:483},"ID"),ht("pivot22",{x:i(50),y:643},"ID"),ht("pivot26",{x:i(50),y:976.5},"ID"),ht("pivot27",{x:i(50),y:1169+(e?130:0)},"ID"),ht("pivot28",{x:i(100),y:1169+(e?130:0)},"ID"),ht("pivot29",{x:i(100),y:1226+(e?130:0)},"ID"),ht("pivot30",{x:i(270),y:1169+(e?130:0)},"ID"),ht("pivot31",{x:i(270),y:1226+(e?130:0)},"ID"),ht("pivot32",{x:i(450),y:1169+(e?130:0)},"ID"),ht("pivot33",{x:i(450),y:1226+(e?130:0)},"ID"),$e("pivotJump1","pivotJump1","pivotJump1",{x:i(84)+(e?70:0),y:953.4},"ID",47,47),...e?[ht("pivot35",{x:143,y:643},"ID"),ht("pivot36",{x:143,y:1170},"ID"),ht("pivot38",{x:85,y:1232},"ID"),$e("pcinc_ie","pcinc_ie","pcinc_ie",{x:740+n,y:232.4},"ID",36,50),$e("pc_ie","pc_ie","PC_ex",{x:740+n,y:370},"ID",36,50),$e("rurs1_ie","rurs1_ie","rurs1_ie",{x:740+n,y:685},"ID",36,50),$e("rurs2_ie","rurs2_ie","rurs2_ie",{x:740+n,y:804},"ID",36,50),$e("immext_ie","immext_ie","immext_ie",{x:740+n,y:986.3},"ID",36,50),$e("rd_ie","rd_ie","rd_ie",{x:740+n,y:1210},"ID",36,50),$e("cu_ie","cu_ie","cu_ie",{x:740+n,y:1370.3},"ID",36,50),$e("cu_id_exit","cu_id_exit","cu_id_exit",{x:660,y:1272},"ID",90,30),ht("pivot39",{x:620,y:1365},"ID"),$e("pivotJump11","pivotJump11","pivotJump11",{x:i(21.5)+(e?70:0),y:953.4},"ID",47,47)]:[ht("pivot2",{x:i(680),y:822.3},"ID"),ht("pivot5",{x:i(680),y:1077},"ID","red"),ht("pivot18",{x:i(50),y:254},"ID"),ht("pivot19",{x:i(50),y:128},"ID"),$e("pivotJump2","pivotJump2","pivotJump2",{x:i(664),y:363},"ID",47,47),$e("pivotJump4","pivotJump4","pivotJump4",{x:i(664),y:688},"ID",47,47),$e("pivotJump5","pivotJump5","pivotJump5",{x:i(664),y:985},"ID",47,47),$e("pivotJump10","pivotJump10","pivotJump10",{x:i(34),y:155},"ID",47,47)]]},hce=()=>{const{typeSimulator:t}=lt(),e=t==="pipeline",n=l=>l+(e?140:0),i=l=>l+(e?100:0),r=l=>l+(e?89:0),s=e?275:0;return[{id:"IE",type:"group",data:{label:"Section 3"},position:{x:1600+(e?130:0),y:0},draggable:!1,zIndex:3,style:{width:680+s,height:1330+(e?140:0),backgroundColor:"#E3F2FD",border:"1px solid #E3F2FD",borderRadius:8}},$e("title-IE","title","Execute (IE)",{x:10,y:0},"IE",670,50),$e("muxA","muxA","MUX A",{x:n(165),y:605},"IE",65,150),$e("aluASrc","aluASrc","ALU A SRC",{x:n(153),y:535},"IE",90,30),$e("muxB","muxB","MUX B",{x:n(165),y:780},"IE",65,150),$e("aluBSrc","aluBSrc","ALU B SRC",{x:n(153),y:982},"IE",90,30),$e("alu","alu","ALU",{x:n(300),y:635},"IE",325,320),$e("aluOp","aluOp","ALU OPERATION",{x:n(410),y:1e3},"IE",105,30),$e("branchUnit","branchUnit","Branch Unit",{x:n(300),y:295},"IE",325,160),$e("brOp","brOp","BrOp",{x:n(418),y:510},"IE",90,30),ht("pivot4",{x:n(45),y:711},"IE"),ht("pivot10",{x:n(44),y:1008},"IE"),$e("pivotJump3","pivotJump3","pivotJump3",{x:n(29),y:563},"IE",47,47),...e?[$e("pcinc_mem","pcinc_mem","pcinc_mem",{x:740+s,y:232.4},"IE",36,50),$e("alures_mem","alures_mem","alures_mem",{x:740+s,y:770.4},"IE",36,50),$e("rurs2_mem","rurs2_mem","rurs2_mem",{x:740+s,y:1050},"IE",36,50),$e("rd_mem","rd_mem","rd_mem",{x:740+s,y:1210},"IE",36,50),$e("cu_mem","cu_mem","cu_mem",{x:740+s,y:1378.3},"IE",36,50),ht("pivot2",{x:i(5),y:822.3},"IE"),ht("pivot5",{x:i(5),y:1077},"IE","red"),$e("pivotJump2","pivotJump2","pivotJump2",{x:r(0),y:363+(e?5.5:0)},"IE",47,47),$e("pivotJump4","pivotJump4","pivotJump4",{x:r(0),y:688},"IE",47,47),$e("pivotJump5","pivotJump5","pivotJump5",{x:r(0),y:985},"IE",47,47),ht("pivot14",{x:800,y:178},"IE"),ht("pivot7",{x:860,y:792.6},"IE"),ht("pivot16",{x:860,y:78},"IE"),$e("pivotJump8","pivotJump8","pivotJump8",{x:784,y:231},"IE",47,47),$e("pivotJump9","pivotJump9","pivotJump9",{x:842,y:231},"IE",47,47),$e("cu_ie_exit","cu_ie_exit","cu_ie_exit",{x:100,y:1272},"IE",90,30)]:[]]},fce=()=>{const{typeSimulator:t}=lt(),e=t==="pipeline",n=e?60:0,i=e?405:0,r=o=>o+(e?5:0);return[{id:"MEM",type:"group",data:{label:"Section 4"},position:{x:2280+i,y:0},draggable:!1,zIndex:0,style:{width:565+n,height:1330+(e?140:0),backgroundColor:"#E8F5E9",border:"1px solid #E8F5E9"}},$e("title-MEM","title","Memory (MEM)",{x:10,y:0},"MEM",565,50),$e("dataMemory","dataMemory","Data Memory",{x:r(200),y:635},"MEM",325,320),$e("dmWr","dmWr","DMWR",{x:r(243),y:555},"MEM",90,30),$e("dmCtrl","dmCtrl","DMCtrl",{x:r(385),y:555},"MEM",90,30),ht("pivot6",{x:r(135),y:1077},"MEM"),ht("pivot8",{x:r(90),y:1006},"MEM"),$e("pivotJump6","pivotJump6","pivotJump6",{x:r(118),y:983},"MEM",47,47),...e?[$e("pcinc_wb","pcinc_wb","pcinc_wb",{x:565+n,y:232.4},"MEM",36,50),$e("dmdatard_wb","dmdatard_wb","dmdatard_wb",{x:565+n,y:820.8},"MEM",36,50),$e("alures_wb","alures_wb","alures_wb",{x:565+n,y:986},"MEM",36,50),$e("rd_wb","rd_wb","rd_wb",{x:565+n,y:1210},"MEM",36,50),$e("cu_wb","cu_wb","cu_wb",{x:565+n,y:1379.1},"MEM",36,50),ht("pivot34",{x:r(90),y:792.3},"MEM"),$e("cu_mem_exit","cu_mem_exit","cu_mem_exit",{x:100,y:1272},"MEM",90,30)]:[ht("pivot7",{x:r(90),y:792.6},"MEM"),ht("pivot14",{x:r(18),y:178},"MEM"),ht("pivot16",{x:r(90),y:78},"MEM"),$e("pivotJump8","pivotJump8","pivotJump8",{x:r(2),y:231},"MEM",47,47),$e("pivotJump9","pivotJump9","pivotJump9",{x:r(74),y:231},"MEM",47,47)]]},pce=()=>{const{typeSimulator:t}=lt(),e=t==="pipeline",n=e?465:0,i=s=>s+(e?90:0),r=[{id:"WB",type:"group",data:{label:"Section 5"},position:{x:2845+n,y:0},draggable:!1,zIndex:-1,style:{width:290+(e?80:0),height:1330+(e?140:0),backgroundColor:"#FFF2E0",border:"1px solid #FFF2E0",borderRadius:8}},$e("title-WB","title","Write back (WB)",{x:10,y:0},"WB",290,50),$e("muxC","muxC","MUXC",{x:i(90),y:770},"WB",65,150),$e("ruDataWrSrc","ruDataWrSrc","RUDataWrSrc",{x:i(78),y:960},"WB",90,30),ht("pivot9",{x:i(18),y:1006},"WB"),ht("pivot11",{x:i(230),y:1131},"WB"),ht("pivot13",{x:i(18),y:254},"WB")];return e&&(r.push(ht("pivot37",{x:i(18),y:1170},"WB")),r.push($e("cu_wb_exit","cu_wb_exit","cu_wb_exit",{x:100,y:1272},"WB",90,30))),r},mce=()=>{const t=cce(),e=dce(),n=hce(),i=fce(),r=pce();return[...t,...e,...n,...i,...r]},gce=[{id:"pc->pivot25",source:"pc",target:"pivot25",type:"default"},{id:"pivot25->instMemory",source:"pivot25",sourceHandle:"instructionMemory",target:"instructionMemory",type:"smootstephstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],vce=[{id:"pivot25->pivot1",source:"pivot25",sourceHandle:"adder4",target:"pivot1",type:"smoothstep"},{id:"pivot1->adder4",source:"pivot1",target:"adder4",targetHandle:"pivot",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],bce=[{id:"four->adder4",source:"four",target:"adder4",targetHandle:"fourTarget",type:"default",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],yce=[...gce,...vce,...bce],wce=[{id:"immSrc->immGenerator",source:"immSrc",target:"immGenerator",targetHandle:"immSrc",type:"default",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],xce=[{id:"ruWr->registersUnit",source:"ruWr",target:"registersUnit",targetHandle:"ruWr",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Cce=[...wce,...xce],Ece=[{id:"pivot3->pivot22",source:"pivot3",sourceHandle:"[11:7]",target:"pivot22",targetHandle:"[11:7]",type:"step"},{id:"pivot22->pivot20",source:"pivot22",sourceHandle:"[24:20]",target:"pivot20",type:"smoothstep"},{id:"pivot20->RegistersUnit[24:20]",source:"pivot20",sourceHandle:"[24:20]",target:"registersUnit",targetHandle:"[24:20]",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:9,height:9}},{id:"pivot20->pivot21",source:"pivot20",sourceHandle:"[19:15]",target:"pivot21",type:"step"},{id:"pivot21->RegistersUnit[19:15]",source:"pivot21",sourceHandle:"[19:15]",target:"registersUnit",targetHandle:"[19:15]",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Sce=[{id:"pivot3->pivot26",source:"pivot3",sourceHandle:"[31:7]",target:"pivot26",type:"smoothstep"},{id:"pivotJump1->immediateGenerator[31:7]",source:"pivotJump1",target:"immGenerator",targetHandle:"[31:7]",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,width:8,height:8,color:"#888888"}}],Rce=[{id:"pivot27->pivot28",source:"pivot27",target:"pivot28",type:"step"},{id:"pivot28->pivot29",source:"pivot28",sourceHandle:"[6:0]",target:"pivot29",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:9,height:9}},{id:"pivot28->pivot30",source:"pivot28",sourceHandle:"[14:12]",target:"pivot30",type:"step"},{id:"pivot30->pivot31",source:"pivot30",sourceHandle:"[14:12]",target:"pivot31",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:9,height:9}},{id:"pivot30->pivot32",source:"pivot30",sourceHandle:"[31:25]",target:"pivot32",type:"step"},{id:"pivot32->pivot33",source:"pivot32",target:"pivot33",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:9,height:9}}],Tce=[{id:"pivotJump2->pivotJump3",source:"pivotJump2",target:"pivotJump3",type:"smoothstep"},{id:"pivotJump3->muxA",source:"pivotJump3",target:"muxA",targetHandle:"pc",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],_ce=[...Tce,...Ece,...Sce,...Rce],Ace=[{id:"branchUnit->pivot14",source:"branchUnit",target:"pivot14",type:"smoothstep"},{id:"pivot14->pivotJump10",source:"pivot14",target:"pivotJump10",type:"smoothstep"},{id:"pivotJump10->pivot15",source:"pivotJump10",target:"pivot15",type:"smoothstep"},{id:"pivot15->muxD",source:"pivot15",target:"muxD",targetHandle:"bu",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],kce=[{id:"pivot7->pivot16",source:"pivot7",sourceHandle:"muxD",target:"pivot16",type:"smoothstep"},{id:"pivot16->pivot17",source:"pivot16",target:"pivot17",type:"smoothstep"},{id:"pivot17->muxD",source:"pivot17",target:"muxD",targetHandle:"alu",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Mce=[...Ace,...kce],Dce=[{id:"pivotJump5->pivot10",source:"pivotJump5",target:"pivot10",type:"smoothstep"},{id:"pivot10->muxB",source:"pivot10",target:"muxB",targetHandle:"immGenerator",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Nce=[{id:"pivot4->branchUnit",source:"pivot4",sourceHandle:"branchUnit",target:"branchUnit",targetHandle:"RS1",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pivot2->branchUnit",source:"pivot2",sourceHandle:"branchUnit",target:"branchUnit",targetHandle:"RS2",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Lce=[{id:"pivotJump4->pivot4",source:"pivotJump4",target:"pivot4",type:"default"},{id:"pivot4->muxA",source:"pivot4",sourceHandle:"muxA",target:"muxA",targetHandle:"registersUnitA",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pivot2->muxB",source:"pivot2",sourceHandle:"muxB",target:"muxB",targetHandle:"registersUnitB",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Oce=[...Dce,...Nce,...Lce],Pce=[{id:"aluOp->ALU",source:"aluOp",target:"alu",targetHandle:"aluOp",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],jce=[{id:"brOp->branchUnit",source:"brOp",target:"branchUnit",targetHandle:"brOp",type:"default",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Ice=[{id:"aluASrc->muxA",source:"aluASrc",target:"muxA",targetHandle:"aluASrc",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"aluBSrc->muxB",source:"aluBSrc",target:"muxB",targetHandle:"aluBSrc",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],zce=[{id:"muxA->alu",source:"muxA",target:"alu",targetHandle:"muxA",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"muxB->alu",source:"muxB",target:"alu",targetHandle:"muxB",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Fce=[...Pce,...jce,...Ice,...zce],Hce=[{id:"alu->pivot7",source:"alu",sourceHandle:"dataMemory",target:"pivot7",targetHandle:"alu",type:"smoothstep"}],Bce=[...Hce],Uce=[{id:"dmWr->dataMemory",source:"dmWr",target:"dataMemory",targetHandle:"dmWr",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"dmCtrl->dataMemory",source:"dmCtrl",target:"dataMemory",targetHandle:"dmCtrl",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],$ce=[...Uce],Vce=[{id:"pivot2->pivot5",source:"pivot2",sourceHandle:"dataMemory",target:"pivot5",type:"step"},{id:"pivot6->dataMemory",source:"pivot6",target:"dataMemory",targetHandle:"rs2",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Wce=[...Vce],Gce=[{id:"pivot8->pivotJump6",source:"pivot8",target:"pivotJump6",type:"default"},{id:"pivot9->muxC",source:"pivot9",target:"muxC",targetHandle:"alu",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],qce=[...Gce],Yce=[{id:"ruDataWrSrc->muxC",source:"ruDataWrSrc",target:"muxC",targetHandle:"ruDataWrSrc",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Xce=[{id:"muxC->pivot11",source:"muxC",target:"pivot11",type:"step"},{id:"pivot11->pivot12",source:"pivot11",target:"pivot12",type:"step"},{id:"pivot12->registersUnit",source:"pivot12",target:"registersUnit",targetHandle:"dataWr",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Kce=[{id:"pivotJump8->pivotJump9",source:"pivotJump8",target:"pivotJump9",type:"step"},{id:"pivot13->muxC",source:"pivot13",target:"muxC",targetHandle:"adder4",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pivot18->pivot19",source:"pivot18",sourceHandle:"muxD",target:"pivot19",type:"step"},{id:"pivot19->muxD",source:"pivot19",target:"muxD",targetHandle:"adder4",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Jce=[...yce,...Cce,..._ce,...Mce,...Oce,...Fce,...Bce,...$ce,...Wce,...qce,...Yce,...Xce,...Kce],Tj=t=>{const e=mce(),[n,,i]=mB(e),r=[...t,...Jce],[s,o,l]=gB(r),[c,d]=x.useState(!1),[f,m]=x.useState(null),[v,w]=x.useState(!0),C=x.useCallback(P=>o(O=>uk(P,O)),[o]);return{nodes:n,edges:s,onNodesChange:i,onEdgesChange:l,onConnect:C,onInit:P=>{m(P),P.fitView({padding:.01})},setEdges:o,isInteractive:v,controlHandlers:{onFitView:()=>f==null?void 0:f.fitView({padding:.01}),onZoomIn:()=>{var P;return(P=f==null?void 0:f.zoomIn)==null?void 0:P.call(f)},onZoomOut:()=>{var P;return(P=f==null?void 0:f.zoomOut)==null?void 0:P.call(f)},onToggleInteractive:()=>w(P=>!P),onToggleMinimap:()=>d(P=>!P)},minimapVisible:c}},Zce=({data:t})=>g.jsx("div",{className:"w-full h-full p-2 rounded-t-lg border-b-1 text-start",children:g.jsx("h2",{className:"titleSection ",children:t.label})}),ul=({height:t,active:e=!1,translate:n=!0})=>{const{operation:i}=lt(),r=i==="uploadMemory",s=e?"#555555":r?"#AAAAAA":"#D3D3D3";return g.jsx("div",{className:"relative w-full overflow-visible z-1 ",style:{height:`${t}rem`},children:g.jsx("div",{className:`
          absolute rounded-[20px] borderElementContainer
          ${n?"custom-shadow":"custom-shadow-without-translate"}
          ${r?"animate-border-pulse":""}
        `,style:{borderColor:s,width:"100%",height:"100%"}})})},_j=t=>{const[e,n]=x.useState("h'000");return x.useEffect(()=>{const i=t*4,s=`h'${NY(i).toUpperCase()}`;n(s)},[t]),e},Qce=({label:t,value:e,input:n=!0})=>g.jsxs("div",{className:`relative flex flex-col ${n?"text-start":"text-end"}`,children:[g.jsx("h2",{className:"subtitleLabelInElement relative top-[.7rem]  ",children:t}),g.jsx("h2",{className:"numberLabelInElement ",children:e})]}),Ut=({label:t,value:e,decimal:n,binary:i,hex:r,positionClassName:s,input:o=!0})=>{const{theme:l}=ho();return g.jsx("div",{className:`absolute ${s}`,children:g.jsxs(il,{children:[g.jsx(rl,{asChild:!0,children:g.jsx("div",{children:g.jsx(Qce,{label:t,value:e,input:o})})}),g.jsxs(sl,{className:`!rounded-sm !px-2 !py-1 flex gap-[1rem] w-full !b-[.2rem]
            ${l==="light"?"bg-[#f5f5f5] text-black":"bg-[#404040] text-white"}`,children:[g.jsxs("p",{className:"!text-[.6rem]",children:["d'",n]}),g.jsxs("p",{className:"!text-[.6rem]",children:["b'",i]}),g.jsxs("p",{className:"!text-[.6rem]",children:["h'",r]})]})]})})},ede=()=>{const{currentResult:t,currentInst:e}=It(),n=_j(e.currentPc),[i,r]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState("");x.useEffect(()=>{var w;if((w=t==null?void 0:t.buMux)!=null&&w.result){const C=t.buMux.result;r(en(C).toUpperCase()),o($t(C)),c(C.padStart(32,"0"))}},[t]);const d=e.currentPc*4,f=d.toString(2).padStart(32,"0"),m=d.toString(),v=en(f).toUpperCase();return g.jsxs(g.Fragment,{children:[g.jsx(Ut,{label:"NextPc",value:`h'${i}`,decimal:s,binary:l,hex:i,positionClassName:"top-[8rem] left-[.8rem]"}),g.jsx(Ut,{label:"PC",value:n,decimal:m,binary:f,hex:v,positionClassName:"top-[3.2rem] right-[.8rem]",input:!1})]})},RR=({pipeline:t})=>{const{newPc:e}=lt(),[n,i]=x.useState(!1);return x.useEffect(()=>{i(!0);const r=setTimeout(()=>i(!1),400);return()=>clearTimeout(r)},[e]),g.jsx(a9,{size:t?34:24,className:`absolute left-[50%] transform -translate-x-[50%] text-[#404040]  ${t?"bottom-[-.5rem]":"bottom-0"} z-2 ${n?"pc-change-anim":""}`})};function tde(){const{operation:t}=lt();return g.jsxs("div",{className:"w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full group",children:[g.jsx("h2",{className:"titleInElement top-[15%] left-[20%] -translate-x-[20%] -translate-y-[15%] !z-0 ",children:"PC"}),g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx(ul,{height:15,active:!0}),t!=="uploadMemory"&&g.jsx(ede,{})]}),g.jsx("div",{className:"group-hover:translate-y-[-.8rem] transition-all duration-200 ease-in",children:g.jsx(RR,{})})]}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"10.6rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{top:"7.28rem"}})]})}function nde(){return g.jsxs("div",{className:"relative w-full h-full",children:[g.jsxs("div",{children:[g.jsx(Q7,{size:46,className:"text-[#555555] absolute top-[50%] left-[50%] transform -translate-x-[50%] -translate-y-[50%] !z-0 "}),g.jsx(ul,{height:7.5,active:!0})]}),g.jsx(oe,{type:"target",position:te.Left,id:"fourTarget",className:"input",style:{top:"2rem"}}),g.jsx(oe,{type:"target",position:te.Left,id:"pivot",className:"input",style:{top:"5rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{top:"1.96rem"}})]})}function ide(){return g.jsxs("div",{className:"",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:"titleInElement right-0 top-[50%] -translate-y-[50%]",children:"4"})}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{transform:"translateX(-50%)"}})]})}const lg=({label:t="",number:e,inactive:n=!1})=>g.jsxs("div",{className:"relative flex gap-3",children:[g.jsx("h2",{className:"subtitleLabelInElement",children:t}),g.jsxs("div",{className:"relative flex flex-col ",children:[g.jsx("h3",{className:`numBitsInput ${n&&"!text-[#D3D3D3]"} absolute top-[-.7rem] left-[.7rem]`,children:e}),g.jsx(t9,{size:20,strokeWidth:3,color:n?"#D3D3D3":"orange",className:"absolute top-[1.9rem]"})]})]}),rde=()=>{const{currentInst:t}=It(),e=_j(t.currentPc),n=t.currentPc*4,i=n.toString(2).padStart(32,"0"),r=n.toString(),s=en(i).toUpperCase(),o=t.encoding.hexEncoding.toUpperCase(),l=t.encoding.binEncoding,c=$t(l);return g.jsxs(g.Fragment,{children:[g.jsx(Ut,{label:"Address",value:e,decimal:r,binary:i,hex:s,positionClassName:"top-[24%] left-[.8rem]"}),g.jsx(Ut,{label:"Instruction",value:`h'${o}`,decimal:c,binary:l,hex:o,positionClassName:"top-[8rem] right-[.8rem]",input:!1})]})};function sde(){const{operation:t,typeSimulator:e}=lt();return g.jsxs("div",{className:"w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("h2",{className:"titleInElement top-[15%] left-[80%]  -translate-x-[80%] -translate-y-[15%] !z-0 ",children:"Instruction Memory"}),g.jsxs("div",{className:"relative",children:[g.jsx(ul,{height:15,active:!0}),t!=="uploadMemory"&&e==="monocycle"&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute bottom-[7.4rem] right-[-2.5rem]",children:g.jsx(lg,{number:32})}),g.jsx(rde,{})]})]})]}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"7.25rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{top:"10.03rem"}})]})}function TR({signal:t,islui:e,isEbreak:n}){const{operation:i}=lt(),r=i==="uploadMemory";return g.jsxs("div",{className:"relative",children:[g.jsxs("svg",{className:"svg-container-lift",width:"100%",height:"100%",viewBox:"0 0 90 220",style:{overflow:"visible"},children:[g.jsx("defs",{children:g.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:g.jsx("feDropShadow",{dx:"0",dy:"10",stdDeviation:"10",floodColor:"#000",floodOpacity:"0.45"})})}),g.jsx("polygon",{className:`${r?"animate-border-pulse":""} polygon-shadow`,points:"70,55 70,161.4 0,220 0,0",fill:"none",stroke:"#AAAAAA",strokeWidth:"6"})]}),!r&&!e&&!n&&g.jsx("div",{style:{transform:t==="0"?"":"scaleY(-1)"},className:`absolute transform ${t==="0"?"top-[5.8rem]":"top-[3.7rem]"} -translate-y-1/2 `,children:g.jsx("svg",{width:"50",height:"50",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{id:"signal-path-1",d:"M0 40 H25 V8 H50",stroke:"#3B59B6","stroke-width":"4",fill:"none"})})})]})}function ode(){const{currentResult:t}=It(),{operation:e,isEbreak:n}=lt(),i=t.buMux.signal;return g.jsxs("div",{className:"relative w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full rotate-90",children:[g.jsx(TR,{signal:i==="0"?"1":"0",isEbreak:n}),e!=="uploadMemory"&&g.jsx("div",{className:"absolute top-[-2rem] left-[3rem] ",style:{transform:"rotate(-90deg)"},children:g.jsx(Ut,{label:"",value:`b'${i}`,decimal:i,binary:i,hex:i,input:!1,positionClassName:""})})]}),g.jsx(oe,{type:"target",position:te.Top,id:"adder4",className:"input",style:{left:"4rem",top:"2.6rem"}}),g.jsx(oe,{type:"target",position:te.Top,id:"alu",className:"input",style:{left:"0rem",top:"2.6rem"}}),g.jsx(oe,{type:"target",id:"bu",position:te.Right,className:"input",style:{top:"4.5rem",right:"-1.5rem"}}),g.jsx(oe,{type:"source",position:te.Bottom,className:"output",style:{top:"5rem"}})]})}const ade=()=>{const{currentType:t}=It();return g.jsxs("div",{className:"absolute top-[.5rem] left-[-6.85rem] flex flex-col gap-[3.4rem]",children:[g.jsxs("div",{className:"flex flex-col gap-[2.3rem]",children:[g.jsx(lg,{label:"rs1",number:5,inactive:t==="LUI"||t==="J"}),g.jsx(lg,{label:"rs2",number:5,inactive:!(t==="R"||t==="B"||t==="S")}),g.jsx(lg,{label:"rd",number:5,inactive:t==="B"||t==="S"})]}),g.jsx("div",{className:"ml-[.8rem]",children:g.jsx(lg,{number:32,inactive:t==="S"||t==="B"})})]})},lde=()=>{var O,j;const{currentType:t,currentInst:e,currentResult:n}=It(),[i,r]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,f]=x.useState(""),[m,v]=x.useState(""),[w,C]=x.useState(""),[S,_]=x.useState(""),[R,M]=x.useState(""),[k,D]=x.useState("");x.useEffect(()=>{if(n!=null&&n.ru){const B=n.ru.rs1,W=n.ru.rs2,z=n.ru.dataWrite;r(en(B).toUpperCase()),o(B),c($t(B)),f(en(W).toUpperCase()),v(W),C($t(W)),_(en(z).toUpperCase()),M(z),D($t(z))}},[n]);const P=n.ru.writeSignal;return g.jsxs(g.Fragment,{children:[!(t==="J"||t==="LUI"||t==="AUIPC")&&g.jsx(Ut,{label:"",value:`b'${e.encoding.rs1}`,decimal:$t(e.encoding.rs1||""),binary:e.encoding.rs1||"",hex:parseInt(e.encoding.rs1||"",2).toString(16).toUpperCase(),positionClassName:"top-[1.4rem] left-[.8rem]"}),(t==="R"||t==="S"||t==="B")&&g.jsx(Ut,{label:"",value:`b'${e.encoding.rs2}`,decimal:$t(e.encoding.rs2||""),binary:e.encoding.rs2||"",hex:parseInt(e.encoding.rs2,2).toString(16).toUpperCase(),positionClassName:"top-[6.6rem] left-[.8rem]"}),!(t==="S"||t==="B")&&g.jsx(Ut,{label:"",value:`b'${e.encoding.rd}`,decimal:$t(e.encoding.rd||""),binary:e.encoding.rd||"",hex:parseInt(e.encoding.rd||"",2).toString(16).toUpperCase(),positionClassName:"top-[12rem] left-[.8rem]"}),!(t==="J"||t==="LUI"||t==="AUIPC")&&g.jsx(Ut,{label:`RU[x${(O=e.rs1)==null?void 0:O.regenc}]`,value:`h'${i}`,decimal:l,binary:s,hex:i,positionClassName:"bottom-[9rem] right-[.8rem]",input:!1}),(t==="R"||t==="S"||t==="B")&&g.jsx(Ut,{label:`RU[x${(j=e.rs2)==null?void 0:j.regenc}]`,value:`h'${d}`,decimal:w,binary:m,hex:d,positionClassName:"bottom-[1.2rem] right-[.8rem]",input:!1}),!(t==="S"||t==="B")&&g.jsx(Ut,{label:"DataWr",value:`h'${S}`,decimal:k,binary:R,hex:S,positionClassName:"top-[16rem] left-[.8rem]"}),g.jsx(Ut,{label:"",value:`b'${P}`,decimal:P,binary:P,hex:P,positionClassName:"bottom-[2.2rem] left-[.8rem]"})]})};function ude(){const{operation:t,isEbreak:e}=lt(),n=[{id:"[19:15]",top:"3.15rem"},{id:"[24:20]",top:"8.15rem"},{id:"[11:7]",top:"13.15rem"},{id:"dataWr",top:"19.17rem"},{id:"ruWr",top:"24.62rem"}],i=[{id:"muxA",top:"17.4rem"},{id:"muxB",top:"24.36rem"}];return g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"relative w-full h-full group",children:[g.jsx("h2",{className:" titleInElement top-[15%] left-[82%]  -translate-x-[82%] -translate-y-[15%] !z-0 ",children:"Registers Unit"}),g.jsxs("div",{className:"relative",children:[g.jsx(ul,{height:28,active:!e}),t!=="uploadMemory"&&!e&&g.jsxs(g.Fragment,{children:[g.jsx(ade,{}),g.jsx(lde,{})]})]}),g.jsx("div",{className:"group-hover:translate-y-[-.8rem] transition-all duration-200 ease-in",children:g.jsx(RR,{})})]}),n.map(r=>g.jsx(oe,{type:"target",id:r.id,position:te.Left,className:"input",style:{top:r.top}},r.id)),i.map(r=>g.jsx(oe,{type:"source",id:r.id,position:te.Right,className:"output",style:{top:r.top}},r.id))]})}const Xw=({color:t})=>g.jsxs("div",{className:"relative w-[7rem] h-[2.7rem] left-[-.1rem]",children:[g.jsx("div",{className:"absolute inset-0 bg-black",style:{clipPath:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%, 0px 98%, 0px 0%)",zIndex:0}}),g.jsx("div",{className:"absolute inset-[1px]",style:{backgroundColor:t,clipPath:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)",zIndex:1}})]}),cde=()=>{const{setOverlayDecodeActive:t}=Ci();return g.jsxs("div",{className:"relative w-full ml-[1rem] rotate-270",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("h2",{className:"subtitleInTunnel",children:"Decode"}),g.jsx(Xw,{color:"#FFF9C4"})]})},dde=()=>{const{setOverlayExecuteActive:t}=Ci();return g.jsxs("div",{className:"relative w-full ml-[6rem] rotate-270",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("h2",{className:"subtitleInTunnel ",children:"Execute"}),g.jsx(Xw,{color:"#E3F2FD"})]})},hde=()=>{const{setOverlayMemoryActive:t}=Ci(),{currentType:e}=It(),{isFirstStep:n}=lt();return g.jsxs("div",{className:"relative w-full ml-[17rem] rotate-270",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("h2",{className:`subtitleInTunnel ${e==="L"||e==="S"||!n?"!text-[#000000]":"!text-[#D3D3D3]"}`,children:"Memory"}),g.jsx(Xw,{color:"#E8F5E9"})]})},fde=()=>{const{setOverlayWBActive:t}=Ci();return g.jsxs("div",{className:"relative w-full ml-[3rem] rotate-270",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("h2",{className:"subtitleInTunnel ",children:"WB"}),g.jsx(Xw,{color:"#FFF2E0"})]})},pde=()=>g.jsxs("div",{className:"absolute z-10 flex ml-[87rem] top-[-1.8rem] gap-[15rem]",children:[g.jsx(cde,{}),g.jsx(dde,{}),g.jsx(hde,{}),g.jsx(fde,{})]}),mde=()=>{var v,w;const{typeSimulator:t}=lt(),{currentType:e,currentInst:n}=It(),i=n.opcode.padStart(7,"0"),r=$t(i),s=en(i).toUpperCase(),o=((v=n.encoding.funct3)==null?void 0:v.padStart(3,"0"))||"",l=$t(o),c=en(o).toUpperCase(),d=((w=n.encoding.funct7)==null?void 0:w.padStart(7,"0"))||"",f=$t(d),m=en(d).toUpperCase();return g.jsxs(g.Fragment,{children:[g.jsx(Ut,{label:"Opcode",value:`b'${i}`,decimal:r,binary:i,hex:s,positionClassName:` ${t==="pipeline"?"left-[60rem] top-[0.1rem]":"left-[55rem] top-[-.6rem]"} `}),e!=="LUI"&&e!=="AUIPC"&&e!=="J"&&g.jsx(Ut,{label:"Funct3",value:`b'${o}`,decimal:l,binary:o,hex:c,positionClassName:`${t==="pipeline"?"left-[71.5rem] top-[0.1rem]":"left-[66.5rem] top-[-.6rem]"} `}),e==="R"&&g.jsx(Ut,{label:"Funct7",value:`b'${d}`,decimal:f,binary:d,hex:m,positionClassName:` ${t==="pipeline"?"left-[81.4rem] top-[0.1rem]":"left-[76.4rem] top-[-.6rem]"} `})]})},gde=()=>{const{operation:t,newPc:e}=lt(),{currentInst:n}=It(),[i,r]=x.useState("");return x.useEffect(()=>{r("animate-exit");const s=setTimeout(()=>{r("animate-enter")},300),o=setTimeout(()=>{r("")},600);return()=>{clearTimeout(s),clearTimeout(o)}},[e]),g.jsx(g.Fragment,{children:t!=="uploadMemory"&&g.jsxs("div",{className:`absolute flex flex-col gap-4 ${n.pseudoasm?"top-[-11.5rem]":"top-[-6.8rem]"} left-[18.5rem] pr-[1.2rem] ${i}`,children:[n.pseudoasm&&g.jsx("div",{className:"bg-[#66939E] px-[1.2rem] py-[.7rem] rounded-[.6rem]",children:g.jsx("h2",{className:"text-white text-start text-[1.8rem]",children:n.pseudoasm})}),g.jsxs("div",{className:"flex gap-4 ",children:[g.jsx("div",{className:"bg-[#66939E] px-[1.2rem] py-[.7rem] rounded-[.6rem]",children:g.jsx("h2",{className:"text-white text-center text-[1.8rem]",children:n.asm})}),g.jsx("div",{className:"bg-[#66939E] px-[1.2rem] py-[.7rem] rounded-[.6rem]",children:g.jsx("h2",{className:"text-white text-center text-[1.8rem]",children:n.type})})]})]})})};function vde(){const{operation:t,typeSimulator:e}=lt();return g.jsxs("div",{className:"relative w-full",children:[g.jsx("h2",{className:"titleInElement absolute top-[50%] left-[12%] -translate-x-[12%] -translate-y-[50%]",children:"Control Unit"}),g.jsxs("div",{className:"relative",children:[g.jsx(gde,{}),g.jsx(ul,{height:e==="monocycle"?5:7.5,active:!0,translate:!1}),t!=="uploadMemory"&&g.jsx(mde,{}),e==="monocycle"&&g.jsx(pde,{})]})]})}function bde(){const{typeSimulator:t}=lt(),{overlayDecodeActive:e}=Ci();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsxs("h2",{className:`titleInElement right-[1rem] top-[40%] -translate-y-[40%] ${e&&"overlay-scale"}`,children:["RUWr",t==="pipeline"&&""]})}),g.jsx("div",{className:`${e&&"overlay-moveY"}`,children:g.jsx(oe,{type:"source",position:te.Right,className:"output-tunnel"})})]})}const yde=()=>{const{currentType:t,currentResult:e}=It(),[n,i]=x.useState(""),[r,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[f,m]=x.useState(""),[v,w]=x.useState("");return x.useEffect(()=>{if(e&&e.imm){const C=e.imm.output,S=e.imm.signal;s(C),i(en(C).toUpperCase()),l($t(C)),m(S),d(en(S).toUpperCase()),w($t(S))}},[e]),g.jsx(g.Fragment,{children:t!=="R"&&g.jsxs(g.Fragment,{children:[g.jsx(Ut,{label:"Imm",value:`h'${n}`,decimal:o,binary:r,hex:n,positionClassName:"top-[3rem] right-[.8rem]",input:!1}),g.jsx(Ut,{label:"",value:`b'${f}`,decimal:v,binary:f,hex:c,positionClassName:"bottom-[1.2rem] left-[.8rem]"})]})})},wde=()=>{const{currentInst:t}=It(),e=[{left:"1.1rem",slice:[0,4]},{left:"6rem",slice:[4,8]},{left:"11rem",slice:[8,12]}],n=[{right:"39.8rem"},{right:"34.8rem"},{right:"29.85rem"},{right:"24.85rem"},{right:"19.9rem"}],i=[{right:"14.9rem",slice:[0,4]},{right:"9.9rem",slice:[4,8]},{right:"5rem",slice:[8,12]}];return g.jsxs("div",{className:"w-full max-h-[30rem] z-100000 text-[.75rem] text-black overflow-hidden font-mono relative",children:[g.jsx("img",{src:"immTypeIDecode.svg",alt:"immDecode",className:"w-full h-full rounded-md"}),e.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.79rem]",style:{top:"2.5rem",left:r.left},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`top-${s}`)),n.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.83rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from({length:4}).map((o,l)=>g.jsx("p",{children:t.encoding.binEncoding[0]},l))},`bottom-repeated-${s}`)),i.map((r,s)=>g.jsx("div",{className:"flex absolute gap-[.84rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`bottom--${s}`))]})},xde=()=>{const{currentInst:t}=It(),e=[{left:"1.1rem",slice:[0,4]},{left:"6.1rem",slice:[4,7]},{left:"25.9rem",slice:[20,25]}],n=[{right:"39.7rem"},{right:"34.7rem"},{right:"29.75rem"},{right:"24.8rem"},{right:"19.8rem"}],i=[{right:"14.9rem",slice:[0,4]},{right:"11.2rem",slice:[4,7]},{right:"5rem",slice:[20,25]}];return g.jsxs("div",{className:"w-full z-100000 max-h-[30rem] text-[.75rem] text-black overflow-hidden font-mono relative",children:[g.jsx("img",{src:"immTypeSDecode.svg",alt:"immDecode",className:"w-full h-full rounded-md"}),e.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.82rem]",style:{top:"2.7rem",left:r.left},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`top-${s}`)),n.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.83rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from({length:4}).map((o,l)=>g.jsx("p",{children:t.encoding.binEncoding[0]},l))},`bottom-repeated-${s}`)),i.map((r,s)=>g.jsx("div",{className:"flex absolute gap-[.84rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`bottom-${s}`))]})},Cde=()=>{const{currentInst:t}=It(),e=[{left:"1.15rem",slice:[0,4]},{left:"6.1rem",slice:[4,7]},{left:"25.9rem",slice:[20,25]}],n=[{right:"39.7rem"},{right:"34.7rem"},{right:"29.75rem"},{right:"24.8rem"},{right:"19.8rem"}],i=[{right:"14.85rem",slice:[1,4]},{right:"11.2rem",slice:[4,7]},{right:"6.22rem",slice:[20,24]}];return g.jsxs("div",{className:"w-full z-100000 max-h-[30rem] text-[.75rem] text-black overflow-hidden font-mono relative",children:[g.jsx("img",{src:"immTypeBDecode.svg",alt:"immDecode",className:"w-full h-full rounded-md"}),e.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.82rem]",style:{top:"2.7rem",left:r.left},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`top-${s}`)),n.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.83rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from({length:4}).map((o,l)=>g.jsx("p",{children:t.encoding.binEncoding[0]},l))},`bottom-repeated-${s}`)),g.jsx("p",{className:"absolute bottom-[1.6rem] right-[18.59rem]",children:t.encoding.binEncoding[24]}),i.map((r,s)=>g.jsx("div",{className:"flex absolute gap-[.83rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`bottom-${s}`)),g.jsx("p",{className:"absolute bottom-[1.6rem] right-[4.98rem]",children:"0"})]})},Ede=()=>{const{currentInst:t}=It(),e=[{left:"1.15rem",slice:[0,4]},{left:"6.1rem",slice:[4,8]},{left:"11.1rem",slice:[8,12]},{left:"16.1rem",slice:[12,16]},{left:"21.1rem",slice:[16,20]}],n=[{right:"39.55rem",slice:[0,4]},{right:"34.6rem",slice:[4,8]},{right:"29.63rem",slice:[8,12]},{right:"24.7rem",slice:[12,16]},{right:"19.8rem",slice:[16,20]}],i=[{right:"14.8rem"},{right:"9.89rem"},{right:"4.93rem"}];return g.jsxs("div",{className:"w-full z-100000 max-h-[30rem] text-[.75rem] text-black overflow-hidden font-mono relative",children:[g.jsx("img",{src:"immTypeUDecode.svg",alt:"immDecode",className:"w-full h-full rounded-md"}),e.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.82rem]",style:{top:"2.7rem",left:r.left},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`top-${s}`)),n.map((r,s)=>g.jsx("div",{className:"flex absolute gap-[.83rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`bottom--${s}`)),i.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.81rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from({length:4}).map((o,l)=>g.jsx("p",{children:"0"},l))},`bottom-repeated-${s}`))]})},Sde=()=>{const{currentInst:t}=It(),e=[{left:"2.5rem",slice:[1,4]},{left:"6.2rem",slice:[4,8]},{left:"11.2rem",slice:[8,11]},{left:"16.1rem",slice:[12,16]},{left:"21.1rem",slice:[16,20]}],n=[{right:"39.54rem"},{right:"34.55rem"},{right:"29.65rem"}],i=[{right:"24.67rem",slice:[12,16]},{right:"19.74rem",slice:[16,20]},{right:"14.77rem",slice:[1,4]},{right:"9.87rem",slice:[4,8]},{right:"6.2rem",slice:[8,11]}];return g.jsxs("div",{className:"w-full z-100000 max-h-[30rem] text-[.75rem] text-black overflow-hidden font-mono relative",children:[g.jsx("img",{src:"immTypeJDecode.svg",alt:"immDecode",className:"w-full h-full rounded-md"}),g.jsx("p",{className:"absolute top-[2.7rem] left-[1.26rem]",children:t.encoding.binEncoding[0]}),g.jsx("p",{className:"absolute top-[2.7rem] left-[14.83rem]",children:t.encoding.binEncoding[11]}),g.jsx("p",{className:"absolute bottom-[1.6rem] right-[18.53rem]",children:t.encoding.binEncoding[11]}),g.jsx("p",{className:"absolute bottom-[1.6rem] right-[4.96rem]",children:"0"}),e.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.82rem]",style:{top:"2.7rem",left:r.left},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`top-${s}`)),n.map((r,s)=>g.jsx("div",{className:"absolute flex gap-[.825rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from({length:4}).map((o,l)=>g.jsx("p",{children:t.encoding.binEncoding[0]},l))},`bottom-repeated-${s}`)),i.map((r,s)=>g.jsx("div",{className:"flex absolute gap-[.84rem]",style:{bottom:"1.6rem",right:r.right},children:Array.from(t.encoding.binEncoding).slice(...r.slice).map((o,l)=>g.jsx("p",{children:o},l))},`bottom--${s}`))]})},Rde=()=>{const{currentType:t}=It();return g.jsxs(g.Fragment,{children:[(t==="I"||t==="L"||t==="JALR")&&g.jsx(wde,{}),t==="S"&&g.jsx(xde,{}),t==="B"&&g.jsx(Cde,{}),(t==="LUI"||t==="AUIPC")&&g.jsx(Ede,{}),t==="J"&&g.jsx(Sde,{})]})};function Tde(){const{operation:t,isEbreak:e}=lt(),{currentType:n}=It(),{theme:i}=ho(),[r,s]=x.useState(!1),[o,l]=x.useState(!1),c=f=>{!f&&r||l(f)},d=n!=="R"&&t!=="uploadMemory"&&!e;return g.jsxs(il,{open:o,onOpenChange:c,openDelay:0,children:[g.jsx(rl,{asChild:!0,children:g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("h2",{className:`!z-0 titleInElement top-[25%] left-[30%] -translate-x-[15%] -translate-y-[25%] ${!d&&"!text-[#D3D3D3]"}`,children:"Imm Generator"}),g.jsx(ul,{height:9.6,active:d}),d&&g.jsx(yde,{})]}),g.jsx(oe,{type:"target",id:"[31:7]",position:te.Left,className:"input",style:{top:"2.7rem"}}),g.jsx(oe,{type:"target",id:"immSrc",position:te.Left,className:"input",style:{top:"7rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output"})]})}),d&&g.jsxs(sl,{side:"top",className:`${r?"p-0 w-[45rem]":`px-2 py-1 w-min flex justify-end ${i==="light"?"bg-[#f5f5f5] text-black":"bg-[#404040] text-white"}`}`,children:[!r&&g.jsx(B7,{size:20,className:"cursor-pointer trasnform hover:scale-[0.9] transition-transform ease-in-out",onClick:()=>s(!0)}),r&&g.jsxs("div",{className:"relative",children:[g.jsx(SD,{size:22,className:"absolute top-2 right-2 cursor-pointer text-white p-1 hover:scale-[0.95] transition-transform  bg-red-400 rounded-lg z-[1000000]",onClick:()=>{s(!1),l(!1)}}),g.jsx(Rde,{})]})]})]})}function _de(){const{typeSimulator:t}=lt(),{overlayDecodeActive:e}=Ci(),{currentType:n}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsxs("h2",{className:`titleInElement right-[.7rem] top-[40%] -translate-y-[40%]  ${e&&"overlay-scale"} ${n==="R"&&"!text-[#D3D3D3]"}`,children:["IMMSrc",t==="pipeline"&&""]})}),g.jsx("div",{className:`${e&&"overlay-moveY"}`,children:g.jsx(oe,{type:"source",position:te.Right,className:"output-tunnel",style:{top:"1.2rem"}})})]})}function Ade(){const{currentResult:t,currentInst:e}=It(),{operation:n,isEbreak:i}=lt(),r=e.instruction==="lui",s=t.alua.signal,o=[{id:"pc",type:"target",position:te.Left,style:{top:"2.8rem"}},{id:"registersUnitA",type:"target",position:te.Left,style:{top:"6.8rem"}},{id:"aluASrc",type:"target",position:te.Top,style:{top:"1.5rem"}},{id:"muxA_output",type:"source",position:te.Right,style:{right:".8rem"}}];return g.jsxs("div",{className:"relative w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx(TR,{signal:t.alua.signal,islui:r,isEbreak:i}),n!=="uploadMemory"&&!i&&g.jsx("div",{className:"absolute top-[-2.7rem] left-[3.5rem]",children:g.jsx(Ut,{label:"",value:`b'${s}`,decimal:s,binary:s,hex:s,input:!1,positionClassName:""})})]}),o.map(l=>g.jsx(oe,{id:l.id,type:l.type,position:l.position,className:l.type==="source"?"output":"input",style:l.style},l.id))]})}function kde(){const{typeSimulator:t}=lt(),{overlayExecuteActive:e}=Ci();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsxs("h2",{className:` titleInElement top-[-1.9rem]   ${e&&"overlay-scale"}`,children:["ALUASrc",t==="pipeline"&&"_ex"]})}),g.jsx("div",{className:`${e&&"overlay-moveX-t"}`,children:g.jsx(oe,{type:"source",position:te.Bottom,className:"output-tunnel",style:{top:"1rem"}})})]})}function Mde(){const{currentResult:t}=It(),{operation:e,isEbreak:n}=lt(),i=t.alub.signal,r=[{id:"registersUnitB",type:"target",position:te.Left,style:{top:"2.8rem"}},{id:"immGenerator",type:"target",position:te.Left,style:{top:"6.8rem"}},{id:"aluBSrc",type:"target",position:te.Bottom,style:{top:"7rem"}},{id:"muxB_output",type:"source",position:te.Right,style:{right:".8rem"}}];return g.jsxs("div",{className:"relative w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx(TR,{signal:t.alub.signal==="0"?"1":"0",isEbreak:n}),e!=="uploadMemory"&&!n&&g.jsx("div",{className:"absolute bottom-[.8rem] left-[3.5rem]",children:g.jsx(Ut,{label:"",value:`b'${i}`,decimal:i,binary:i,hex:i,input:!1,positionClassName:""})})]}),r.map(s=>g.jsx(oe,{id:s.id,type:s.type,position:s.position,className:s.type==="source"?"output":"input",style:s.style},s.id))]})}function Dde(){const{overlayExecuteActive:t}=Ci(),{typeSimulator:e}=lt();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsxs("h2",{className:` titleInElement top-[-.5rem]  ${t&&"overlay-scale"}`,children:["ALUBSrc",e==="pipeline"&&"_ex"]})}),g.jsx("div",{className:`${t&&"overlay-moveX"}`,children:g.jsx(oe,{type:"source",position:te.Top,className:"output-tunnel",style:{top:"-.2rem"}})})]})}const Nde={"0000":"+","00000":"+",1e3:"-","01000":"-","0100":"⊕","00100":"⊕","0110":"|","00110":"|","0111":"&","00111":"&","0001":"<<","00001":"<<","0101":">>","00101":">>",1101:">> (msb ext)","01101":">> (msb ext)","0010":"<","00010":"<","0011":"< (U)","00011":"< (U)",1e4:"*",10001:"* (S)",10010:"* (S*U)",10011:"* (U)",10100:"÷ (S)",10101:"÷ (U)",10110:"% (S)",10111:"% (U)"},Lde=()=>{var j;const{currentType:t,currentResult:e}=It(),{setReadInMemory:n}=Kr(),[i,r]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,f]=x.useState(""),[m,v]=x.useState(""),[w,C]=x.useState(""),[S,_]=x.useState(""),[R,M]=x.useState(""),[k,D]=x.useState("");x.useEffect(()=>{if(e!=null&&e.alu){const B=e.alu.a,W=e.alu.b,z=e.alu.result;r(en(B).toUpperCase()),o(B),c($t(B)),f(en(W).toUpperCase()),v(W),C($t(W)),_(en(z).toUpperCase()),M(z),D($t(z))}},[e]);const P=((j=e==null?void 0:e.alu)==null?void 0:j.operation)??"",O=Nde[P];return g.jsxs(g.Fragment,{children:[t!=="LUI"&&g.jsx(Ut,{label:"A",value:`h'${i}`,decimal:l,binary:s,hex:i,positionClassName:"top-[3.4rem] left-[.8rem]"}),g.jsx(Ut,{label:"B",value:`h'${d}`,decimal:w,binary:m,hex:d,positionClassName:"top-[13.9rem] left-[.8rem]"}),g.jsx("div",{className:"z-1000",onClick:()=>{(t==="S"||t==="L")&&n({address:parseInt(k,10),_length:e.dm.controlSignal==="000"?1:e.dm.controlSignal==="001"?2:4,value:"1"})},children:g.jsx(Ut,{label:"ALURes",value:`h'${S}`,decimal:k,binary:R,hex:S,input:!1,positionClassName:"top-[9.8rem] right-[.8rem]"})}),g.jsx(Ut,{label:"",value:`b'${P}`,decimal:$t(P),binary:P,hex:parseInt(P,2).toString(16).toUpperCase(),input:!1,positionClassName:"bottom-[-6rem] right-[-.8rem]"}),O&&g.jsx("div",{className:"absolute text-black transform z-1000 top-[52%] left-[13%] -translate-x-[13%] -translate-y-[50%] text-center",children:g.jsxs("p",{className:"text-[2.2rem]",children:[g.jsx("span",{children:O.split(" ")[0]}),O.includes("(")&&g.jsx("span",{className:"text-[1.5rem] text-[#777777] ml-2",children:O.slice(O.indexOf("("))})]})})]})};function Ode(){const{operation:t,isEbreak:e}=lt(),n=[{id:"muxA",position:te.Left,className:"input",style:{top:"6.7rem"}},{id:"muxB",position:te.Left,className:"input",style:{top:"16.57rem"}}],i={id:"aluOp",position:te.Bottom,className:"input",style:{bottom:"-1.25rem"}},r=[{id:"dataMemory",position:te.Right,className:"output",style:{top:"12.82rem"}}];return g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("h2",{className:"titleInElement top-[1.95rem] left-[50%] transform -translate-x-[50%] !z-0 ",children:"ALU"}),g.jsx(ul,{height:22.9,active:!e}),t!=="uploadMemory"&&!e&&g.jsx(Lde,{})]}),n.map(s=>g.jsx(oe,{type:"target",id:s.id,position:s.position,className:s.className,style:s.style},s.id)),g.jsx(oe,{type:"target",id:i.id,position:i.position,className:i.className,style:i.style},i.id),r.map(s=>g.jsx(oe,{type:"source",id:s.id,position:s.position,className:s.className,style:s.style},s.id))]})}function Pde(){const{overlayExecuteActive:t}=Ci();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:` titleInElement top-[1rem] left-[50%] -translate-x-[50%]  ${t&&"overlay-scale"}`,children:"ALUOp"})}),g.jsx("div",{className:`${t&&"overlay-moveX"}`,children:g.jsx(oe,{type:"source",position:te.Top,className:"output-tunnel",style:{top:"1.4rem"}})})]})}const jde={"01000":"A == B","01001":"A != B","01100":"A < B","01101":"A >= B","01110":"A < B","01111":"A >= B"},Ide=()=>{const{currentType:t,currentResult:e}=It(),[n,i]=x.useState(""),[r,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[f,m]=x.useState(""),[v,w]=x.useState(""),[C,S]=x.useState(""),[_,R]=x.useState(""),[M,k]=x.useState(""),[D,P]=x.useState(""),[O,j]=x.useState(""),[B,W]=x.useState(""),[z,Q]=x.useState(void 0);x.useEffect(()=>{if(e!=null&&e.bu){const ne=e.bu.a,H=e.bu.b,Y=e.bu.operation,U=e.bu.result;i(en(ne).toUpperCase()),s(en(H).toUpperCase()),l($t(ne)),d($t(H)),m(ne),w(H),R(Y),Y.includes("X")?(S(Y),k(Y),Q(void 0)):(S(en(Y).toUpperCase()),k($t(Y)),Q(jde[Y])),P(en(U).toUpperCase()),j(U),W($t(U))}},[e]);const Z=z==="01110"||z==="01111";return g.jsxs(g.Fragment,{children:[t==="B"&&g.jsxs(g.Fragment,{children:[g.jsx(Ut,{label:"",value:`h'${r}`,decimal:c,binary:v,hex:r,positionClassName:"absolute top-[1.2rem] left-[.8rem]"}),g.jsx(Ut,{label:"",value:`h'${n}`,decimal:o,binary:f,hex:n,positionClassName:"absolute top-[5.5rem] left-[.8rem]"})]}),g.jsx(Ut,{label:"",value:`b'${_}`,decimal:`${M}`,binary:_,hex:`${C}`,positionClassName:"absolute bottom-[-6.43rem] right-[-.8rem]",input:!1,operation:z,showZeroExtend:Z}),g.jsx(Ut,{label:"",value:`b'${O}`,decimal:B,binary:O,hex:D,positionClassName:"absolute top-[3.7rem] right-[.8rem]",input:!1})]})};function zde(){const{operation:t,isEbreak:e}=lt(),n=[{id:"RS2",type:"target",position:te.Left,style:{top:"2.5rem"}},{id:"RS1",type:"target",position:te.Left,style:{top:"7rem"}},{id:"brOp",type:"target",position:te.Bottom},{id:"branch_output",type:"source",position:te.Right}];return g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("h2",{className:"titleInElement top-[50%] left-[73.5%] -translate-x-[73.5%] -translate-y-[50%] !z-0 ",children:"Branch Unit"}),g.jsx(ul,{height:10.2,active:!e}),t!=="uploadMemory"&&!e&&g.jsx(Ide,{})]}),n.map(i=>g.jsx(oe,{id:i.id,type:i.type,position:i.position,className:i.type==="source"?"output":"input",style:i.style},i.id))]})}function Fde(){const{overlayExecuteActive:t}=Ci();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:` titleInElement top-[.2rem] left-[20%] -translate-y-[25%] ${t&&"overlay-scale"}`,children:"BrOp"})}),g.jsx("div",{className:`${t&&"overlay-moveX"}`,children:g.jsx(oe,{type:"source",position:te.Top,className:"output-tunnel",style:{top:".1rem"}})})]})}const Hde={"000":"8 bits","001":"16 bits","010":"32 bits"},Bde=()=>{const{currentType:t,currentResult:e}=It(),{setReadInMemory:n}=Kr(),[i,r]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,f]=x.useState(""),[m,v]=x.useState(""),[w,C]=x.useState(""),[S,_]=x.useState(""),[R,M]=x.useState(""),[k,D]=x.useState(""),[P,O]=x.useState(""),[j,B]=x.useState("");x.useEffect(()=>{if(e!=null&&e.dm){const Z=e.dm.address,ne=e.dm.dataWr,H=e.dm.dataRd;r(en(Z).toUpperCase()),o(Z),c($t(Z)),f(en(ne).toUpperCase()),v(ne),C($t(ne)),_(en(H).toUpperCase()),M(H),D($t(H)),O(e.dm.writeSignal),B(e.dm.controlSignal)}},[e]);const W=Z=>Z.toUpperCase()==="X",z=Z=>Z.toUpperCase()==="XXX",Q=Hde[j];return g.jsxs(g.Fragment,{children:[["S","L"].includes(t)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"z-1000",onClick:()=>{(t==="S"||t==="L")&&n({address:parseInt(l,10),_length:e.dm.controlSignal==="000"?1:e.dm.controlSignal==="001"?2:4,value:"1"})},children:g.jsx(Ut,{label:"Address",value:`h'${i}`,decimal:l,binary:s,hex:i,positionClassName:"absolute top-[6rem] left-[.8rem]"})}),g.jsx(Ut,{label:"",value:`b'${P}`,decimal:W(P)?`${P}`:$t(P),binary:P,hex:W(P)?`${P}`:parseInt(P,2).toString(16).toUpperCase(),positionClassName:"absolute top-[-8.55rem] left-[4.2rem]",input:!1,operation:P==="1"?"Write ✅":"No Write ❌"}),g.jsx(Ut,{label:"",value:`b'${j}`,decimal:z(j)?`${j}`:$t(j),binary:j,hex:z(j)?`${j}`:parseInt(j,2).toString(16).toUpperCase(),positionClassName:"absolute top-[-8.55rem] right-[3.6rem]",input:!1,operation:Q,dmCtrl:!0})]}),t==="S"&&g.jsx(Ut,{label:"DataWr",value:`h'${d}`,decimal:w,binary:m,hex:d,positionClassName:"absolute top-[13.5rem] left-[.8rem]"}),t==="L"&&g.jsx(Ut,{label:"DataRd",value:`h'${S}`,decimal:k,binary:R,hex:S,positionClassName:"absolute top-[10.5rem] right-[.8rem]",input:!1})]})};function Ude(){const{currentType:t}=It(),{operation:e,isFirstStep:n,isEbreak:i}=lt(),r=[{id:"dmWr",left:"5.5rem"},{id:"dmCtrl",left:"14.38rem"},{id:"alu",top:"10rem"},{id:"rs2",top:"15.75rem"}],s=[{top:"13.13rem"}];return g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("h2",{className:`!z-0  titleInElement top-[15%] left-[50%] -translate-x-[50%] -translate-y-[15%] ${!(t==="L"||t==="S"||!n)&&"!text-[#D3D3D3]"}`,children:"Data Memory"}),g.jsx(ul,{height:19.9,active:t==="L"||t==="S"}),e!=="uploadMemory"&&!i&&g.jsx(Bde,{})]}),r.map((o,l)=>g.jsx(oe,{type:"target",id:o.id,position:o.left?te.Top:te.Left,className:"input",style:{top:o.top,left:o.left}},o.id||`input-${l}`)),s.map((o,l)=>g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{top:o.top}},`output-${l}`))]})}function $de(){const{overlayMemoryActive:t}=Ci(),{currentType:e}=It(),{isFirstStep:n}=lt();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:` titleInElement top-[-1.9rem]  left-[50%] -translate-x-[50%]  ${t&&"overlay-scale"} ${!(e==="L"||e==="S"||!n)&&"!text-[#D3D3D3]"}`,children:"DMWR"})}),g.jsx("div",{className:`${t&&"overlay-moveX-t"}`,children:g.jsx(oe,{type:"source",position:te.Bottom,className:"output-tunnel",style:{top:"1rem"}})})]})}function Vde(){const{overlayMemoryActive:t}=Ci(),{currentType:e}=It(),{isFirstStep:n}=lt();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:`titleInElement  top-[-1.9rem]  left-[50%] -translate-x-[50%]   ${t&&"overlay-scale"} ${!(e==="L"||e==="S"||!n)&&"!text-[#D3D3D3]"}`,children:"DMCtrl"})}),g.jsx("div",{className:`${t&&"overlay-moveX-t"}`,children:g.jsx(oe,{type:"source",position:te.Bottom,className:"output-tunnel",style:{top:"1rem"}})})]})}function Wde({signal:t,isEbreak:e}){const{operation:n}=lt(),i=n==="uploadMemory";return g.jsxs("div",{className:"relative",children:[g.jsxs("svg",{className:"svg-container-lift",width:"100%",height:"100%",viewBox:"0 0 90 220",style:{overflow:"visible"},children:[g.jsx("defs",{children:g.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:g.jsx("feDropShadow",{dx:"0",dy:"10",stdDeviation:"10",floodColor:"#000",floodOpacity:"0.45"})})}),g.jsx("polygon",{className:`${i?"animate-border-pulse":""} polygon-shadow`,points:"70,55 70,161.4 0,220 0,0",fill:"none",stroke:"#AAAAAA",strokeWidth:"6"})]}),!i&&(t==="00"||t==="10")&&!e&&g.jsx("div",{style:{transform:t==="00"?"":"scaleY(-1)"},className:`absolute transform ${t==="00"?"top-[6.3rem]":"top-[3rem]"} -translate-y-1/2 `,children:g.jsx("svg",{width:"50",height:"60",viewBox:"0 0 50 60",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M0 50 H20 V4 H50",stroke:"#3B59B6","stroke-width":"4",fill:"none"})})}),!i&&t==="01"&&g.jsx("div",{className:"absolute transform top-[3.1rem]",children:g.jsx("svg",{width:"50",height:"50",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("line",{x1:"0",y1:"25",x2:"50",y2:"25",stroke:"#3B59B6","stroke-width":"4",fill:"none"})})})]})}function Gde(){const{currentResult:t,currentType:e}=It(),{operation:n,isEbreak:i}=lt(),r=t.wb.signal,s=r.includes("X"),o=s?`${r}`:$t(r),l=s?`${r}`:parseInt(r,2).toString(16).toUpperCase(),c=[{id:"adder4",style:{top:"1.8rem"},position:te.Left},{id:"dataMemory",style:{top:"4.7rem"},position:te.Left},{id:"alu",style:{top:"7.5rem"},position:te.Left},{id:"ruDataWrSrc",style:{top:"7.3rem"},position:te.Bottom}],d=[{style:{right:".8rem"},position:te.Right}];return g.jsxs("div",{className:"relative w-full h-full",children:[g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx(Wde,{signal:t.wb.signal,isEbreak:i}),n!=="uploadMemory"&&!(e==="S"||e==="B")&&!i&&g.jsx("div",{className:"absolute bottom-[.3rem] left-[3.5rem]",children:g.jsx(Ut,{label:"",value:`b'${r}`,decimal:o,binary:r,hex:l,input:!1,positionClassName:""})})]}),c.map((f,m)=>g.jsx(oe,{type:"target",id:f.id,position:f.position,className:"input",style:f.style},f.id||`input-${m}`)),d.map((f,m)=>g.jsx(oe,{type:"source",position:f.position,className:"output",style:f.style},`output-${m}`))]})}function qde(){const{overlayWBActive:t}=Ci(),{currentType:e}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:` titleInElement top-[.3rem] left-[50%] -translate-[50%]   ${t&&"overlay-scale"} ${(e==="S"||e==="B")&&"!text-[#D3D3D3]"}`,children:"RUDataWrSrc"})}),g.jsx("div",{className:`${t&&"overlay-moveX"}`,children:g.jsx(oe,{type:"source",position:te.Top,className:"output-tunnel",style:{top:"-.4rem"}})})]})}function Yde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Top}),g.jsx(oe,{type:"source",id:"muxA",position:te.Right})]})}function Xde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"muxB",position:te.Right}),g.jsx(oe,{type:"source",id:"branchUnit",position:te.Top}),g.jsx(oe,{type:"source",id:"dataMemory",position:te.Bottom})]})}function Kde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"[11:7]",position:te.Top}),g.jsx(oe,{type:"source",id:"[31:7]",position:te.Bottom})]})}function Jde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"muxA",position:te.Right}),g.jsx(oe,{type:"source",id:"branchUnit",position:te.Top})]})}function Zde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",position:te.Right})]})}function Qde(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",position:te.Top})]})}function ehe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",id:"alu",position:te.Left}),g.jsx(oe,{type:"source",id:"muxD",position:te.Top}),g.jsx(oe,{type:"source",id:"dataMemory",position:te.Right}),g.jsx(oe,{type:"source",id:"wb",position:te.Bottom})]})}function the(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",position:te.Right})]})}function nhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",position:te.Top})]})}function ihe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"muxA",position:te.Top})]})}function rhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",position:te.Left})]})}function she(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Right}),g.jsx(oe,{type:"source",position:te.Top})]})}function ohe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",position:te.Bottom})]})}function ahe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Left})]})}function lhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Right}),g.jsx(oe,{type:"source",position:te.Bottom})]})}function uhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Left})]})}function che(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Right}),g.jsx(oe,{type:"source",position:te.Bottom})]})}function dhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"muxC",position:te.Right}),g.jsx(oe,{type:"source",id:"muxD",position:te.Top})]})}function hhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Left})]})}function fhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[24:20]",position:te.Right}),g.jsx(oe,{type:"source",id:"[19:15]",position:te.Top})]})}function phe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[19:15]",position:te.Right}),g.jsx(oe,{type:"source",id:"pivot22",position:te.Top})]})}function mhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",id:"[11:7]",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[11:7]",position:te.Right}),g.jsx(oe,{type:"source",id:"[24:20]",position:te.Top})]})}function ghe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[14:12]",position:te.Right}),g.jsx(oe,{type:"source",id:"pivot24",position:te.Top})]})}function vhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[6:0]",position:te.Right})]})}function bhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"instructionMemory",position:te.Right}),g.jsx(oe,{type:"source",id:"adder4",position:te.Top})]})}function yhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",id:"immGenerator",position:te.Right}),g.jsx(oe,{type:"source",id:"controlUnit",position:te.Bottom})]})}function whe(){return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function xhe(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${(t==="R"||t==="I"||t==="L"||t==="JALR"||t==="S"||t==="LUI")&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function Che(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${(t==="R"||t==="I"||t==="L"||t==="JALR"||t==="S"||t==="LUI")&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function Ehe(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${(t==="LUI"||t==="AUIPC")&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function She(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${t==="R"&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function Rhe(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${(t==="L"||t==="JALR"||t==="B")&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function The(){return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Right,style:{top:"1.6rem",right:".9rem"}}),g.jsx(oe,{type:"source",position:te.Left,style:{top:"1.6rem",left:".4rem"}})]})}function _he(){return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function Ahe(){const{currentType:t}=It();return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:`relative w-full h-full ${(t==="R"||t==="I"||t==="L"||t==="S"||t==="LUI"||t==="AUIPC")&&"opacity-20"}`,children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function khe(){return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Right,style:{top:"1.6rem",right:".9rem"}}),g.jsx(oe,{type:"source",position:te.Left,style:{top:"1.6rem",left:".4rem"}})]})}const Mhe=({id:t,sourceX:e,sourceY:n,targetX:i,targetY:r,sourcePosition:s,targetPosition:o,markerEnd:l})=>{const[c]=x0({sourceX:e,sourceY:n,sourcePosition:s,targetX:i,targetY:r,targetPosition:o,borderRadius:10});return g.jsxs(g.Fragment,{children:[g.jsx(ev,{id:t,path:c,markerEnd:l}),g.jsx("circle",{r:"10",fill:"#ff0072",children:g.jsx("animateMotion",{dur:"1s",repeatCount:"indefinite",path:c})})]})};function Dhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",position:te.Right})]})}function Nhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"[6:0]",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[14:12]",position:te.Right})]})}function Lhe(){return g.jsx("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:g.jsx(oe,{type:"target",position:te.Top})})}function Ohe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"[14:12]",position:te.Bottom}),g.jsx(oe,{type:"source",id:"[31:25]",position:te.Right})]})}function Phe(){return g.jsx("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:g.jsx(oe,{type:"target",position:te.Top})})}function jhe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"[14:12]",position:te.Bottom})]})}function Ihe(){return g.jsx("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:g.jsx(oe,{type:"target",position:te.Top})})}const Wn=({text:t,top:e,height:n})=>g.jsxs("div",{className:"relative w-[4.5rem]  border-4 border-black",style:{height:n?`${n}rem`:"4.5rem"},children:[g.jsx("p",{className:`absolute ${e?"top-[-2.9rem]":"bottom-[-2.7rem]"} text-[1.4rem] text-orange-400 font-semibold left-[50%] transform -translate-x-[50%]`,children:t}),g.jsx(RR,{pipeline:!0})]}),zhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PC_IF"}),g.jsx(oe,{type:"target",position:te.Top,className:"input",style:{left:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem"}})]}),Fhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PCInc_ID"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Hhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PC_ID"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Bhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"Inst_ID"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Uhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PCInc_IE"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),$he=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PC_IE"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Vhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"RUrs1_IE",top:!0}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.46rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.46rem"}})]}),Whe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"RUrs2_IE"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"1.99rem"}})]}),Ghe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"ImmExt_IE"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),qhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PCInc_MEM"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Yhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"ALURes_MEM"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Xhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"RUrs2_MEM",top:!0}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.53rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.53rem"}})]}),Khe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"PCInc_WB"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Jhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"DMDataRd_WB",top:!0}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),Zhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"ALURes_WB"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.1rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.1rem"}})]}),Qhe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"rd_WB"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]});function efe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Left}),g.jsx(oe,{type:"source",id:"dataMemory",position:te.Right}),g.jsx(oe,{type:"source",id:"alures_wb",position:te.Bottom})]})}function tfe(){return g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx(mo,{size:38,strokeWidth:1,color:"#000"})}),g.jsx(oe,{type:"target",position:te.Left,style:{top:"1.6rem",left:".4rem"}}),g.jsx(oe,{type:"source",position:te.Right,style:{top:"1.6rem",right:".9rem"}})]})}function nfe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Right}),g.jsx(oe,{type:"source",position:te.Top})]})}function ife(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Right})]})}function rfe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Bottom}),g.jsx(oe,{type:"source",position:te.Left})]})}const sfe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"rd_MEM"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]}),ofe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:"rd_IE"}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{top:"2.2rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2.2rem"}})]});function afe(){return g.jsxs("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:[g.jsx(oe,{type:"target",position:te.Top}),g.jsx(oe,{type:"source",id:"rd_ie",position:te.Right}),g.jsx(oe,{type:"source",id:"controlUnit",position:te.Bottom})]})}const lfe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{height:6}),g.jsx(oe,{type:"source",id:"1",position:te.Right,className:"output",style:{right:"-2.4rem",top:"1.2rem"}}),g.jsx(oe,{type:"source",id:"2",position:te.Right,className:"output",style:{right:"-2.4rem",top:"3rem"}}),g.jsx(oe,{type:"source",id:"3",position:te.Right,className:"output",style:{right:"-2.4rem",top:"4.9rem"}})]}),ufe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{height:5}),g.jsx(oe,{type:"target",id:"2",position:te.Left,className:"input",style:{right:"-2.4rem",top:"2rem"}}),g.jsx(oe,{type:"target",id:"3",position:te.Left,className:"input",style:{right:"-2.4rem",top:"3.9rem"}}),g.jsx(oe,{type:"source",id:"1",position:te.Right,className:"output",style:{right:"-2.4rem",top:"2rem"}}),g.jsx(oe,{type:"source",id:"2",position:te.Right,className:"output",style:{right:"-2.4rem",top:"3.9rem"}})]}),cfe=()=>g.jsxs("div",{className:"relative w-full overflow-visible",children:[g.jsx(Wn,{text:""}),g.jsx(oe,{type:"target",position:te.Left,className:"input",style:{right:"-2.4rem",top:"3.6rem"}}),g.jsx(oe,{type:"source",position:te.Right,className:"output",style:{right:"-2.4rem",top:"1rem"}})]});function dfe(){const{setOverlayExecuteActive:t}=Ci();return g.jsxs("div",{className:"w-full",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:" titleInElement top-[-1.8rem] ",children:"_IE"})}),g.jsx("div",{children:g.jsx(oe,{type:"target",position:te.Bottom,className:"output-tunnel",style:{top:"1.2rem",left:"1.3rem"}})})]})}function hfe(){const{setOverlayMemoryActive:t}=Ci();return g.jsxs("div",{className:"w-full",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:" titleInElement top-[-1.8rem] ",children:"_MEM"})}),g.jsx("div",{children:g.jsx(oe,{type:"target",position:te.Bottom,className:"output-tunnel",style:{top:"1.2rem",left:"1.3rem"}})})]})}function ffe(){const{setOverlayWBActive:t}=Ci();return g.jsxs("div",{className:"w-full",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:" titleInElement top-[-1.8rem] ",children:"_WB"})}),g.jsx("div",{children:g.jsx(oe,{type:"target",position:te.Bottom,className:"output-tunnel",style:{top:"1.2rem",left:"1.3rem"}})})]})}function pfe(){const{setOverlayDecodeActive:t}=Ci();return g.jsxs("div",{className:"w-full",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[g.jsx("div",{className:"relative w-full h-full",children:g.jsx("h2",{className:" titleInElement top-[-1.8rem] ",children:"_ID"})}),g.jsx("div",{children:g.jsx(oe,{type:"target",position:te.Bottom,className:"output-tunnel",style:{top:"1.2rem",left:"1.3rem"}})})]})}function mfe(){return g.jsx("div",{style:{width:0,height:0,opacity:0,position:"relative"},children:g.jsx(oe,{type:"source",position:te.Right})})}const gfe=[{x1:5,y1:0,x2:5,y2:1e3},{x1:95,y1:0,x2:95,y2:1e3},{x1:5,y1:0,x2:95,y2:0},{x1:5,y1:1e3,x2:95,y2:1e3}],qy=()=>g.jsx("div",{style:{height:"100%",width:"9.5rem"},children:g.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 1000",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:gfe.map((t,e)=>g.jsx("line",{...t,stroke:"#cccccc",strokeWidth:"4",strokeDasharray:"20,15",strokeLinecap:"round"},e))})}),Aj={title:Zce,pc:tde,adder4:nde,instructionMemory:sde,four:ide,muxD:ode,registerUnit:ude,controlUnit:vde,immGenerator:Tde,immSrc:_de,ruWr:bde,muxA:Ade,aluASrc:kde,muxB:Mde,aluBSrc:Dde,alu:Ode,aluOp:Pde,branchUnit:zde,brOp:Fde,dataMemory:Ude,dmWr:$de,dmCtrl:Vde,muxC:Gde,ruDataWrSrc:qde,pivot1:Yde,pivot2:Xde,pivot3:Kde,pivot4:Jde,pivot5:Zde,pivot6:Qde,pivot7:ehe,pivot8:the,pivot9:nhe,pivot10:ihe,pivot11:rhe,pivot12:she,pivot13:ohe,pivot14:ahe,pivot15:lhe,pivot16:uhe,pivot17:che,pivot18:dhe,pivot19:hhe,pivot20:fhe,pivot21:phe,pivot22:mhe,pivot23:ghe,pivot24:vhe,pivot25:bhe,pivot26:yhe,pivot27:Dhe,pivot28:Nhe,pivot29:Lhe,pivot30:Ohe,pivot31:Phe,pivot32:jhe,pivtot33:Ihe,pivot34:efe,pivot35:ife,pivot36:nfe,pivot37:rfe,pivot38:afe,pivot39:mfe,pivotJump1:whe,pivotJump2:xhe,pivotJump3:Che,pivotJump4:Ehe,pivotJump5:She,pivotJump6:Rhe,pivotJump7:The,pivotJump8:_he,pivotJump9:Ahe,pivotJump10:khe,pivotJump11:tfe,pc_fe:zhe,pcinc_de:Fhe,pcinc_ie:Uhe,pcinc_mem:qhe,pcinc_wb:Khe,pc_id:Hhe,pc_ie:$he,inst_id:Bhe,rurs1_ie:Vhe,rurs2_ie:Whe,rurs2_mem:Xhe,immext_ie:Ghe,alures_mem:Yhe,alures_wb:Zhe,dmdatard_wb:Jhe,rd_ie:ofe,rd_mem:sfe,rd_wb:Qhe,cu_ie:lfe,cu_mem:ufe,cu_wb:cfe,cu_id_exit:pfe,cu_ie_exit:dfe,cu_mem_exit:hfe,cu_wb_exit:ffe,stageSeparatorIF_ID:qy,stageSeparatorID_IE:qy,stageSeparatorIE_MEM:qy,stageSeparatorMEM_WB:qy},kj={animatedSvg:Mhe},vfe=[{id:"muxD->pc",source:"muxD",target:"pc",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],bfe=[...vfe],yfe=[{id:"instructionMemory->pivot3",source:"instructionMemory",target:"pivot3",type:"smoothstep"},{id:"pivot22->registersUnit[11:7]",source:"pivot22",target:"registersUnit",targetHandle:"[11:7]",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:9,height:9}}],wfe=[{id:"pivot26->pivotJump1",source:"pivot26",sourceHandle:"immGenerator",target:"pivotJump1",type:"default"}],xfe=[{id:"pivot26->pivot27",source:"pivot26",sourceHandle:"controlUnit",target:"pivot27",type:"step"}],Cfe=[...yfe,...wfe,...xfe],Efe=[{id:"pivot1->pivotJump2",source:"pivot1",target:"pivotJump2",sourceHandle:"muxA",type:"smoothstep"}],Sfe=[...Efe],Rfe=[{id:"immGenerator->pivotJump5",source:"immGenerator",target:"pivotJump5",type:"smoothstep"}],Tfe=[{id:"registersUnit->pivotJump4",source:"registersUnit",target:"pivotJump4",type:"step"},{id:"registersUnit->pivot2",source:"registersUnit",sourceHandle:"muxB",target:"pivot2",type:"smoothstep"}],_fe=[...Rfe,...Tfe],Afe=[{id:"pivot7->dataMemory",source:"pivot7",sourceHandle:"dataMemory",target:"dataMemory",targetHandle:"alu",type:"smoothstep",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],kfe=[...Afe],Mfe=[{id:"pivot5->pivot6",source:"pivot5",target:"pivot6",type:"default"}],Dfe=[...Mfe],Nfe=[{id:"dataMemory->muxC",source:"dataMemory",target:"muxC",targetHandle:"dataMemory",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Lfe=[...Nfe],Ofe=[{id:"pivot7->pivot8",source:"pivot7",sourceHandle:"wb",target:"pivot8",type:"smoothstep"},{id:"pivotJump6->pivot9",source:"pivotJump6",target:"pivot9",type:"step"}],Pfe=[...Ofe],jfe=[{id:"adder4->pivot18",source:"adder4",target:"pivot18",type:"step"},{id:"pivot18->pivotJump8",source:"pivot18",sourceHandle:"muxC",target:"pivotJump8",type:"step"},{id:"pivotJump9->pivot13",source:"pivotJump9",target:"pivot13",type:"step"}],Ife=[...bfe,...Cfe,...Sfe,..._fe,...kfe,...Dfe,...Lfe,...Pfe,...jfe],qo=["pc->pivot25","pivot25->instMemory"],Yo=["pc->pivot25","pivot25->pivot1","pivot1->adder4"],Xo=["four->adder4"],Ko=["muxD->pc"],qc=["instructionMemory->pivot3","pivot3->pivot22","pivot22->pivot20","pivot20->pivot21","pivot21->RegistersUnit[19:15]"],u0=["instructionMemory->pivot3","pivot3->pivot22","pivot22->pivot20","pivot20->RegistersUnit[24:20]"],uu=["instructionMemory->pivot3","pivot3->pivot22","pivot22->registersUnit[11:7]"],cu=["muxC->pivot11","pivot11->pivot12","pivot12->registersUnit"],du=["ruWr->registersUnit"],Va=["instructionMemory->pivot3","pivot3->pivot26","pivot26->pivotJump1","pivotJump1->immediateGenerator[31:7]"],Wa=["immSrc->immGenerator"],Jo=["instructionMemory->pivot3","pivot3->pivot26","pivot26->pivot27","pivot27->pivot28","pivot28->pivot29"],Yc=["instructionMemory->pivot3","pivot3->pivot26","pivot26->pivot27","pivot27->pivot28","pivot28->pivot29","pivot28->pivot30","pivot30->pivot31"],Mj=["instructionMemory->pivot3","pivot3->pivot26","pivot26->pivot27","pivot27->pivot28","pivot28->pivot29","pivot28->pivot30","pivot30->pivot32","pivot32->pivot33"],tf=["registersUnit->pivotJump4","pivotJump4->pivot4","pivot4->muxA"],c0=["pc->pivot25","pivot25->pivot1","pivot1->pivotJump2","pivotJump2->pivotJump3","pivotJump3->muxA"],Ga=["aluASrc->muxA"],Dj=["registersUnit->pivot2","pivot2->muxB"],qa=["immGenerator->pivotJump5","pivotJump5->pivot10","pivot10->muxB"],Zo=["aluBSrc->muxB"],hu=["muxA->alu"],Qo=["muxB->alu"],ea=["aluOp->ALU"],Nj=["registersUnit->pivotJump4","pivotJump4->pivot4","pivot4->branchUnit"],Lj=["registersUnit->pivot2","pivot2->branchUnit"],ta=["brOp->branchUnit"],zE=["alu->pivot7","pivot7->dataMemory"],Oj=["registersUnit->pivot2","pivot2->pivot5","pivot5->pivot6","pivot6->dataMemory"],FE=["dmWr->dataMemory"],HE=["dmCtrl->dataMemory"],BE=["adder4->pivot18","pivot18->pivotJump8","pivotJump8->pivotJump9","pivotJump9->pivot13","pivot13->muxC"],Pj=["dataMemory->muxC"],ug=["alu->pivot7","pivot7->pivot8","pivot8->pivotJump6","pivotJump6->pivot9","pivot9->muxC"],fu=["ruDataWrSrc->muxC"],d0=["alu->pivot7","pivot7->pivot16","pivot16->pivot17","pivot17->muxD"],pu=["adder4->pivot18","pivot18->pivot19","pivot19->muxD"],na=["branchUnit->pivot14","pivot14->pivotJump10","pivotJump10->pivot15","pivot15->muxD"],jj=Object.freeze(Object.defineProperty({__proto__:null,RUWr_wb:du,adder4_muxC:BE,adder4_muxD:pu,aluASrc_muxA:Ga,aluBSrc_muxB:Zo,aluOp_alu:ea,alu_dm:zE,alu_muxC:ug,alu_muxD:d0,brOp_bu:ta,bu_muxD:na,dmCtrl_dm:HE,dmWr_dm:FE,dm_muxC:Pj,four_adder4:Xo,im_funct3:Yc,im_funct7:Mj,im_immGen:Va,im_opcode:Jo,im_rd:uu,im_rs1:qc,im_rs2:u0,immGen_muxB:qa,immSrc_immGen:Wa,muxA_aluA:hu,muxB_aluB:Qo,muxC_rd:cu,muxD_pc:Ko,pc_adder4:Yo,pc_im:qo,pc_muxA:c0,rs1_bu:Nj,rs1_muxA:tf,rs2_bu:Lj,rs2_dm:Oj,rs2_muxB:Dj,ruDataWrSrc_muxC:fu},Symbol.toStringTag,{value:"Module"})),zfe=Object.values(jj),bg={};for(const t of zfe)for(const e of t)bg[e]||(bg[e]=[]),bg[e].push(...t);const V0=(t,e,n,i=!0)=>{console.log("Hovered edge only:",e.id);const r=bg[e.id];r==null||r.forEach(s=>{var c;const o=n.find(d=>d.id===s);if(o&&"disabled"in o&&o.disabled)return;const l=(c=o==null?void 0:o.data)==null?void 0:c.selected;t(s,{animated:i,style:{stroke:l?"#E91E63":"#3B59B6"}})})},Ij=(t,e,n,i,r=!1)=>{const s=bg[e.id]??[];if(i.some(l=>l.every(c=>s.includes(c)))){const l=i.filter(d=>!d.every(f=>s.includes(f))),c=new Set(l.flat());return s.forEach(d=>{if(!c.has(d)){const f=n.find(m=>m.id===d);if(f&&"disabled"in f&&f.disabled)return;t(d,{animated:r,style:{stroke:"#3B59B6"},data:{...f==null?void 0:f.data,selected:!1}})}}),l}return s.forEach(l=>{const c=n.find(d=>d.id===l);c&&"disabled"in c&&c.disabled||t(l,{animated:r,style:{stroke:"#E91E63"},data:{...c==null?void 0:c.data,selected:!0}})}),[...i,s]};function Ffe(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),e&&(i.href=e),r.href=t,r.href}const Hfe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Tu(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}let Zh=null;function zj(t={}){return Zh||(t.includeStyleProperties?(Zh=t.includeStyleProperties,Zh):(Zh=Tu(window.getComputedStyle(document.documentElement)),Zh))}function W0(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function Bfe(t){const e=W0(t,"border-left-width"),n=W0(t,"border-right-width");return t.clientWidth+e+n}function Ufe(t){const e=W0(t,"border-top-width"),n=W0(t,"border-bottom-width");return t.clientHeight+e+n}function Fj(t,e={}){const n=e.width||Bfe(t),i=e.height||Ufe(t);return{width:n,height:i}}function $fe(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Fr=16384;function Vfe(t){(t.width>Fr||t.height>Fr)&&(t.width>Fr&&t.height>Fr?t.width>t.height?(t.height*=Fr/t.width,t.width=Fr):(t.width*=Fr/t.height,t.height=Fr):t.width>Fr?(t.height*=Fr/t.width,t.width=Fr):(t.width*=Fr/t.height,t.height=Fr))}function G0(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function Wfe(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Gfe(t,e,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(t),Wfe(r)}const br=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||br(n,e)};function qfe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Yfe(t,e){return zj(e).map(n=>{const i=t.getPropertyValue(n),r=t.getPropertyPriority(n);return`${n}: ${i}${r?" !important":""};`}).join(" ")}function Xfe(t,e,n,i){const r=`.${t}:${e}`,s=n.cssText?qfe(n):Yfe(n,i);return document.createTextNode(`${r}{${s}}`)}function tA(t,e,n,i){const r=window.getComputedStyle(t,n),s=r.getPropertyValue("content");if(s===""||s==="none")return;const o=Hfe();try{e.className=`${e.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(Xfe(o,n,r,i)),e.appendChild(l)}function Kfe(t,e,n){tA(t,e,":before",n),tA(t,e,":after",n)}const nA="application/font-woff",iA="image/jpeg",Jfe={woff:nA,woff2:nA,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:iA,jpeg:iA,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Zfe(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function _R(t){const e=Zfe(t).toLowerCase();return Jfe[e]||""}function Qfe(t){return t.split(/,/)[1]}function UE(t){return t.search(/^(data:)/)!==-1}function epe(t,e){return`data:${e};base64,${t}`}async function Hj(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((s,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{s(n({res:i,result:l.result}))}catch(c){o(c)}},l.readAsDataURL(r)})}const dC={};function tpe(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function AR(t,e,n){const i=tpe(t,e,n.includeQueryParams);if(dC[i]!=null)return dC[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let r;try{const s=await Hj(t,n.fetchRequestInit,({res:o,result:l})=>(e||(e=o.headers.get("Content-Type")||""),Qfe(l)));r=epe(s,e)}catch(s){r=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return dC[i]=r,r}async function npe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):G0(e)}async function ipe(t,e){if(t.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,o==null||o.drawImage(t,0,0,s.width,s.height);const l=s.toDataURL();return G0(l)}const n=t.poster,i=_R(n),r=await AR(n,i,e);return G0(r)}async function rpe(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await Kw(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function spe(t,e){return br(t,HTMLCanvasElement)?npe(t):br(t,HTMLVideoElement)?ipe(t,e):br(t,HTMLIFrameElement)?rpe(t,e):t.cloneNode(Bj(t))}const ope=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",Bj=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function ape(t,e,n){var i,r;if(Bj(e))return e;let s=[];return ope(t)&&t.assignedNodes?s=Tu(t.assignedNodes()):br(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?s=Tu(t.contentDocument.body.childNodes):s=Tu(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes),s.length===0||br(t,HTMLVideoElement)||await s.reduce((o,l)=>o.then(()=>Kw(l,n)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function lpe(t,e,n){const i=e.style;if(!i)return;const r=window.getComputedStyle(t);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):zj(n).forEach(s=>{let o=r.getPropertyValue(s);s==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),br(t,HTMLIFrameElement)&&s==="display"&&o==="inline"&&(o="block"),s==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),i.setProperty(s,o,r.getPropertyPriority(s))})}function upe(t,e){br(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),br(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function cpe(t,e){if(br(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function dpe(t,e,n){return br(e,Element)&&(lpe(t,e,n),Kfe(t,e,n),upe(t,e),cpe(t,e)),e}async function hpe(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let s=0;s<n.length;s++){const l=n[s].getAttribute("xlink:href");if(l){const c=t.querySelector(l),d=document.querySelector(l);!c&&d&&!i[l]&&(i[l]=await Kw(d,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(s,"defs");o.appendChild(l);for(let c=0;c<r.length;c++)l.appendChild(r[c]);t.appendChild(o)}return t}async function Kw(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>spe(i,e)).then(i=>ape(t,i,e)).then(i=>dpe(t,i,e)).then(i=>hpe(i,e))}const Uj=/url\((['"]?)([^'"]+?)\1\)/g,fpe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ppe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function mpe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function gpe(t){const e=[];return t.replace(Uj,(n,i,r)=>(e.push(r),n)),e.filter(n=>!UE(n))}async function vpe(t,e,n,i,r){try{const s=n?Ffe(e,n):e,o=_R(e);let l;return r||(l=await AR(s,o,i)),t.replace(mpe(e),`$1${l}$3`)}catch{}return t}function bpe(t,{preferredFontFormat:e}){return e?t.replace(ppe,n=>{for(;;){const[i,,r]=fpe.exec(n)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):t}function $j(t){return t.search(Uj)!==-1}async function Vj(t,e,n){if(!$j(t))return t;const i=bpe(t,n);return gpe(i).reduce((s,o)=>s.then(l=>vpe(l,o,e,n)),Promise.resolve(i))}async function Qh(t,e,n){var i;const r=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(r){const s=await Vj(r,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function ype(t,e){await Qh("background",t,e)||await Qh("background-image",t,e),await Qh("mask",t,e)||await Qh("-webkit-mask",t,e)||await Qh("mask-image",t,e)||await Qh("-webkit-mask-image",t,e)}async function wpe(t,e){const n=br(t,HTMLImageElement);if(!(n&&!UE(t.src))&&!(br(t,SVGImageElement)&&!UE(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,r=await AR(i,_R(i),e);await new Promise((s,o)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...c)=>{try{s(e.onImageErrorHandler(...c))}catch(d){o(d)}}:o;const l=t;l.decode&&(l.decode=s),l.loading==="lazy"&&(l.loading="eager"),n?(t.srcset="",t.src=r):t.href.baseVal=r})}async function xpe(t,e){const i=Tu(t.childNodes).map(r=>Wj(r,e));await Promise.all(i).then(()=>t)}async function Wj(t,e){br(t,Element)&&(await ype(t,e),await wpe(t,e),await xpe(t,e))}function Cpe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),t}const rA={};async function sA(t){let e=rA[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},rA[t]=e,e}async function oA(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),Hj(l,e.fetchRequestInit,({result:c})=>(n=n.replace(o,`url(${c})`),[o,c]))});return Promise.all(s).then(()=>n)}function aA(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=r.exec(i);if(c===null)break;e.push(c[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let c=s.exec(i);if(c===null){if(c=l.exec(i),c===null)break;s.lastIndex=l.lastIndex}else l.lastIndex=s.lastIndex;e.push(c[0])}return e}async function Epe(t,e){const n=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{Tu(r.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let l=o+1;const c=s.href,d=sA(c).then(f=>oA(f,e)).then(f=>aA(f).forEach(m=>{try{r.insertRule(m,m.startsWith("@import")?l+=1:r.cssRules.length)}catch(v){console.error("Error inserting rule from remote css",{rule:m,error:v})}})).catch(f=>{console.error("Error loading remote css",f.toString())});i.push(d)}})}catch(s){const o=t.find(l=>l.href==null)||document.styleSheets[0];r.href!=null&&i.push(sA(r.href).then(l=>oA(l,e)).then(l=>aA(l).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{Tu(r.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),n))}function Spe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>$j(e.style.getPropertyValue("src")))}async function Rpe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Tu(t.ownerDocument.styleSheets),i=await Epe(n,e);return Spe(i)}function Gj(t){return t.trim().replace(/["']/g,"")}function Tpe(t){const e=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{e.add(Gj(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function _pe(t,e){const n=await Rpe(t,e),i=Tpe(t);return(await Promise.all(n.filter(s=>i.has(Gj(s.style.fontFamily))).map(s=>{const o=s.parentStyleSheet?s.parentStyleSheet.href:null;return Vj(s.cssText,o,e)}))).join(`
`)}async function Ape(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await _pe(t,e);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function qj(t,e={}){const{width:n,height:i}=Fj(t,e),r=await Kw(t,e,!0);return await Ape(r,e),await Wj(r,e),Cpe(r,e),await Gfe(r,n,i)}async function kpe(t,e={}){const{width:n,height:i}=Fj(t,e),r=await qj(t,e),s=await G0(r),o=document.createElement("canvas"),l=o.getContext("2d"),c=e.pixelRatio||$fe(),d=e.canvasWidth||n,f=e.canvasHeight||i;return o.width=d*c,o.height=f*c,e.skipAutoScale||Vfe(o),o.style.width=`${d}`,o.style.height=`${f}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(s,0,0,o.width,o.height),o}async function Mpe(t,e={}){return(await kpe(t,e)).toDataURL()}function Dpe(t){const e=document.createElement("a");e.setAttribute("download","execution.svg"),e.setAttribute("href",t),e.click()}const Yy=1920,Xy=1080;function Npe(){const{getNodes:t,getEdges:e,setEdges:n}=dd(),i=()=>{document.querySelectorAll(".react-flow__edge path").forEach(R=>{R.setAttribute("stroke","#3B59B6"),R.setAttribute("stroke-width","6.5px")});const r=e(),s=r.map(R=>({...R,animated:!1,type:R.type==="animatedSvg"?"default":R.type}));n(s);const o=t(),l=JE(o),c=l.width/l.height,d=Yy/Xy;let f,m;c>d?(f=l.width+40,m=f/d):(m=l.height+40,f=m*d);const v=l.x-(f-l.width)/2,w=l.y-(m-l.height)/2,C=Math.min(Yy/f,Xy/m),S=Array.from(document.styleSheets).filter(R=>{try{return!R.href||R.href.startsWith(window.location.origin)}catch{return!1}}).map(R=>{try{return Array.from(R.cssRules).map(M=>M.cssText).join(`
`)}catch(M){return console.warn("Cannot access stylesheet rules",M),""}}).join(`
`),_=document.querySelector(".react-flow__viewport");if(!_){console.error("No se encontró el contenedor de ReactFlow");return}setTimeout(()=>{qj(_,{backgroundColor:"#F7F9FB",width:Yy,height:Xy,style:{width:Yy.toString(),height:Xy.toString(),transform:`translate(${-v*C}px, ${-w*C}px) scale(${C})`},filter:()=>!0,fontEmbedCSS:S}).then(R=>{n(r),Dpe(R)}).catch(R=>{console.error("Error generando SVG:",R),n(r)})},100)};return g.jsxs("div",{onClick:i,className:"flex flex-col items-center react-flow__controls-button-custom",title:"Export SVG",children:[g.jsx(vD,{size:16}),g.jsx("span",{className:"text-black",style:{fontSize:"7px",marginTop:"2px"},children:"SVG"})]})}function Lpe(t){const e=document.createElement("a");e.setAttribute("download","execution.png"),e.setAttribute("href",t),e.click()}const Ky=1920,Jy=1080;function Ope(){const{getNodes:t,getEdges:e,setEdges:n}=dd(),i=()=>{document.querySelectorAll(".react-flow__edge path").forEach(R=>{R.setAttribute("stroke","#3B59B6"),R.setAttribute("stroke-width","6.5px")});const r=e(),s=r.map(R=>({...R,animated:!1,type:R.type==="animatedSvg"?"default":R.type}));n(s);const o=t(),l=JE(o),c=l.width/l.height,d=Ky/Jy;let f,m;c>d?(f=l.width+40,m=f/d):(m=l.height+40,f=m*d);const v=l.x-(f-l.width)/2,w=l.y-(m-l.height)/2,C=Math.min(Ky/f,Jy/m),S=Array.from(document.styleSheets).filter(R=>{try{return!R.href||R.href.startsWith(window.location.origin)}catch{return!1}}).map(R=>{try{return Array.from(R.cssRules).map(M=>M.cssText).join(`
`)}catch(M){return console.warn("Cannot access stylesheet rules",M),""}}).join(`
`),_=document.querySelector(".react-flow__viewport");if(!_){console.error("No se encontró el contenedor de ReactFlow");return}setTimeout(()=>{Mpe(_,{backgroundColor:"#F7F9FB",width:Ky,height:Jy,style:{width:Ky.toString(),height:Jy.toString(),transform:`translate(${-v*C}px, ${-w*C}px) scale(${C})`},filter:()=>!0,fontEmbedCSS:S}).then(R=>{n(r),Lpe(R)}).catch(R=>{console.error("Error generando PNG:",R),n(r)})},100)};return g.jsxs("div",{onClick:i,className:"flex flex-col items-center react-flow__controls-button-custom",title:"Export PNG",children:[g.jsx(vD,{size:16}),g.jsx("span",{className:"text-black",style:{fontSize:"7px",marginTop:"2px"},children:"PNG"})]})}function Yj({onFitView:t,onZoomIn:e,onZoomOut:n}){const{dialog:i}=Lf(),[r,s]=x.useState(!0);return x.useEffect(()=>{i&&i.stop&&s(!1)},[i]),g.jsxs(_B,{showFitView:!1,showZoom:!1,showInteractive:!1,children:[r&&g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"react-flow__controls-button-custom_blue",onClick:()=>vr({event:"step"}),title:"Step",children:g.jsx(CD,{size:18})}),g.jsx("button",{className:"react-flow__controls-button-custom_red",onClick:()=>vr({event:"stop"}),title:"Stop",children:g.jsx(Q$,{size:16})}),g.jsx("button",{className:"react-flow__controls-button-custom_green",onClick:()=>vr({event:"reset"}),title:"Reset",children:g.jsx(G7,{size:16})})]}),g.jsxs(il,{openDelay:200,closeDelay:100,children:[g.jsx(rl,{asChild:!0,children:g.jsx("button",{className:"react-flow__controls-button-custom",onClick:t,title:"Fit View",children:g.jsx(y7,{size:16})})}),g.jsx(sl,{side:"right",align:"center",className:"w-auto p-0 ml-2 border-none bg-transparent",children:g.jsxs("div",{className:"flex bg-white rounded-lg shadow-md react-flow__controls",children:[g.jsx("button",{className:"react-flow__controls-button-custom",onClick:e,title:"Zoom In",children:g.jsx(h9,{size:16})}),g.jsx("button",{className:"react-flow__controls-button-custom",onClick:n,title:"Zoom Out",children:g.jsx(c9,{size:16})})]})})]}),g.jsxs(il,{openDelay:200,closeDelay:100,children:[g.jsx(rl,{asChild:!0,children:g.jsx("button",{className:"react-flow__controls-button-custom",onClick:()=>console.log("copy"),title:"Copy",children:g.jsx(LC,{size:16})})}),g.jsx(sl,{side:"right",align:"center",className:"w-auto p-0 ml-2 border-none bg-transparent",children:g.jsxs("div",{className:"flex bg-white rounded-lg shadow-md react-flow__controls",children:[g.jsx(Npe,{}),g.jsx(Ope,{})]})})]})]})}const Ppe=Object.values(jj),jpe=[...new Set(Ppe.flat())],Ipe=()=>{const{typeSimulator:t}=lt(),{currentInst:e,currentResult:n,setCurrentType:i}=It();return x.useMemo(()=>{if(!e)return[];let s=[];const o=e;switch(o.type){case"R":i("R"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...Mj,...qc,...u0,...uu,...cu,...du,...tf,...Ga,...Dj,...Zo,...hu,...Qo,...ea,...ta,...ug,...fu];break;case"I":o.opcode==="0010011"?(i("I"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...qc,...uu,...cu,...du,...Va,...Wa,...tf,...Ga,...qa,...Zo,...hu,...Qo,...ea,...ta,...ug,...fu]):o.opcode==="0000011"?(i("L"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...qc,...uu,...cu,...du,...Va,...Wa,...tf,...Ga,...qa,...Zo,...hu,...Qo,...ea,...ta,...zE,...FE,...HE,...Pj,...fu]):o.opcode==="1100111"&&(i("JALR"),s=[...d0,...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...qc,...uu,...cu,...du,...Va,...Wa,...tf,...Ga,...qa,...Zo,...hu,...Qo,...ea,...ta,...BE,...fu]);break;case"S":i("S"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...qc,...u0,...Va,...Wa,...tf,...Ga,...qa,...Zo,...hu,...Qo,...ea,...ta,...zE,...Oj,...FE,...HE];break;case"B":i("B"),s=[...na,...Ko,...Yo,...Xo,...qo,...Jo,...Yc,...qc,...u0,...Va,...Wa,...c0,...Ga,...qa,...Zo,...hu,...Qo,...ea,...Nj,...Lj,...ta],n.buMux.signal==="1"?s.push(...d0):s.push(...pu);break;case"J":i("J"),s=[...d0,...na,...Ko,...Yo,...Xo,...qo,...Jo,...uu,...cu,...du,...Va,...Wa,...c0,...Ga,...qa,...Zo,...hu,...Qo,...ea,...ta,...BE,...fu];break;case"U":o.opcode==="0110111"?(i("LUI"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...uu,...cu,...du,...Va,...Wa,...qa,...Zo,...Qo,...ea,...ta,...ug,...fu]):o.opcode==="0010111"&&(i("AUIPC"),s=[...pu,...na,...Ko,...Yo,...Xo,...qo,...Jo,...uu,...cu,...du,...Va,...Wa,...c0,...Ga,...qa,...Zo,...Qo,...ea,...ta,...ug,...fu]);break}const l=new Set(s);return jpe.filter(c=>!l.has(c))},[e,n,t,i])},zpe=({setEdges:t})=>{const e=Ipe(),n=x.useRef([]);return x.useEffect(()=>{t(i=>i.map(o=>{var l;return n.current.includes(o.id)&&!e.includes(o.id)?{...o,disabled:!1,style:{...o.style,stroke:(l=o.data)!=null&&l.selected?"#E91E63":"#3B59B6"}}:o}).map(o=>e.includes(o.id)?{...o,disabled:!0,style:{...o.style,stroke:"#D3D3D3"}}:o)),n.current=e},[e,t]),null},Fpe={x:0,y:0,zoom:1.5};function Hpe(){const{nodes:t,edges:e,onNodesChange:n,onEdgesChange:i,onConnect:r,onInit:s,setEdges:o,isInteractive:l,controlHandlers:c,minimapVisible:d}=Tj(Ife),{fitView:f,updateEdge:m}=dd(),{fitViewTrigger:v}=zf();x.useEffect(()=>{v>0&&setTimeout(()=>{f({duration:400,padding:.01})},0)},[v,f]);const[w,C]=x.useState([]),S=(M,k)=>{const D=Ij(m,k,e,w);C(D)},_=(M,k)=>{k.disabled||V0(m,k,e,!0)},R=(M,k)=>{k.disabled||V0(m,k,e,!1)};return g.jsxs(eM,{nodeTypes:Aj,edgeTypes:kj,defaultViewport:Fpe,nodes:t,edges:e,onNodesChange:n,onEdgesChange:i,onConnect:r,onInit:s,onEdgeClick:S,onEdgeMouseEnter:_,onEdgeMouseLeave:R,style:{backgroundColor:"#F7F9FB"},minZoom:.1,maxZoom:2,panOnDrag:l,elementsSelectable:l,fitView:!1,children:[g.jsx(nM,{color:"#000000",gap:20,size:2}),d&&g.jsx(sM,{}),g.jsx(Yj,{...c}),g.jsx(zpe,{setEdges:o})]})}const Bpe=[{id:"muxD->pc_fe",source:"muxD",target:"pc_fe",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pc_fe->pc",source:"pc_fe",target:"pc",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Upe=[{id:"instructionMemory->inst_id",source:"instructionMemory",target:"inst_id",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"inst_id->pivot3",source:"inst_id",target:"pivot3",type:"step"}],$pe=[{id:"pivot1->pc_id",source:"pivot1",target:"pc_id",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Vpe=[{id:"pc_id->pc_ie",source:"pc_id",target:"pc_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pc_ie->pivotJump2",source:"pc_ie",target:"pivotJump2",type:"step"}],Wpe=[{id:"adder4->pivot18",source:"adder4",target:"pivot18",type:"step"},{id:"pivot18->pcinc_de",source:"pivot18",sourceHandle:"muxC",target:"pcinc_de",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pcinc_de->pcinc_ie",source:"pcinc_de",target:"pcinc_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pivot26->pivotJump11",source:"pivot26",target:"pivotJump11",type:"step"},{id:"pivotJump11->pivotJump11",source:"pivotJump11",target:"pivotJump1",type:"step"}],Gpe=[{id:"pcinc_ie->pivotJump8",source:"pcinc_ie",target:"pivotJump8",type:"step"}],qpe=[{id:"pivotJump9->pcinc_mem",source:"pivotJump9",target:"pcinc_mem",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],Ype=[{id:"pcinc_mem->pcinc_wb",source:"pcinc_mem",target:"pcinc_wb",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"pcinc_wb->pivot13",source:"pcinc_wb",target:"pivot13",type:"step"}],Xpe=[{id:"registersUnit->rurs1_ie",source:"registersUnit",sourceHandle:"muxA",target:"rurs1_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rurs1_ie->pivotJump4",source:"rurs1_ie",target:"pivotJump4",type:"step"}],Kpe=[{id:"registersUnit->rurs2_ie",source:"registersUnit",sourceHandle:"muxB",target:"rurs2_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rurs2_ie->pivot2",source:"rurs2_ie",target:"pivot2",type:"step"}],Jpe=[{id:"immGenerator->immext_ie",source:"immGenerator",target:"immext_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"immext_ie->pivotJump5",source:"immext_ie",target:"pivotJump5",type:"step"}],Zpe=[{id:"pivot5->rurs2_mem",source:"pivot5",target:"rurs2_mem",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rurs2_mem->pivot6",source:"rurs2_mem",target:"pivot6",type:"step"}],Qpe=[{id:"pivotJump6->alures_wb",source:"pivotJump6",target:"alures_wb",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"alures_wb->pivot9",source:"alures_wb",target:"pivot9",type:"step"}],eme=[{id:"pivot7->alures_mem",source:"pivot7",sourceHandle:"dataMemory",target:"alures_mem",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"alures_mem->pivot34",source:"alures_mem",target:"pivot34",type:"step"},{id:"pivot34->pivot8",source:"pivot34",sourceHandle:"alures_wb",target:"pivot8",type:"step"},{id:"pivot34->dataMemory",source:"pivot34",sourceHandle:"dataMemory",target:"dataMemory",targetHandle:"alu",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],tme=[{id:"dataMemory->dmdatard_wb",source:"dataMemory",target:"dmdatard_wb",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"dmdatard_wb->muxC",source:"dmdatard_wb",target:"muxC",targetHandle:"dataMemory",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],nme=[{id:"pivot26->pivot38",source:"pivot26",sourceHandle:"controlUnit",target:"pivot38",type:"step"},{id:"pivot38->pivot27",source:"pivot38",sourceHandle:"controlUnit",target:"pivot27",type:"step"},{id:"pivot38->rd_ie",source:"pivot38",sourceHandle:"rd_ie",target:"rd_ie",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rd_ie->rd_mem",source:"rd_ie",target:"rd_mem",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rd_mem->rd_wb",source:"rd_mem",target:"rd_wb",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"rd_wb->pivot37",source:"rd_wb",target:"pivot37",type:"step"},{id:"pivot37->pivot36",source:"pivot37",target:"pivot36",type:"step"},{id:"pivot36->pivot35",source:"pivot36",target:"pivot35",type:"step"},{id:"pivot35->registersUnit[11:7]",source:"pivot35",target:"registersUnit",targetHandle:"[11:7]",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],ime=[{id:"cu_ie->cu_ie_exit",source:"cu_ie",sourceHandle:"1",target:"cu_ie_exit",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"cu_ie->cu_me1",source:"cu_ie",sourceHandle:"2",target:"cu_mem",targetHandle:"2",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"cu_ie->cu_me2",source:"cu_ie",sourceHandle:"3",target:"cu_mem",targetHandle:"3",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],rme=[{id:"cu_mem->cu_mem_exit",source:"cu_mem",sourceHandle:"1",target:"cu_mem_exit",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}},{id:"cu_mem->cu_wb",source:"cu_mem",sourceHandle:"2",target:"cu_wb",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],sme=[{id:"cu_wb->cu_wb_exit",source:"cu_wb",target:"cu_wb_exit",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],ome=[{id:"pivot39->cu_id_exit",source:"pivot39",target:"cu_id_exit",type:"step",markerEnd:{type:Be.ArrowClosed,color:"#888888",width:8,height:8}}],ame=[...Bpe,...Upe,...$pe,...Vpe,...Wpe,...Gpe,...qpe,...Ype,...Xpe,...Kpe,...Jpe,...Zpe,...Qpe,...eme,...tme,...nme,...ime,...rme,...sme,...ome],lme={x:0,y:0,zoom:1.5};function ume(){const{nodes:t,edges:e,onNodesChange:n,onEdgesChange:i,onConnect:r,onInit:s,isInteractive:o,controlHandlers:l,minimapVisible:c}=Tj(ame),{updateEdge:d}=dd(),[f,m]=x.useState([]),v=(S,_)=>{const R=Ij(d,_,e,f);m(R)},w=(S,_)=>{_.disabled||V0(d,_,e,!0)},C=(S,_)=>{_.disabled||V0(d,_,e,!1)};return g.jsxs(eM,{nodeTypes:Aj,edgeTypes:kj,defaultViewport:lme,nodes:t,edges:e,onNodesChange:n,onEdgesChange:i,onConnect:r,onInit:s,onEdgeClick:v,onEdgeMouseEnter:w,onEdgeMouseLeave:C,style:{backgroundColor:"#F7F9FB"},minZoom:.1,maxZoom:2,panOnDrag:o,elementsSelectable:o,fitView:!1,children:[g.jsx(nM,{color:"#000000",gap:20,size:2}),c&&g.jsx(sM,{}),g.jsx(Yj,{...l})]})}let $E={},Xj;function hC(t={}){$E={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function Ve(t){return t?$E[t]:$E}function cme(t){Xj=t}function Es(){return Xj}let q0={};function Zy(t,e){q0[t]=e}function nd(t){var e;(e=q0[t])==null||e.call(q0)}function dme(){q0={}}function Qy(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Kj(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(n=>{const i=n.matches(e),r=Array.from(n.querySelectorAll(e));return[...i?[n]:[],...r]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&pme(n))}function Jj(t){if(!t||fme(t))return;const e=Ve("smoothScroll"),n=t.offsetHeight>window.innerHeight;t.scrollIntoView({behavior:!e||hme(t)?"auto":"smooth",inline:"center",block:n?"start":"center"})}function hme(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function fme(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function pme(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let Y0={};function di(t,e){Y0[t]=e}function Ze(t){return t?Y0[t]:Y0}function lA(){Y0={}}function mme(t,e,n,i){let r=Ze("__activeStagePosition");const s=r||n.getBoundingClientRect(),o=i.getBoundingClientRect(),l=Qy(t,s.x,o.x-s.x,e),c=Qy(t,s.y,o.y-s.y,e),d=Qy(t,s.width,o.width-s.width,e),f=Qy(t,s.height,o.height-s.height,e);r={x:l,y:c,width:d,height:f},Qj(r),di("__activeStagePosition",r)}function Zj(t){if(!t)return;const e=t.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height};di("__activeStagePosition",n),Qj(n)}function gme(){const t=Ze("__activeStagePosition"),e=Ze("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const n=window.innerWidth,i=window.innerHeight;e.setAttribute("viewBox",`0 0 ${n} ${i}`)}function vme(t){const e=bme(t);document.body.appendChild(e),nI(e,n=>{n.target.tagName==="path"&&nd("overlayClick")}),di("__overlaySvg",e)}function Qj(t){const e=Ze("__overlaySvg");if(!e){vme(t);return}const n=e.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",eI(t))}function bme(t){const e=window.innerWidth,n=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",eI(t)),r.style.fill=Ve("overlayColor")||"rgb(0,0,0)",r.style.opacity=`${Ve("overlayOpacity")}`,r.style.pointerEvents="auto",r.style.cursor="auto",i.appendChild(r),i}function eI(t){const e=window.innerWidth,n=window.innerHeight,i=Ve("stagePadding")||0,r=Ve("stageRadius")||0,s=t.width+i*2,o=t.height+i*2,l=Math.min(r,s/2,o/2),c=Math.floor(Math.max(l,0)),d=t.x-i+c,f=t.y-i,m=s-c*2,v=o-c*2;return`M${e},0L0,0L0,${n}L${e},${n}L${e},0Z
    M${d},${f} h${m} a${c},${c} 0 0 1 ${c},${c} v${v} a${c},${c} 0 0 1 -${c},${c} h-${m} a${c},${c} 0 0 1 -${c},-${c} v-${v} a${c},${c} 0 0 1 ${c},-${c} z`}function yme(){const t=Ze("__overlaySvg");t&&t.remove()}function wme(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function uA(t){const{element:e}=t;let n=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;n||(n=wme()),Cme(n,t)}function xme(){const t=Ze("__activeElement"),e=Ze("__activeStep");t&&(Zj(t),gme(),rI(t,e))}function Cme(t,e){var n;const i=Date.now(),r=Ze("__activeStep"),s=Ze("__activeElement")||t,o=!s||s===t,l=t.id==="driver-dummy-element",c=s.id==="driver-dummy-element",d=Ve("animate"),f=e.onHighlightStarted||Ve("onHighlightStarted"),m=(e==null?void 0:e.onHighlighted)||Ve("onHighlighted"),v=(r==null?void 0:r.onDeselected)||Ve("onDeselected"),w=Ve(),C=Ze();!o&&v&&v(c?void 0:s,r,{config:w,state:C,driver:Es()}),f&&f(l?void 0:t,e,{config:w,state:C,driver:Es()});const S=!o&&d;let _=!1;_me(),di("previousStep",r),di("previousElement",s),di("activeStep",e),di("activeElement",t);const R=()=>{if(Ze("__transitionCallback")!==R)return;const M=Date.now()-i,k=400-M<=400/2;e.popover&&k&&!_&&S&&(cA(t,e),_=!0),Ve("animate")&&M<400?mme(M,400,s,t):(Zj(t),m&&m(l?void 0:t,e,{config:Ve(),state:Ze(),driver:Es()}),di("__transitionCallback",void 0),di("__previousStep",r),di("__previousElement",s),di("__activeStep",e),di("__activeElement",t)),window.requestAnimationFrame(R)};di("__transitionCallback",R),window.requestAnimationFrame(R),Jj(t),!S&&e.popover&&cA(t,e),s.classList.remove("driver-active-element","driver-no-interaction"),s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),((n=e.disableActiveInteraction)!=null?n:Ve("disableActiveInteraction"))&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Eme(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function Gg(){const t=Ze("__resizeTimeout");t&&window.cancelAnimationFrame(t),di("__resizeTimeout",window.requestAnimationFrame(xme))}function Sme(t){var e;if(!Ze("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const n=Ze("__activeElement"),i=(e=Ze("popover"))==null?void 0:e.wrapper,r=Kj([...i?[i]:[],...n?[n]:[]]),s=r[0],o=r[r.length-1];if(t.preventDefault(),t.shiftKey){const l=r[r.indexOf(document.activeElement)-1]||o;l==null||l.focus()}else{const l=r[r.indexOf(document.activeElement)+1]||s;l==null||l.focus()}}function tI(t){var e;((e=Ve("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?nd("escapePress"):t.key==="ArrowRight"?nd("arrowRightPress"):t.key==="ArrowLeft"&&nd("arrowLeftPress"))}function nI(t,e,n){const i=(r,s)=>{const o=r.target;t.contains(o)&&((!n||n(o))&&(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()),s==null||s(r))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",r=>{i(r,e)},!0)}function Rme(){window.addEventListener("keyup",tI,!1),window.addEventListener("keydown",Sme,!1),window.addEventListener("resize",Gg),window.addEventListener("scroll",Gg)}function Tme(){window.removeEventListener("keyup",tI),window.removeEventListener("resize",Gg),window.removeEventListener("scroll",Gg)}function _me(){const t=Ze("popover");t&&(t.wrapper.style.display="none")}function cA(t,e){var n,i;let r=Ze("popover");r&&document.body.removeChild(r.wrapper),r=kme(),document.body.appendChild(r.wrapper);const{title:s,description:o,showButtons:l,disableButtons:c,showProgress:d,nextBtnText:f=Ve("nextBtnText")||"Next &rarr;",prevBtnText:m=Ve("prevBtnText")||"&larr; Previous",progressText:v=Ve("progressText")||"{current} of {total}"}=e.popover||{};r.nextButton.innerHTML=f,r.previousButton.innerHTML=m,r.progress.innerHTML=v,s?(r.title.innerHTML=s,r.title.style.display="block"):r.title.style.display="none",o?(r.description.innerHTML=o,r.description.style.display="block"):r.description.style.display="none";const w=l||Ve("showButtons"),C=d||Ve("showProgress")||!1,S=(w==null?void 0:w.includes("next"))||(w==null?void 0:w.includes("previous"))||C;r.closeButton.style.display=w.includes("close")?"block":"none",S?(r.footer.style.display="flex",r.progress.style.display=C?"block":"none",r.nextButton.style.display=w.includes("next")?"block":"none",r.previousButton.style.display=w.includes("previous")?"block":"none"):r.footer.style.display="none";const _=c||Ve("disableButtons")||[];_!=null&&_.includes("next")&&(r.nextButton.disabled=!0,r.nextButton.classList.add("driver-popover-btn-disabled")),_!=null&&_.includes("previous")&&(r.previousButton.disabled=!0,r.previousButton.classList.add("driver-popover-btn-disabled")),_!=null&&_.includes("close")&&(r.closeButton.disabled=!0,r.closeButton.classList.add("driver-popover-btn-disabled"));const R=r.wrapper;R.style.display="block",R.style.left="",R.style.top="",R.style.bottom="",R.style.right="",R.id="driver-popover-content",R.setAttribute("role","dialog"),R.setAttribute("aria-labelledby","driver-popover-title"),R.setAttribute("aria-describedby","driver-popover-description");const M=r.arrow;M.className="driver-popover-arrow";const k=((n=e.popover)==null?void 0:n.popoverClass)||Ve("popoverClass")||"";R.className=`driver-popover ${k}`.trim(),nI(r.wrapper,j=>{var B,W,z;const Q=j.target,Z=((B=e.popover)==null?void 0:B.onNextClick)||Ve("onNextClick"),ne=((W=e.popover)==null?void 0:W.onPrevClick)||Ve("onPrevClick"),H=((z=e.popover)==null?void 0:z.onCloseClick)||Ve("onCloseClick");if(Q.closest(".driver-popover-next-btn"))return Z?Z(t,e,{config:Ve(),state:Ze(),driver:Es()}):nd("nextClick");if(Q.closest(".driver-popover-prev-btn"))return ne?ne(t,e,{config:Ve(),state:Ze(),driver:Es()}):nd("prevClick");if(Q.closest(".driver-popover-close-btn"))return H?H(t,e,{config:Ve(),state:Ze(),driver:Es()}):nd("closeClick")},j=>!(r!=null&&r.description.contains(j))&&!(r!=null&&r.title.contains(j))&&typeof j.className=="string"&&j.className.includes("driver-popover")),di("popover",r);const D=((i=e.popover)==null?void 0:i.onPopoverRender)||Ve("onPopoverRender");D&&D(r,{config:Ve(),state:Ze(),driver:Es()}),rI(t,e),Jj(R);const P=t.classList.contains("driver-dummy-element"),O=Kj([R,...P?[]:[t]]);O.length>0&&O[0].focus()}function iI(){const t=Ze("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),n=Ve("stagePadding")||0,i=Ve("popoverOffset")||0;return{width:e.width+n+i,height:e.height+n+i,realWidth:e.width,realHeight:e.height}}function dA(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.top-r,window.innerHeight-i.realHeight-s.width),s.width):t==="end"?Math.max(Math.min(n.top-(i==null?void 0:i.realHeight)+n.height+r,window.innerHeight-(i==null?void 0:i.realHeight)-s.width),s.width):t==="center"?Math.max(Math.min(n.top+n.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-s.width),s.width):0}function hA(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.left-r,window.innerWidth-i.realWidth-s.width),s.width):t==="end"?Math.max(Math.min(n.left-(i==null?void 0:i.realWidth)+n.width+r,window.innerWidth-(i==null?void 0:i.realWidth)-s.width),s.width):t==="center"?Math.max(Math.min(n.left+n.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-s.width),s.width):0}function rI(t,e){const n=Ze("popover");if(!n)return;const{align:i="start",side:r="left"}=(e==null?void 0:e.popover)||{},s=i,o=t.id==="driver-dummy-element"?"over":r,l=Ve("stagePadding")||0,c=iI(),d=n.arrow.getBoundingClientRect(),f=t.getBoundingClientRect(),m=f.top-c.height;let v=m>=0;const w=window.innerHeight-(f.bottom+c.height);let C=w>=0;const S=f.left-c.width;let _=S>=0;const R=window.innerWidth-(f.right+c.width);let M=R>=0;const k=!v&&!C&&!_&&!M;let D=o;if(o==="top"&&v?M=_=C=!1:o==="bottom"&&C?M=_=v=!1:o==="left"&&_?M=v=C=!1:o==="right"&&M&&(_=v=C=!1),o==="over"){const P=window.innerWidth/2-c.realWidth/2,O=window.innerHeight/2-c.realHeight/2;n.wrapper.style.left=`${P}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${O}px`,n.wrapper.style.bottom="auto"}else if(k){const P=window.innerWidth/2-(c==null?void 0:c.realWidth)/2,O=10;n.wrapper.style.left=`${P}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${O}px`,n.wrapper.style.top="auto"}else if(_){const P=Math.min(S,window.innerWidth-(c==null?void 0:c.realWidth)-d.width),O=dA(s,{elementDimensions:f,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.left=`${P}px`,n.wrapper.style.top=`${O}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",D="left"}else if(M){const P=Math.min(R,window.innerWidth-(c==null?void 0:c.realWidth)-d.width),O=dA(s,{elementDimensions:f,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.right=`${P}px`,n.wrapper.style.top=`${O}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",D="right"}else if(v){const P=Math.min(m,window.innerHeight-c.realHeight-d.width);let O=hA(s,{elementDimensions:f,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.top=`${P}px`,n.wrapper.style.left=`${O}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",D="top"}else if(C){const P=Math.min(w,window.innerHeight-(c==null?void 0:c.realHeight)-d.width);let O=hA(s,{elementDimensions:f,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.left=`${O}px`,n.wrapper.style.bottom=`${P}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",D="bottom"}k?n.arrow.classList.add("driver-popover-arrow-none"):Ame(s,D,t)}function Ame(t,e,n){const i=Ze("popover");if(!i)return;const r=n.getBoundingClientRect(),s=iI(),o=i.arrow,l=s.width,c=window.innerWidth,d=r.width,f=r.left,m=s.height,v=window.innerHeight,w=r.top,C=r.height;o.className="driver-popover-arrow";let S=e,_=t;if(e==="top"?(f+d<=0?(S="right",_="end"):f+d-l<=0&&(S="top",_="start"),f>=c?(S="left",_="end"):f+l>=c&&(S="top",_="end")):e==="bottom"?(f+d<=0?(S="right",_="start"):f+d-l<=0&&(S="bottom",_="start"),f>=c?(S="left",_="start"):f+l>=c&&(S="bottom",_="end")):e==="left"?(w+C<=0?(S="bottom",_="end"):w+C-m<=0&&(S="left",_="start"),w>=v?(S="top",_="end"):w+m>=v&&(S="left",_="end")):e==="right"&&(w+C<=0?(S="bottom",_="start"):w+C-m<=0&&(S="right",_="start"),w>=v?(S="top",_="start"):w+m>=v&&(S="right",_="end")),!S)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${S}`),o.classList.add(`driver-popover-arrow-align-${_}`);const R=n.getBoundingClientRect(),M=o.getBoundingClientRect(),k=Ve("stagePadding")||0,D=R.left-k<window.innerWidth&&R.right+k>0&&R.top-k<window.innerHeight&&R.bottom+k>0;e==="bottom"&&D&&(M.x>R.x&&M.x+M.width<R.x+R.width?i.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${_}`),o.classList.add("driver-popover-arrow-none"),i.wrapper.style.transform=`translateY(-${k/2}px)`))}}function kme(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const r=document.createElement("button");r.type="button",r.classList.add("driver-popover-close-btn"),r.setAttribute("aria-label","Close"),r.innerHTML="&times;";const s=document.createElement("footer");s.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const l=document.createElement("span");l.classList.add("driver-popover-navigation-btns");const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-prev-btn"),c.innerHTML="&larr; Previous";const d=document.createElement("button");return d.type="button",d.classList.add("driver-popover-next-btn"),d.innerHTML="Next &rarr;",l.appendChild(c),l.appendChild(d),s.appendChild(o),s.appendChild(l),t.appendChild(r),t.appendChild(e),t.appendChild(n),t.appendChild(i),t.appendChild(s),{wrapper:t,arrow:e,title:n,description:i,footer:s,previousButton:c,nextButton:d,closeButton:r,footerButtons:l,progress:o}}function Mme(){var t;const e=Ze("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function Dme(t={}){hC(t);function e(){Ve("allowClose")&&f()}function n(){const v=Ve("overlayClickBehavior");if(Ve("allowClose")&&v==="close"){f();return}v==="nextStep"&&i()}function i(){const v=Ze("activeIndex"),w=Ve("steps")||[];if(typeof v>"u")return;const C=v+1;w[C]?d(C):f()}function r(){const v=Ze("activeIndex"),w=Ve("steps")||[];if(typeof v>"u")return;const C=v-1;w[C]?d(C):f()}function s(v){(Ve("steps")||[])[v]?d(v):f()}function o(){var v;if(Ze("__transitionCallback"))return;const w=Ze("activeIndex"),C=Ze("__activeStep"),S=Ze("__activeElement");if(typeof w>"u"||typeof C>"u"||typeof Ze("activeIndex")>"u")return;const _=((v=C.popover)==null?void 0:v.onPrevClick)||Ve("onPrevClick");if(_)return _(S,C,{config:Ve(),state:Ze(),driver:Es()});r()}function l(){var v;if(Ze("__transitionCallback"))return;const w=Ze("activeIndex"),C=Ze("__activeStep"),S=Ze("__activeElement");if(typeof w>"u"||typeof C>"u")return;const _=((v=C.popover)==null?void 0:v.onNextClick)||Ve("onNextClick");if(_)return _(S,C,{config:Ve(),state:Ze(),driver:Es()});i()}function c(){Ze("isInitialized")||(di("isInitialized",!0),document.body.classList.add("driver-active",Ve("animate")?"driver-fade":"driver-simple"),Rme(),Zy("overlayClick",n),Zy("escapePress",e),Zy("arrowLeftPress",o),Zy("arrowRightPress",l))}function d(v=0){var w,C,S,_,R,M,k,D;const P=Ve("steps");if(!P){console.error("No steps to drive through"),f();return}if(!P[v]){f();return}di("__activeOnDestroyed",document.activeElement),di("activeIndex",v);const O=P[v],j=P[v+1],B=P[v-1],W=((w=O.popover)==null?void 0:w.doneBtnText)||Ve("doneBtnText")||"Done",z=Ve("allowClose"),Q=typeof((C=O.popover)==null?void 0:C.showProgress)<"u"?(S=O.popover)==null?void 0:S.showProgress:Ve("showProgress"),Z=(((_=O.popover)==null?void 0:_.progressText)||Ve("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${v+1}`).replace("{{total}}",`${P.length}`),ne=((R=O.popover)==null?void 0:R.showButtons)||Ve("showButtons"),H=["next","previous",...z?["close"]:[]].filter(X=>!(ne!=null&&ne.length)||ne.includes(X)),Y=((M=O.popover)==null?void 0:M.onNextClick)||Ve("onNextClick"),U=((k=O.popover)==null?void 0:k.onPrevClick)||Ve("onPrevClick"),J=((D=O.popover)==null?void 0:D.onCloseClick)||Ve("onCloseClick");uA({...O,popover:{showButtons:H,nextBtnText:j?void 0:W,disableButtons:[...B?[]:["previous"]],showProgress:Q,progressText:Z,onNextClick:Y||(()=>{j?d(v+1):f()}),onPrevClick:U||(()=>{d(v-1)}),onCloseClick:J||(()=>{f()}),...(O==null?void 0:O.popover)||{}}})}function f(v=!0){const w=Ze("__activeElement"),C=Ze("__activeStep"),S=Ze("__activeOnDestroyed"),_=Ve("onDestroyStarted");if(v&&_){const k=!w||(w==null?void 0:w.id)==="driver-dummy-element";_(k?void 0:w,C,{config:Ve(),state:Ze(),driver:Es()});return}const R=(C==null?void 0:C.onDeselected)||Ve("onDeselected"),M=Ve("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),Tme(),Mme(),Eme(),yme(),dme(),lA(),w&&C){const k=w.id==="driver-dummy-element";R&&R(k?void 0:w,C,{config:Ve(),state:Ze(),driver:Es()}),M&&M(k?void 0:w,C,{config:Ve(),state:Ze(),driver:Es()})}S&&S.focus()}const m={isActive:()=>Ze("isInitialized")||!1,refresh:Gg,drive:(v=0)=>{c(),d(v)},setConfig:hC,setSteps:v=>{lA(),hC({...Ve(),steps:v})},getConfig:Ve,getState:Ze,getActiveIndex:()=>Ze("activeIndex"),isFirstStep:()=>Ze("activeIndex")===0,isLastStep:()=>{const v=Ve("steps")||[],w=Ze("activeIndex");return w!==void 0&&w===v.length-1},getActiveStep:()=>Ze("activeStep"),getActiveElement:()=>Ze("activeElement"),getPreviousElement:()=>Ze("previousElement"),getPreviousStep:()=>Ze("previousStep"),moveNext:i,movePrevious:r,moveTo:s,hasNextStep:()=>{const v=Ve("steps")||[],w=Ze("activeIndex");return w!==void 0&&!!v[w+1]},hasPreviousStep:()=>{const v=Ve("steps")||[],w=Ze("activeIndex");return w!==void 0&&!!v[w-1]},highlight:v=>{c(),uA({...v,popover:v.popover?{showButtons:[],showProgress:!1,progressText:"",...v.popover}:void 0})},destroy:()=>{f(!1)}};return cme(m),m}const fA=t=>{const e=t.onHighlightStarted,n=t.onDeselected;return{...t,onHighlightStarted:(...i)=>{var r;(r=document.querySelector("#sidebar"))==null||r.classList.add("hidden"),e==null||e(...i)},onDeselected:(...i)=>{var r;(r=document.querySelector("#sidebar"))==null||r.classList.remove("hidden"),n==null||n(...i)}}},Nme=()=>{const{showTuto:t,setShowTuto:e,modeSimulator:n,operation:i,section:r,setSection:s}=lt(),{setShowProgramTable:o}=Kr(),l=[{element:"#registerTable",popover:{title:"Register Table",description:"Here you can see how the values of the registers change in the simulation."}},{element:"#registerTable .tabulator-row:nth-child(1)",popover:{title:"Watched Section",description:'Every time a register changes it will automatically go up to the watched section. <span style="color: #009688; font-style: italic;">(You can change this in settings.)</span>'}},{element:'#registerTable .tabulator-row:nth-child(2) .tabulator-cell[tabulator-field="name"]',popover:{title:"Toggle Section",description:"If you want to pin or unpin a register you can do so by clicking on the register name."}},{element:'#registerTable .tabulator-row:nth-child(2) .tabulator-cell[tabulator-field="viewType"]',popover:{title:"Modify Type",description:"You can change the data type in which you want to view the register."}},{element:'#registerTable .tabulator-row:nth-child(2) .tabulator-cell[tabulator-field="value"]',popover:{title:"Modify Type (Shortcut)",description:`You can change the type by hovering over the cell and clicking the corresponding type key.
        <ul style="margin-top: 10px; padding-left: 20px;">
          <li><b>b:</b> binary</li>
          <li><b>h:</b> hexadecimal</li>
          <li><b>u/s:</b> signed/unsigned</li>
          <li><b>a:</b> ascii</li>
        </ul>`}},{element:'#registerTable .tabulator-row:nth-child(5) .tabulator-cell[tabulator-field="value"]',popover:{title:"Modify Value",description:'Only in configuration mode you can modify the value of the registers <span style="color: #f44336;">(Not valid for x0)</span>.'}},{element:'#registerTable .tabulator-row:nth-child(5) .tabulator-cell[tabulator-field="value"]',popover:{title:"Show diferent Type (Shortcut)",description:'You can view the display in other types <span style="color: #009688;">(while holding the key down) </span> with the same shortcuts with which you change the cell value type.'}},{element:"#closeRT",popover:{title:"Hide Table",description:"You can hide the table and show it again."}}],c=[{element:"#memoryTables",popover:{title:"Memory tables",description:"We have two memory tables, one <span style='color: #009688; font-style: italic;'>(available memory and one program memory)</span>"}},{element:"#availableMemoryTable",popover:{title:"Available Memory Table",description:"This is the memory that changes during execution, the stack pointer is managed with the x2 register."}},{element:"#availableMemoryTable .tabulator-row:nth-child(2) .tabulator-cell[tabulator-field='value0']",popover:{title:"Edit value",description:"You can edit the binary value of any memory cell"}},{element:"#availableMemoryTable .tabulator-row:nth-child(2) .tabulator-cell[tabulator-field='value0']",popover:{title:"Show diferent Type (Shortcut)",description:`You can change (while holding the key down) the type by hovering over the cell and clicking the corresponding type key.
        <ul style="margin-top: 10px; padding-left: 20px;">
          <li><b>b:</b> binary</li>
          <li><b>h:</b> hexadecimal</li>
          <li><b>u/s:</b> signed/unsigned</li>
          <li><b>a:</b> ascii</li>
        </ul>`}},{element:"#optionsAvailableMemoryTable",popover:{title:"Hide in available memory",description:"You can hide the binary section, or hide the entire table."}},{element:"#programTable",popover:{title:"Program table",description:"This is the memory table of the program that is running"},onHighlightStarted:()=>{o(!0)},onDeselected:()=>{o(!1)}},{element:'#programTable .tabulator-row:last-child .tabulator-cell[tabulator-field="address"]',popover:{title:"Pc value",description:"While you are executing the instructions you will be able to monitor the PC <span style='color: #009688; font-style: italic;'>(icon)</span>"},onHighlightStarted:()=>{o(!0)},onDeselected:()=>{o(!1)}},{element:'#programTable .tabulator-row:last-child .tabulator-cell[tabulator-field="address"]',popover:{title:"See what instruction it is",description:"If you click on the cell, the corresponding instruction will be highlighted.<span style='color: #009688; font-style: italic;'>(in the code editor)</span>"},onHighlightStarted:()=>{o(!0)},onDeselected:()=>{o(!1)}},{element:'#programTable .tabulator-row:last-child .tabulator-cell[tabulator-field="address"]',popover:{title:"Click on jump instruction",description:"If you click on a cell corresponding to a jump instruction, you will see in this same table where it jumps to."},onHighlightStarted:()=>{o(!0)},onDeselected:()=>{o(!1)}},{element:'#programTable .tabulator-row:last-child .tabulator-cell[tabulator-field="value3"]',popover:{title:"Show diferent Type (Shortcut)",description:`You can change (while holding the key down) the type by hovering over the cell and clicking the corresponding type key.
        <ul style="margin-top: 10px; padding-left: 20px;">
          <li><b>b:</b> binary</li>
          <li><b>h:</b> hexadecimal</li>
          <li><b>u/s:</b> signed/unsigned</li>
          <li><b>a:</b> ascii</li>
        </ul>`},onHighlightStarted:()=>{o(!0)},onDeselected:()=>{o(!1)}}],d=[{element:"#monaco-editor",popover:{title:"Program ",description:"Here you can see the program you are running."}},{element:".driver-first-valid-line",popover:{title:"Instruction",description:'The instruction that was executed will be highlighted, and if you click on an instruction, it will be reflected in the program memory table.  <span style="color: #009688;">program memory table. </span>"'}}],f=[{element:"#settings-section",popover:{title:"Settings ",description:"In this section you can modify simulator settings."}},{element:"#import-data",popover:{title:"Import data in tables",description:"Import data into log tables and available memory"}},{element:"#change-memory-size",popover:{title:"Change memory size",description:"You can change the size of the available memory table"}},{element:"#export-data",popover:{title:"Export data",description:"You can export data from tables"}},{element:"#custom-options",popover:{title:"Custom options",description:"During execution you can modify these options"}}],m=[{element:"#button-sidebar",popover:{title:"Sections",description:'If you hover over the icon, sections that you can visit will be displayed. <span style="color: #009688;">They change depending on whether you have already started the simulation or are still in the configuration stage. </span>'}},{element:"#simulate-auto",popover:{title:"Simulate automatically",description:'By clicking you can activate/deactivate the automatic simulation, and you can regulate the speed if you hold the hover."'}},{element:"#gemini-chat",popover:{title:"AI Chat",description:'You can ask the AI ​​questions about RISCV instructions and the simulator in general."'}}];x.useEffect(()=>{if(!t)return;t&&i==="uploadMemory"&&r==="help"&&s("settings");const v=setTimeout(()=>{const w=d.map(fA),C=f.map(fA),_=[...l,...c,...n==="graphic"?w:[],...C,...m].filter(k=>document.querySelector(k.element));if(_.length===0){e(!1);return}const R=new MutationObserver(()=>{document.querySelector(".driver-overlay")||(e(!1),R.disconnect())});R.observe(document.body,{childList:!0}),Dme({smoothScroll:!0,showProgress:!0,steps:_}).drive()},0);return()=>{clearTimeout(v),document.querySelector(".driver-overlay")}},[t,e,i,r,n,o])},Lme=()=>{const{modeSimulator:t,typeSimulator:e}=lt();return Nme(),g.jsx("div",{className:"relative flex flex-col overflow-hidden min-w-dvh h-dvh ",children:t==="graphic"?g.jsxs("div",{className:"relative flex flex-col overflow-hidden min-w-dvh h-dvh",children:[e==="monocycle"?g.jsx(Hpe,{}):g.jsx(ume,{}),g.jsx("div",{className:"relative",children:g.jsx(lce,{})})]}):g.jsx("div",{className:"relative flex w-full h-screen overflow-hidden ",children:g.jsx(Sj,{})})})},Ome=()=>(x.useEffect(()=>{vr({event:"webviewReady"})},[]),g.jsx(bV,{children:g.jsx(Lme,{})}));qI.createRoot(document.getElementById("root")).render(g.jsx(x.StrictMode,{children:g.jsx(YB,{children:g.jsx(Ome,{})})}));
